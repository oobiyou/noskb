var PM=Object.defineProperty;var TM=(r,e,t)=>e in r?PM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var OM=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Gt=(r,e,t)=>(TM(r,typeof e!="symbol"?e+"":e,t),t);var WJ=OM((os,Fl)=>{function IM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(r,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function gw(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var yw={exports:{}},bw={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){var t=["navigation","request","process","log","user","state","error","manual"],n=function(J,ue,me){for(var he=me,Be=0,We=J.length;Be<We;Be++)he=ue(he,J[Be],Be,J);return he},o=function(J,ue){return n(J,function(me,he,Be,We){return ue(he,Be,We)?me.concat(he):me},[])},i=function(J,ue){return n(J,function(me,he,Be,We){return me===!0||he===ue},!1)},a=function(J){return Object.prototype.toString.call(J)==="[object Array]"},f=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(J){var ue=[],me;for(me in J)Object.prototype.hasOwnProperty.call(J,me)&&ue.push(me);if(!f)return ue;for(var he=0,Be=c.length;he<Be;he++)Object.prototype.hasOwnProperty.call(J,c[he])&&ue.push(c[he]);return ue},m=function(J,ue){return J===void 0&&(J=1),ue===void 0&&(ue=1/0),function(me){return typeof me=="number"&&parseInt(""+me,10)===me&&me>=J&&me<=ue}},v=function(J){return typeof J=="function"||a(J)&&o(J,function(ue){return typeof ue=="function"}).length===J.length},_=function(J){return typeof J=="string"&&!!J.length},$={},k=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};$.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:_},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(J){return J===void 0||_(J)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(J){return J===void 0||_(J)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(J){return J===!0||J===!1}},enabledErrorTypes:{defaultValue:function(){return k()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(J){if(typeof J!="object"||!J)return!1;var ue=d(J),me=d(k());return!(o(ue,function(he){return i(me,he)}).length<ue.length||o(d(J),function(he){return typeof J[he]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(J){return J&&typeof J=="object"&&_(J.notify)&&_(J.sessions)&&o(d(J),function(ue){return!i(["notify","sessions"],ue)}).length===0}},autoTrackSessions:{defaultValue:function(J){return!0},message:"should be true|false",validate:function(J){return J===!0||J===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(J){return J===null||a(J)&&o(J,function(ue){return typeof ue=="string"}).length===J.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(J){return typeof J=="string"&&J.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number \u2264100",validate:function(J){return m(0,100)(J)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(",")+")",validate:function(J){return J===null||a(J)&&n(J,function(ue,me){return ue===!1?ue:i(t,me)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(J){return J===void 0||typeof J=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(J){return J===null||J&&n(d(J),function(ue,me){return ue&&i(["id","email","name"],me)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(J){return typeof J=="object"&&J!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(J){return!J||J&&n(["debug","info","warn","error"],function(ue,me){return ue&&typeof J[me]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(J){return a(J)&&J.length===o(J,function(ue){return typeof ue=="string"||ue&&typeof ue.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(J){return a(J)&&J.length===o(J,function(ue){return ue&&typeof ue=="object"&&typeof ue.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(J){return a(J)&&J.length===o(J,function(ue){return ue&&typeof ue=="object"&&typeof ue.name=="string"}).length}}};var S=function(J){for(var ue=1;ue<arguments.length;ue++){var me=arguments[ue];for(var he in me)Object.prototype.hasOwnProperty.call(me,he)&&(J[he]=me[he])}return J},A=function(J,ue){return n(J,function(me,he,Be,We){return me.concat(ue(he,Be,We))},[])};function R(){return R=Object.assign||function(J){for(var ue=1;ue<arguments.length;ue++){var me=arguments[ue];for(var he in me)Object.prototype.hasOwnProperty.call(me,he)&&(J[he]=me[he])}return J},R.apply(this,arguments)}var C=$.schema,T={releaseStage:S({},C.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:R({},C.appType,{defaultValue:function(){return"browser"}}),logger:S({},C.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?B():void 0}})},B=function(){var J={},ue=console.log;return A(["debug","info","warn","error"],function(me){var he=console[me];J[me]=typeof he=="function"?he.bind(console,"[bugsnag]"):ue.bind(console,"[bugsnag]")}),J},L=function(){function J(me,he,Be,We){We===void 0&&(We=new Date),this.type=Be,this.message=me,this.metadata=he,this.timestamp=We}var ue=J.prototype;return ue.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},J}(),j=L,V={};(function(J,ue){typeof V=="object"?V=ue():J.StackFrame=ue()})(this,function(){function J(vt){return!isNaN(parseFloat(vt))&&isFinite(vt)}function ue(vt){return vt.charAt(0).toUpperCase()+vt.substring(1)}function me(vt){return function(){return this[vt]}}var he=["isConstructor","isEval","isNative","isToplevel"],Be=["columnNumber","lineNumber"],We=["fileName","functionName","source"],Xe=["args"],pt=he.concat(Be,We,Xe);function st(vt){if(vt instanceof Object)for(var Kt=0;Kt<pt.length;Kt++)vt.hasOwnProperty(pt[Kt])&&vt[pt[Kt]]!==void 0&&this["set"+ue(pt[Kt])](vt[pt[Kt]])}st.prototype={getArgs:function(){return this.args},setArgs:function(vt){if(Object.prototype.toString.call(vt)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=vt},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(vt){if(vt instanceof st)this.evalOrigin=vt;else if(vt instanceof Object)this.evalOrigin=new st(vt);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var vt=this.getFunctionName()||"{anonymous}",Kt="("+(this.getArgs()||[]).join(",")+")",yr=this.getFileName()?"@"+this.getFileName():"",Xr=J(this.getLineNumber())?":"+this.getLineNumber():"",Tt=J(this.getColumnNumber())?":"+this.getColumnNumber():"";return vt+Kt+yr+Xr+Tt}};for(var wt=0;wt<he.length;wt++)st.prototype["get"+ue(he[wt])]=me(he[wt]),st.prototype["set"+ue(he[wt])]=function(vt){return function(Kt){this[vt]=Boolean(Kt)}}(he[wt]);for(var gt=0;gt<Be.length;gt++)st.prototype["get"+ue(Be[gt])]=me(Be[gt]),st.prototype["set"+ue(Be[gt])]=function(vt){return function(Kt){if(!J(Kt))throw new TypeError(vt+" must be a Number");this[vt]=Number(Kt)}}(Be[gt]);for(var Ot=0;Ot<We.length;Ot++)st.prototype["get"+ue(We[Ot])]=me(We[Ot]),st.prototype["set"+ue(We[Ot])]=function(vt){return function(Kt){this[vt]=String(Kt)}}(We[Ot]);return st});var Z={};(function(J,ue){typeof Z=="object"?Z=ue(V):J.ErrorStackParser=ue(J.StackFrame)})(this,function(ue){var me=/(^|@)\S+\:\d+/,he=/^\s*at .*(\S+\:\d+|\(native\))/m,Be=/^(eval@)?(\[native code\])?$/;return{parse:function(Xe){if(typeof Xe.stacktrace<"u"||typeof Xe["opera#sourceloc"]<"u")return this.parseOpera(Xe);if(Xe.stack&&Xe.stack.match(he))return this.parseV8OrIE(Xe);if(Xe.stack)return this.parseFFOrSafari(Xe);throw new Error("Cannot parse given Error object")},extractLocation:function(Xe){if(Xe.indexOf(":")===-1)return[Xe];var pt=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,st=pt.exec(Xe.replace(/[\(\)]/g,""));return[st[1],st[2]||void 0,st[3]||void 0]},parseV8OrIE:function(Xe){var pt=Xe.stack.split(`
`).filter(function(st){return!!st.match(he)},this);return pt.map(function(st){st.indexOf("(eval ")>-1&&(st=st.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var wt=st.replace(/^\s+/,"").replace(/\(eval code/g,"("),gt=wt.match(/ (\((.+):(\d+):(\d+)\)$)/);wt=gt?wt.replace(gt[0],""):wt;var Ot=wt.split(/\s+/).slice(1),vt=this.extractLocation(gt?gt[1]:Ot.pop()),Kt=Ot.join(" ")||void 0,yr=["eval","<anonymous>"].indexOf(vt[0])>-1?void 0:vt[0];return new ue({functionName:Kt,fileName:yr,lineNumber:vt[1],columnNumber:vt[2],source:st})},this)},parseFFOrSafari:function(Xe){var pt=Xe.stack.split(`
`).filter(function(st){return!st.match(Be)},this);return pt.map(function(st){if(st.indexOf(" > eval")>-1&&(st=st.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),st.indexOf("@")===-1&&st.indexOf(":")===-1)return new ue({functionName:st});var wt=/((.*".+"[^@]*)?[^@]*)(?:@)/,gt=st.match(wt),Ot=gt&&gt[1]?gt[1]:void 0,vt=this.extractLocation(st.replace(wt,""));return new ue({functionName:Ot,fileName:vt[0],lineNumber:vt[1],columnNumber:vt[2],source:st})},this)},parseOpera:function(Xe){return!Xe.stacktrace||Xe.message.indexOf(`
`)>-1&&Xe.message.split(`
`).length>Xe.stacktrace.split(`
`).length?this.parseOpera9(Xe):Xe.stack?this.parseOpera11(Xe):this.parseOpera10(Xe)},parseOpera9:function(Xe){for(var pt=/Line (\d+).*script (?:in )?(\S+)/i,st=Xe.message.split(`
`),wt=[],gt=2,Ot=st.length;gt<Ot;gt+=2){var vt=pt.exec(st[gt]);vt&&wt.push(new ue({fileName:vt[2],lineNumber:vt[1],source:st[gt]}))}return wt},parseOpera10:function(Xe){for(var pt=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,st=Xe.stacktrace.split(`
`),wt=[],gt=0,Ot=st.length;gt<Ot;gt+=2){var vt=pt.exec(st[gt]);vt&&wt.push(new ue({functionName:vt[3]||void 0,fileName:vt[2],lineNumber:vt[1],source:st[gt]}))}return wt},parseOpera11:function(Xe){var pt=Xe.stack.split(`
`).filter(function(st){return!!st.match(me)&&!st.match(/^Error created at/)},this);return pt.map(function(st){var wt=st.split("@"),gt=this.extractLocation(wt.pop()),Ot=wt.shift()||"",vt=Ot.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,Kt;Ot.match(/\(([^\)]*)\)/)&&(Kt=Ot.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var yr=Kt===void 0||Kt==="[arguments not available]"?void 0:Kt.split(",");return new ue({functionName:vt,args:yr,fileName:gt[0],lineNumber:gt[1],columnNumber:gt[2],source:st})},this)}}});var Q=Z,ne=function(J,ue,me,he){var Be=he&&he.redactedKeys?he.redactedKeys:[],We=he&&he.redactedPaths?he.redactedPaths:[];return JSON.stringify(E(J,Be,We),ue,me)},w=20,s=25e3,u=8,h="...";function p(J){return J instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(J))}function g(J){return"[Throws: "+(J?J.message:"?")+"]"}function M(J,ue){for(var me=0,he=J.length;me<he;me++)if(J[me]===ue)return!0;return!1}function x(J,ue){for(var me=0,he=J.length;me<he;me++)if(ue.indexOf(J[me])===0)return!0;return!1}function y(J,ue){for(var me=0,he=J.length;me<he;me++)if(typeof J[me]=="string"&&J[me].toLowerCase()===ue.toLowerCase()||J[me]&&typeof J[me].test=="function"&&J[me].test(ue))return!0;return!1}function l(J){return Object.prototype.toString.call(J)==="[object Array]"}function b(J,ue){try{return J[ue]}catch(me){return g(me)}}function E(J,ue,me){var he=[],Be=0;function We(Xe,pt){function st(){return pt.length>u&&Be>s}if(Be++,pt.length>w||st())return h;if(Xe===null||typeof Xe!="object")return Xe;if(M(he,Xe))return"[Circular]";if(he.push(Xe),typeof Xe.toJSON=="function")try{Be--;var wt=We(Xe.toJSON(),pt);return he.pop(),wt}catch(nr){return g(nr)}var gt=p(Xe);if(gt){Be--;var Ot=We({name:Xe.name,message:Xe.message},pt);return he.pop(),Ot}if(l(Xe)){for(var vt=[],Kt=0,yr=Xe.length;Kt<yr;Kt++){if(st()){vt.push(h);break}vt.push(We(Xe[Kt],pt.concat("[]")))}return he.pop(),vt}var Xr={};try{for(var Tt in Xe)if(!!Object.prototype.hasOwnProperty.call(Xe,Tt)){if(x(me,pt.join("."))&&y(ue,Tt)){Xr[Tt]="[REDACTED]";continue}if(st()){Xr[Tt]=h;break}Xr[Tt]=We(b(Xe,Tt),pt.concat(Tt))}}catch{}return he.pop(),Xr}return We(J,[])}function P(J,ue,me,he){if(typeof me=="string"){he===void 0?he=null:he!==null&&typeof he!="string"&&(he=ne(he));var Be=ue[me];if(typeof Be=="number"){J[Be]={name:me,variant:he};return}J.push({name:me,variant:he}),ue[me]=J.length-1}}function H(J,ue,me){if(!!a(ue)){for(var he=0;he<ue.length;++he){var Be=ue[he];Be===null||typeof Be!="object"||P(J,me,Be.name,Be.variant)}return J}}function ee(J){return A(o(J,Boolean),function(ue){var me=ue.name,he=ue.variant,Be={featureFlag:me};return typeof he=="string"&&(Be.variant=he),Be})}function Y(J,ue,me){var he=ue[me];typeof he=="number"&&(J[he]=null,delete ue[me])}var re={add:P,clear:Y,merge:H,toEventApi:ee},Me=function(J){return!!J&&(!!J.stack||!!J.stacktrace||!!J["opera#sourceloc"])&&typeof(J.stack||J.stacktrace||J["opera#sourceloc"])=="string"&&J.stack!==J.name+": "+J.message},de=_e;function _e(J){switch(Object.prototype.toString.call(J)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return J instanceof Error}}var te=de,X=function(J,ue,me,he){var Be;if(!!ue){var We;if(me===null)return Ge(J,ue);typeof me=="object"&&(We=me),typeof me=="string"&&(We=(Be={},Be[me]=he,Be)),We&&(J[ue]||(J[ue]={}),J[ue]=S({},J[ue],We))}},ye=function(J,ue,me){if(typeof ue=="string"){if(!me)return J[ue];if(J[ue])return J[ue][me]}},Ge=function(J,ue,me){if(typeof ue=="string"){if(!me){delete J[ue];return}J[ue]&&delete J[ue][me]}},Pe={add:X,get:ye,clear:Ge},W={};(function(J,ue){typeof W=="object"?W=ue(V):J.StackGenerator=ue(J.StackFrame)})(this,function(J){return{backtrace:function(me){var he=[],Be=10;typeof me=="object"&&typeof me.maxStackSize=="number"&&(Be=me.maxStackSize);for(var We=arguments.callee;We&&he.length<Be&&We.arguments;){for(var Xe=new Array(We.arguments.length),pt=0;pt<Xe.length;++pt)Xe[pt]=We.arguments[pt];/function(?:\s+([\w$]+))+\s*\(/.test(We.toString())?he.push(new J({functionName:RegExp.$1||void 0,args:Xe})):he.push(new J({args:Xe}));try{We=We.caller}catch{break}}return he}}});var U=function(){function J(me,he,Be,We,Xe){Be===void 0&&(Be=[]),We===void 0&&(We=ke()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=Xe,this._handledState=We,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[xe(me,he,J.__type,Be)]}var ue=J.prototype;return ue.addMetadata=function(he,Be,We){return Pe.add(this._metadata,he,Be,We)},ue.getMetadata=function(he,Be){return Pe.get(this._metadata,he,Be)},ue.clearMetadata=function(he,Be){return Pe.clear(this._metadata,he,Be)},ue.addFeatureFlag=function(he,Be){Be===void 0&&(Be=null),re.add(this._features,this._featuresIndex,he,Be)},ue.addFeatureFlags=function(he){re.merge(this._features,he,this._featuresIndex)},ue.getFeatureFlags=function(){return re.toEventApi(this._features)},ue.clearFeatureFlag=function(he){re.clear(this._features,this._featuresIndex,he)},ue.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},ue.getUser=function(){return this._user},ue.setUser=function(he,Be,We){this._user={id:he,email:Be,name:We}},ue.toJSON=function(){return{payloadVersion:"4",exceptions:A(this.errors,function(he){return S({},he,{message:he.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},J}(),N=function(J){var ue={file:J.fileName,method:G(J.functionName),lineNumber:J.lineNumber,columnNumber:J.columnNumber,code:void 0,inProject:void 0};return ue.lineNumber>-1&&!ue.file&&!ue.method&&(ue.file="global code"),ue},G=function(J){return/^global code$/i.test(J)?"global code":J},ke=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},ge=function(J){return typeof J=="string"?J:""};function xe(J,ue,me,he){return{errorClass:ge(J),errorMessage:ge(ue),type:me,stacktrace:n(he,function(Be,We){var Xe=N(We);try{return JSON.stringify(Xe)==="{}"?Be:Be.concat(Xe)}catch{return Be}},[])}}function ot(J){return J.cause?[J].concat(ot(J.cause)):[J]}U.getStacktrace=function(J,ue,me){if(Me(J))return Q.parse(J).slice(ue);try{return o(W.backtrace(),function(he){return(he.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+me)}catch{return[]}},U.create=function(J,ue,me,he,Be,We){Be===void 0&&(Be=0);var Xe=je(J,ue,he,We),pt=Xe[0],st=Xe[1],wt;try{var gt=U.getStacktrace(pt,st>0?1+st+Be:0,1+Be);wt=new U(pt.name,pt.message,gt,me,J)}catch{wt=new U(pt.name,pt.message,[],me,J)}if(pt.name==="InvalidError"&&wt.addMetadata(""+he,"non-error parameter",Ie(J)),pt.cause){var Ot,vt=ot(pt).slice(1),Kt=A(vt,function(yr){var Xr=te(yr)&&Me(yr)?Q.parse(yr):[],Tt=je(yr,!0,"error cause"),nr=Tt[0];return nr.name==="InvalidError"&&wt.addMetadata("error cause",Ie(yr)),xe(nr.name,nr.message,U.__type,Xr)});(Ot=wt.errors).push.apply(Ot,Kt)}return wt};var Ie=function(J){return J===null?"null":J===void 0?"undefined":J},je=function(J,ue,me,he){var Be,We=0,Xe=function(pt){var st=me==="error cause"?"was":"received";he&&he.warn(me+" "+st+' a non-error: "'+pt+'"');var wt=new Error(me+" "+st+' a non-error. See "'+me+'" tab for more detail.');return wt.name="InvalidError",wt};if(!ue)te(J)?Be=J:(Be=Xe(typeof J),We+=2);else switch(typeof J){case"string":case"number":case"boolean":Be=new Error(String(J)),We+=1;break;case"function":Be=Xe("function"),We+=2;break;case"object":J!==null&&te(J)?Be=J:J!==null&&ht(J)?(Be=new Error(J.message||J.errorMessage),Be.name=J.name||J.errorClass,We+=1):(Be=Xe(J===null?"null":"unsupported object"),We+=2);break;default:Be=Xe("nothing"),We+=2}if(!Me(Be))try{throw Be}catch(pt){Me(pt)&&(Be=pt,We=1)}return[Be,We]};U.__type="browserjs";var ht=function(J){return(typeof J.name=="string"||typeof J.errorClass=="string")&&(typeof J.message=="string"||typeof J.errorMessage=="string")},De=U,ze=function(J,ue,me){var he=0,Be=function(){if(he>=J.length)return me(null,!0);ue(J[he],function(We,Xe){if(We)return me(We);if(Xe===!1)return me(null,!1);he++,Be()})};Be()},xt=function(J,ue,me,he){var Be=function(We,Xe){if(typeof We!="function")return Xe(null);try{if(We.length!==2){var pt=We(ue);return pt&&typeof pt.then=="function"?pt.then(function(st){return setTimeout(function(){return Xe(null,st)})},function(st){setTimeout(function(){return me(st),Xe(null,!0)})}):Xe(null,pt)}We(ue,function(st,wt){if(st)return me(st),Xe(null);Xe(null,wt)})}catch(st){me(st),Xe(null)}};ze(J,Be,he)},qe=function(J,ue,me,he){for(var Be=!1,We=J.slice();!Be&&We.length;)try{Be=We.pop()(ue)===!1}catch(Xe){he.error("Error occurred in "+me+" callback, continuing anyway\u2026"),he.error(Xe)}return Be},Ye=function(ue,me){var he="000000000"+ue;return he.substr(he.length-me)},St=typeof window=="object"?window:self,Ke=0;for(var we in St)Object.hasOwnProperty.call(St,we)&&Ke++;var nt=navigator.mimeTypes?navigator.mimeTypes.length:0,Ne=Ye((nt+navigator.userAgent.length).toString(36)+Ke.toString(36),4),Re=function(){return Ne},ve=0,ie=4,se=36,Ee=Math.pow(se,ie);function ce(){return Ye((Math.random()*Ee<<0).toString(se),ie)}function be(){return ve=ve<Ee?ve:0,ve++,ve-1}function Qe(){var J="c",ue=new Date().getTime().toString(se),me=Ye(be().toString(se),ie),he=Re(),Be=ce()+ce();return J+ue+me+he+Be}Qe.fingerprint=Re;var Ae=Qe,Te=function(){function J(){this.id=Ae(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var ue=J.prototype;return ue.getUser=function(){return this._user},ue.setUser=function(he,Be,We){this._user={id:he,email:Be,name:We}},ue.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},ue._track=function(he){this[he._handledState.unhandled?"_unhandled":"_handled"]+=1},J}(),it=Te,Oe=re.add,pe=re.clear,et=re.merge,Ce=function(){},He=function(){function J(me,he,Be,We){var Xe=this;he===void 0&&(he=$.schema),Be===void 0&&(Be=[]),this._notifier=We,this._config={},this._schema=he,this._delivery={sendSession:Ce,sendEvent:Ce},this._logger={debug:Ce,info:Ce,warn:Ce,error:Ce},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=J,this.Event=De,this.Breadcrumb=j,this.Session=it,this._config=this._configure(me,Be),A(Be.concat(this._config.plugins),function(wt){wt&&Xe._loadPlugin(wt)}),this._depth=1;var pt=this,st=this.notify;this.notify=function(){return st.apply(pt,arguments)}}var ue=J.prototype;return ue.addMetadata=function(he,Be,We){return Pe.add(this._metadata,he,Be,We)},ue.getMetadata=function(he,Be){return Pe.get(this._metadata,he,Be)},ue.clearMetadata=function(he,Be){return Pe.clear(this._metadata,he,Be)},ue.addFeatureFlag=function(he,Be){Be===void 0&&(Be=null),Oe(this._features,this._featuresIndex,he,Be)},ue.addFeatureFlags=function(he){et(this._features,he,this._featuresIndex)},ue.clearFeatureFlag=function(he){pe(this._features,this._featuresIndex,he)},ue.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},ue.getContext=function(){return this._context},ue.setContext=function(he){this._context=he},ue._configure=function(he,Be){var We=n(Be,function(wt,gt){return gt&&gt.configSchema?S({},wt,gt.configSchema):wt},this._schema),Xe=n(d(We),function(wt,gt){var Ot=We[gt].defaultValue(he[gt]);if(he[gt]!==void 0){var vt=We[gt].validate(he[gt]);vt?We[gt].allowPartialObject?wt.config[gt]=S(Ot,he[gt]):wt.config[gt]=he[gt]:(wt.errors[gt]=We[gt].message,wt.config[gt]=Ot)}else wt.config[gt]=Ot;return wt},{errors:{},config:{}}),pt=Xe.errors,st=Xe.config;if(We.apiKey){if(!st.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(st.apiKey)||(pt.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=S({},st.metadata),et(this._features,st.featureFlags,this._featuresIndex),this._user=S({},st.user),this._context=st.context,st.logger&&(this._logger=st.logger),st.onError&&(this._cbs.e=this._cbs.e.concat(st.onError)),st.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(st.onBreadcrumb)),st.onSession&&(this._cbs.s=this._cbs.s.concat(st.onSession)),d(pt).length&&this._logger.warn(mt(pt,he)),st},ue.getUser=function(){return this._user},ue.setUser=function(he,Be,We){this._user={id:he,email:Be,name:We}},ue._loadPlugin=function(he){var Be=he.load(this);return he.name&&(this._plugins["~"+he.name+"~"]=Be),this},ue.getPlugin=function(he){return this._plugins["~"+he+"~"]},ue._setDelivery=function(he){this._delivery=he(this)},ue.startSession=function(){var he=new it;he.app.releaseStage=this._config.releaseStage,he.app.version=this._config.appVersion,he.app.type=this._config.appType,he._user=S({},this._user);var Be=qe(this._cbs.s,he,"onSession",this._logger);return Be?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,he)},ue.addOnError=function(he,Be){Be===void 0&&(Be=!1),this._cbs.e[Be?"unshift":"push"](he)},ue.removeOnError=function(he){this._cbs.e=o(this._cbs.e,function(Be){return Be!==he})},ue._addOnSessionPayload=function(he){this._cbs.sp.push(he)},ue.addOnSession=function(he){this._cbs.s.push(he)},ue.removeOnSession=function(he){this._cbs.s=o(this._cbs.s,function(Be){return Be!==he})},ue.addOnBreadcrumb=function(he,Be){Be===void 0&&(Be=!1),this._cbs.b[Be?"unshift":"push"](he)},ue.removeOnBreadcrumb=function(he){this._cbs.b=o(this._cbs.b,function(Be){return Be!==he})},ue.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},ue.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},ue.leaveBreadcrumb=function(he,Be,We){if(he=typeof he=="string"?he:"",We=typeof We=="string"&&i(t,We)?We:"manual",Be=typeof Be=="object"&&Be!==null?Be:{},!!he){var Xe=new j(he,Be,We),pt=qe(this._cbs.b,Xe,"onBreadcrumb",this._logger);if(pt){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(Xe),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},ue._isBreadcrumbTypeEnabled=function(he){var Be=this._config.enabledBreadcrumbTypes;return Be===null||i(Be,he)},ue.notify=function(he,Be,We){We===void 0&&(We=Ce);var Xe=De.create(he,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(Xe,Be,We)},ue._notify=function(he,Be,We){var Xe=this;if(We===void 0&&(We=Ce),he.app=S({},he.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),he.context=he.context||this._context,he._metadata=S({},he._metadata,this._metadata),he._user=S({},he._user,this._user),he.breadcrumbs=this._breadcrumbs.slice(),et(he._features,this._features,he._featuresIndex),this._config.enabledReleaseStages!==null&&!i(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),We(null,he);var pt=he.severity,st=function(gt){Xe._logger.error("Error occurred in onError callback, continuing anyway\u2026"),Xe._logger.error(gt)},wt=[].concat(this._cbs.e).concat(Be);xt(wt,he,st,function(gt,Ot){if(gt&&st(gt),!Ot)return Xe._logger.debug("Event not sent due to onError callback"),We(null,he);Xe._isBreadcrumbTypeEnabled("error")&&J.prototype.leaveBreadcrumb.call(Xe,he.errors[0].errorClass,{errorClass:he.errors[0].errorClass,errorMessage:he.errors[0].errorMessage,severity:he.severity},"error"),pt!==he.severity&&(he._handledState.severityReason={type:"userCallbackSetSeverity"}),he.unhandled!==he._handledState.unhandled&&(he._handledState.severityReason.unhandledOverridden=!0,he._handledState.unhandled=he.unhandled),Xe._session&&(Xe._session._track(he),he._session=Xe._session),Xe._delivery.sendEvent({apiKey:he.apiKey||Xe._config.apiKey,notifier:Xe._notifier,events:[he]},function(vt){return We(vt,he)})})},J}(),mt=function(J,ue){var me=new Error(`Invalid configuration
`+A(d(J),function(he){return"  - "+he+" "+J[he]+", got "+Ue(ue[he])}).join(`

`));return me},Ue=function(J){switch(typeof J){case"string":case"number":case"object":return JSON.stringify(J);default:return String(J)}},Ve=He,bt={},$e=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];bt.event=function(J,ue){var me=ne(J,null,null,{redactedPaths:$e,redactedKeys:ue});if(me.length>1e6&&(J.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+me.length/1e6+`MB (limit = 1MB)
metadata was removed`},me=ne(J,null,null,{redactedPaths:$e,redactedKeys:ue}),me.length>1e6))throw new Error("payload exceeded 1MB limit");return me},bt.session=function(J,ue){var me=ne(J,null,null);if(me.length>1e6)throw new Error("payload exceeded 1MB limit");return me};var Se={};Se=function(J,ue){return ue===void 0&&(ue=window),{sendEvent:function(me,he){he===void 0&&(he=function(){});var Be=Et(J._config,"notify","4",ue),We=new ue.XDomainRequest;We.onload=function(){he(null)},We.open("POST",Be),setTimeout(function(){try{We.send(bt.event(me,J._config.redactedKeys))}catch(Xe){J._logger.error(Xe),he(Xe)}},0)},sendSession:function(me,he){he===void 0&&(he=function(){});var Be=Et(J._config,"sessions","1",ue),We=new ue.XDomainRequest;We.onload=function(){he(null)},We.open("POST",Be),setTimeout(function(){try{We.send(bt.session(me,J._config.redactedKeys))}catch(Xe){J._logger.error(Xe),he(Xe)}},0)}}};var Et=function(J,ue,me,he){var Be=JSON.parse(JSON.stringify(new Date)),We=Ze(J.endpoints[ue],he.location.protocol);return We+"?apiKey="+encodeURIComponent(J.apiKey)+"&payloadVersion="+me+"&sentAt="+encodeURIComponent(Be)},Ze=Se._matchPageProtocol=function(J,ue){return ue==="http:"?J.replace(/^https:/,"http:"):J},Je=function(J,ue){return ue===void 0&&(ue=window),{sendEvent:function(me,he){he===void 0&&(he=function(){});try{var Be=J._config.endpoints.notify,We=new ue.XMLHttpRequest;We.onreadystatechange=function(){We.readyState===ue.XMLHttpRequest.DONE&&he(null)},We.open("POST",Be),We.setRequestHeader("Content-Type","application/json"),We.setRequestHeader("Bugsnag-Api-Key",me.apiKey||J._config.apiKey),We.setRequestHeader("Bugsnag-Payload-Version","4"),We.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),We.send(bt.event(me,J._config.redactedKeys))}catch(Xe){J._logger.error(Xe)}},sendSession:function(me,he){he===void 0&&(he=function(){});try{var Be=J._config.endpoints.sessions,We=new ue.XMLHttpRequest;We.onreadystatechange=function(){We.readyState===ue.XMLHttpRequest.DONE&&he(null)},We.open("POST",Be),We.setRequestHeader("Content-Type","application/json"),We.setRequestHeader("Bugsnag-Api-Key",J._config.apiKey),We.setRequestHeader("Bugsnag-Payload-Version","1"),We.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),We.send(bt.session(me,J._config.redactedKeys))}catch(Xe){J._logger.error(Xe)}}}},Pt=new Date,Bt=function(){Pt=new Date},qt={name:"appDuration",load:function(J){return J.addOnError(function(ue){var me=new Date;ue.app.duration=me-Pt},!0),{reset:Bt}}},hr=function(J){return J===void 0&&(J=window),{load:function(ue){ue.addOnError(function(me){me.context===void 0&&(me.context=J.location.pathname)},!0)}}},Zt=function(ue,me){var he="000000000"+ue;return he.substr(he.length-me)},dr=typeof window=="object"?window:self,wr=0;for(var Mr in dr)Object.hasOwnProperty.call(dr,Mr)&&wr++;var sr=navigator.mimeTypes?navigator.mimeTypes.length:0,$r=Zt((sr+navigator.userAgent.length).toString(36)+wr.toString(36),4),xr=function(){return $r},rr=0,pr=4,or=36,mr=Math.pow(or,pr);function vr(){return Zt((Math.random()*mr<<0).toString(or),pr)}function kr(){return rr=rr<mr?rr:0,rr++,rr-1}function gr(){var J="c",ue=new Date().getTime().toString(or),me=Zt(kr().toString(or),pr),he=xr(),Be=vr()+vr();return J+ue+me+he+Be}gr.fingerprint=xr;var ar=gr,Hi="bugsnag-anonymous-id",hi=function(){try{var J=window.localStorage,ue=J.getItem(Hi);return ue&&/^c[a-z0-9]{20,32}$/.test(ue)||(ue=ar(),J.setItem(Hi,ue)),ue}catch{}},Zs=function(J,ue){return J===void 0&&(J=navigator),ue===void 0&&(ue=window.screen),{load:function(me){var he={locale:J.browserLanguage||J.systemLanguage||J.userLanguage||J.language,userAgent:J.userAgent};ue&&ue.orientation&&ue.orientation.type?he.orientation=ue.orientation.type:he.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?"landscape":"portrait",me._config.generateAnonymousId&&(he.id=hi()),me.addOnSession(function(Be){Be.device=S({},Be.device,he),me._config.collectUserIp||Wn(Be)}),me.addOnError(function(Be){Be.device=S({},Be.device,he,{time:new Date}),me._config.collectUserIp||Wn(Be)},!0)},configSchema:{generateAnonymousId:{validate:function(me){return me===!0||me===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Wn=function(J){var ue=J.getUser();(!ue||!ue.id)&&J.setUser(J.device.id)},as=function(J){return J===void 0&&(J=window),{load:function(ue){ue.addOnError(function(me){me.request&&me.request.url||(me.request=S({},me.request,{url:J.location.href}))},!0)}}},fs={load:function(J){J._sessionDelegate=Oa}},Oa={startSession:function(J,ue){var me=J;return me._session=ue,me._pausedSession=null,me._config.enabledReleaseStages!==null&&!i(me._config.enabledReleaseStages,me._config.releaseStage)?(me._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),me):(me._delivery.sendSession({notifier:me._notifier,device:ue.device,app:ue.app,sessions:[{id:ue.id,startedAt:ue.startedAt,user:ue._user}]}),me)},resumeSession:function(J){return J._session?J:J._pausedSession?(J._session=J._pausedSession,J._pausedSession=null,J):J.startSession()},pauseSession:function(J){J._pausedSession=J._session,J._session=null}},hl={load:function(J){J._config.collectUserIp||J.addOnError(function(ue){ue._user&&typeof ue._user.id>"u"&&delete ue._user.id,ue._user=S({id:"[REDACTED]"},ue._user),ue.request=S({clientIp:"[REDACTED]"},ue.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(J){return J===!0||J===!1}}}},tc={};tc.load=function(J){var ue=/^(local-)?dev(elopment)?$/.test(J._config.releaseStage);ue||!J._isBreadcrumbTypeEnabled("log")||A(dl,function(me){var he=console[me];console[me]=function(){for(var Be=arguments.length,We=new Array(Be),Xe=0;Xe<Be;Xe++)We[Xe]=arguments[Xe];J.leaveBreadcrumb("Console output",n(We,function(pt,st,wt){var gt="[Unknown value]";try{gt=String(st)}catch{}if(gt==="[object Object]")try{gt=JSON.stringify(st)}catch{}return pt["["+wt+"]"]=gt,pt},{severity:me.indexOf("group")===0?"log":me}),"log"),he.apply(console,We)},console[me]._restore=function(){console[me]=he}})};var dl=o(["log","debug","info","warn","error"],function(J){return typeof console<"u"&&typeof console[J]=="function"}),Gs=200,Ia=5e5,La=function(J,ue){return J===void 0&&(J=document),ue===void 0&&(ue=window),{load:function(me){if(!me._config.trackInlineScripts)return;var he=ue.location.href,Be="",We=!!J.attachEvent,Xe=We?J.readyState==="complete":J.readyState!=="loading",pt=function(){return J.documentElement.outerHTML};Be=pt();var st=J.onreadystatechange;J.onreadystatechange=function(){J.readyState==="interactive"&&(Be=pt(),Xe=!0);try{st.apply(this,arguments)}catch{}};var wt=null,gt=function(Tt){wt=Tt},Ot=function(){var Tt=J.currentScript||wt;if(!Tt&&!Xe){var nr=J.scripts||J.getElementsByTagName("script");Tt=nr[nr.length-1]}return Tt},vt=function(Tt){(!Xe||!Be)&&(Be=pt());var nr=["<!-- DOC START -->"].concat(Be.split(`
`)),_n=Tt-1,an=Math.max(_n-3,0),di=Math.min(_n+3,nr.length);return n(nr.slice(an,di),function(ji,yl,rd){return ji[an+1+rd]=yl.length<=Gs?yl:yl.substr(0,Gs),ji},{})};me.addOnError(function(Tt){Tt.errors[0].stacktrace=o(Tt.errors[0].stacktrace,function(di){return!/__trace__$/.test(di.method)});var nr=Tt.errors[0].stacktrace[0];if(!(nr&&nr.file&&nr.file.replace(/#.*$/,"")!==he.replace(/#.*$/,""))){var _n=Ot();if(_n){var an=_n.innerHTML;Tt.addMetadata("script","content",an.length<=Ia?an:an.substr(0,Ia)),nr&&nr.lineNumber&&(nr.code=vt(nr.lineNumber))}}},!0);var Kt=A(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(Tt){return pl(ue,Tt,function(nr){return Xr(nr,function(_n){return{get:function(){return _n[0]},replace:function(an){_n[0]=an}}})})}),yr=Kt[0];A(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(Tt){!ue[Tt]||!ue[Tt].prototype||!Object.prototype.hasOwnProperty.call(ue[Tt].prototype,"addEventListener")||(pl(ue[Tt].prototype,"addEventListener",function(nr){return Xr(nr,oo)}),pl(ue[Tt].prototype,"removeEventListener",function(nr){return Xr(nr,oo,!0)}))});function Xr(Tt,nr,_n){return _n===void 0&&(_n=!1),function(){var an=[].slice.call(arguments);try{var di=nr(an),ji=di.get();if(_n&&Tt.apply(this,an),typeof ji!="function")return Tt.apply(this,an);if(ji.__trace__)di.replace(ji.__trace__);else{var yl=Ot();ji.__trace__=function(){gt(yl),yr(function(){gt(null)},0);var CM=ji.apply(this,arguments);return gt(null),CM},ji.__trace__.__trace__=ji.__trace__,di.replace(ji.__trace__)}}catch{}if(Tt.apply)return Tt.apply(this,an);switch(an.length){case 1:return Tt(an[0]);case 2:return Tt(an[0],an[1]);default:return Tt()}}}},configSchema:{trackInlineScripts:{validate:function(me){return me===!0||me===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function pl(J,ue,me){var he=J[ue];if(!he)return he;var Be=me(he);return J[ue]=Be,he}function oo(J){var ue=!!J[1]&&typeof J[1].handleEvent=="function";return{get:function(){return ue?J[1].handleEvent:J[1]},replace:function(me){ue?J[1].handleEvent=me:J[1]=me}}}var Na=function(J){return J===void 0&&(J=window),{load:function(ue){"addEventListener"in J&&(!ue._isBreadcrumbTypeEnabled("user")||J.addEventListener("click",function(me){var he,Be;try{he=so(me.target),Be=ml(me.target,J)}catch{he="[hidden]",Be="[hidden]",ue._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}ue.leaveBreadcrumb("UI click",{targetText:he,targetSelector:Be},"user")},!0))}}},so=function(J){var ue=J.textContent||J.innerText||"";return!ue&&(J.type==="submit"||J.type==="button")&&(ue=J.value),ue=ue.replace(/^\s+|\s+$/g,""),vl(ue,140)};function ml(J,ue){var me=[J.tagName];if(J.id&&me.push("#"+J.id),J.className&&J.className.length&&me.push("."+J.className.split(" ").join(".")),!ue.document.querySelectorAll||!Array.prototype.indexOf)return me.join("");try{if(ue.document.querySelectorAll(me.join("")).length===1)return me.join("")}catch{return me.join("")}if(J.parentNode.childNodes.length>1){var he=Array.prototype.indexOf.call(J.parentNode.childNodes,J)+1;me.push(":nth-child("+he+")")}return ue.document.querySelectorAll(me.join("")).length===1?me.join(""):J.parentNode?ml(J.parentNode,ue)+" > "+me.join(""):me.join("")}function vl(J,ue){var me="(...)";return J&&J.length<=ue?J:J.slice(0,ue-me.length)+me}var Fo={};Fo=function(J){J===void 0&&(J=window);var ue={load:function(me){if("addEventListener"in J&&!!me._isBreadcrumbTypeEnabled("navigation")){var he=function(Be){return function(){return me.leaveBreadcrumb(Be,{},"navigation")}};J.addEventListener("pagehide",he("Page hidden"),!0),J.addEventListener("pageshow",he("Page shown"),!0),J.addEventListener("load",he("Page loaded"),!0),J.document.addEventListener("DOMContentLoaded",he("DOMContentLoaded"),!0),J.addEventListener("load",function(){return J.addEventListener("popstate",he("Navigated back"),!0)}),J.addEventListener("hashchange",function(Be){var We=Be.oldURL?{from:Fn(Be.oldURL,J),to:Fn(Be.newURL,J),state:Fa(J)}:{to:Fn(J.location.href,J)};me.leaveBreadcrumb("Hash changed",We,"navigation")},!0),J.history.replaceState&&gl(me,J.history,"replaceState",J),J.history.pushState&&gl(me,J.history,"pushState",J)}}};return ue};var Fn=function(J,ue){var me=ue.document.createElement("A");return me.href=J,""+me.pathname+me.search+me.hash},Da=function(J,ue,me,he){var Be=Fn(J.location.href,J);return{title:me,state:ue,prevState:Fa(J),to:he||Be,from:Be}},gl=function(J,ue,me,he){var Be=ue[me];ue[me]=function(We,Xe,pt){J.leaveBreadcrumb("History "+me,Da(he,We,Xe,pt),"navigation"),typeof J.resetEventCount=="function"&&J.resetEventCount(),J._config.autoTrackSessions&&J.startSession(),Be.apply(ue,[We,Xe].concat(pt!==void 0?pt:[]))}},Fa=function(J){try{return J.history.state}catch{}},Uo="request",wM=function(J,ue){J===void 0&&(J=[]),ue===void 0&&(ue=window);var me={load:function(he){if(!he._isBreadcrumbTypeEnabled("request"))return;var Be=[he._config.endpoints.notify,he._config.endpoints.sessions].concat(J);We(),st();function We(){if("addEventListener"in ue.XMLHttpRequest.prototype){var Ot=ue.XMLHttpRequest.prototype.open;ue.XMLHttpRequest.prototype.open=function(Kt,yr){var Xr=this,Tt=!1,nr=function(){return pt(Kt,yr)},_n=function(){return Xe(Kt,yr,Xr.status)};Tt&&(this.removeEventListener("load",_n),this.removeEventListener("error",nr)),this.addEventListener("load",_n),this.addEventListener("error",nr),Tt=!0,Ot.apply(this,arguments)}}}function Xe(Ot,vt,Kt){if(vt===void 0){he._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof vt=="string"&&i(Be,vt.replace(/\?.*$/,"")))){var yr={status:Kt,request:Ot+" "+vt};Kt>=400?he.leaveBreadcrumb("XMLHttpRequest failed",yr,Uo):he.leaveBreadcrumb("XMLHttpRequest succeeded",yr,Uo)}}function pt(Ot,vt){if(vt===void 0){he._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof vt=="string"&&i(Be,vt.replace(/\?.*$/,""))||he.leaveBreadcrumb("XMLHttpRequest error",{request:Ot+" "+vt},Uo)}function st(){if(!(!("fetch"in ue)||ue.fetch.polyfill)){var Ot=ue.fetch;ue.fetch=function(){var Kt=arguments,yr=arguments[0],Xr=arguments[1],Tt,nr=null;return yr&&typeof yr=="object"?(nr=yr.url,Xr&&"method"in Xr?Tt=Xr.method:yr&&"method"in yr&&(Tt=yr.method)):(nr=yr,Xr&&"method"in Xr&&(Tt=Xr.method)),Tt===void 0&&(Tt="GET"),new Promise(function(_n,an){Ot.apply(void 0,Kt).then(function(di){wt(di,Tt,nr),_n(di)}).catch(function(di){gt(Tt,nr),an(di)})})}}}var wt=function(Ot,vt,Kt){var yr={status:Ot.status,request:vt+" "+Kt};Ot.status>=400?he.leaveBreadcrumb("fetch() failed",yr,Uo):he.leaveBreadcrumb("fetch() succeeded",yr,Uo)},gt=function(Ot,vt){he.leaveBreadcrumb("fetch() error",{request:Ot+" "+vt},Uo)}}};return me},MM={load:function(J){var ue=0;J.addOnError(function(me){if(ue>=J._config.maxEvents)return J._logger.warn("Cancelling event send due to maxEvents per session limit of "+J._config.maxEvents+" being reached"),!1;ue++}),J.resetEventCount=function(){ue=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer \u2264100",validate:function(J){return m(1,100)(J)}}}},ed={};ed={load:function(J){J.addOnError(function(ue){var me=n(ue.errors,function(he,Be){return he.concat(Be.stacktrace)},[]);A(me,function(he){he.file=$M(he.file)})})}};var $M=ed._strip=function(J){return typeof J=="string"?J.replace(/\?.*$/,"").replace(/#.*$/,""):J},xM=function(J){return J===void 0&&(J=window),{load:function(ue){if(!ue._config.autoDetectErrors||!ue._config.enabledErrorTypes.unhandledExceptions)return;function me(Be,We,Xe,pt,st){if(Xe===0&&/Script error\.?/.test(Be))ue._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var wt={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},gt;if(st)gt=ue.Event.create(st,!0,wt,"window onerror",1),$v(gt.errors[0].stacktrace,We,Xe,pt);else if(typeof Be=="object"&&Be!==null&&(!We||typeof We!="string")&&!Xe&&!pt&&!st){var Ot=Be.type?"Event: "+Be.type:"Error",vt=Be.message||Be.detail||"";gt=ue.Event.create({name:Ot,message:vt},!0,wt,"window onerror",1),gt.originalError=Be,gt.addMetadata("window onerror",{event:Be,extraParameters:We})}else gt=ue.Event.create(Be,!0,wt,"window onerror",1),$v(gt.errors[0].stacktrace,We,Xe,pt);ue._notify(gt)}typeof he=="function"&&he.apply(this,arguments)}var he=J.onerror;J.onerror=me}}},$v=function(J,ue,me,he){J[0]||J.push({});var Be=J[0];!Be.file&&typeof ue=="string"&&(Be.file=ue),!Be.lineNumber&&td(me)&&(Be.lineNumber=me),Be.columnNumber||(td(he)?Be.columnNumber=he:window.event&&td(window.event.errorCharacter)&&(Be.columnNumber=window.event.errorCharacter))},td=function(J){return typeof J=="number"&&String.call(J)!=="NaN"},kM=function(J){J===void 0&&(J=window);var ue={load:function(me){if(!(!me._config.autoDetectErrors||!me._config.enabledErrorTypes.unhandledRejections)){var he=function(Be){var We=Be.reason,Xe=!1;try{Be.detail&&Be.detail.reason&&(We=Be.detail.reason,Xe=!0)}catch{}var pt=me.Event.create(We,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,me._logger);Xe&&A(pt.errors[0].stacktrace,SM(We)),me._notify(pt,function(st){if(te(st.originalError)&&!st.originalError.stack){var wt;st.addMetadata("unhandledRejection handler",(wt={},wt[Object.prototype.toString.call(st.originalError)]={name:st.originalError.name,message:st.originalError.message,code:st.originalError.code},wt))}})};"addEventListener"in J?J.addEventListener("unhandledrejection",he):J.onunhandledrejection=function(Be,We){he({detail:{reason:Be,promise:We}})}}}};return ue},SM=function(J){return function(ue){ue.file!==J.toString()&&ue.method&&(ue.method=ue.method.replace(/^\s+/,""))}},Ys={},EM="Bugsnag JavaScript",AM="7.17.4",BM="https://github.com/bugsnag/bugsnag-js",RM=S({},$.schema,T),Un={_client:null,createClient:function(J){typeof J=="string"&&(J={apiKey:J}),J||(J={});var ue=[qt,Zs(),hr(),as(),MM,fs,hl,ed,xM(),kM(),Fo(),Na(),wM(),tc,La()],me=new Ve(J,RM,ue,{name:EM,version:AM,url:BM});return me._setDelivery(window.XDomainRequest?Se:Je),me._logger.debug("Loaded!"),me.leaveBreadcrumb("Bugsnag loaded",{},"state"),me._config.autoTrackSessions?me.startSession():me},start:function(J){return Un._client?(Un._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Un._client):(Un._client=Un.createClient(J),Un._client)},isStarted:function(){return Un._client!=null}};return A(["resetEventCount"].concat(d(Ve.prototype)),function(J){/^_/.test(J)||(Un[J]=function(){if(!Un._client)return console.log("Bugsnag."+J+"() was called before Bugsnag.start()");Un._client._depth+=1;var ue=Un._client[J].apply(Un._client,arguments);return Un._client._depth-=1,ue})}),Ys=Un,Ys.Client=Ve,Ys.Event=De,Ys.Session=it,Ys.Breadcrumb=j,Ys.default=Un,Ys})})(bw);(function(r){r.exports=bw.exports})(yw);const _w=LM(yw.exports);var Dt={},Ph={};Ph.byteLength=FM;Ph.toByteArray=HM;Ph.fromByteArray=qM;var ho=[],gi=[],NM=typeof Uint8Array<"u"?Uint8Array:Array,nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ua=0,DM=nd.length;Ua<DM;++Ua)ho[Ua]=nd[Ua],gi[nd.charCodeAt(Ua)]=Ua;gi["-".charCodeAt(0)]=62;gi["_".charCodeAt(0)]=63;function ww(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function FM(r){var e=ww(r),t=e[0],n=e[1];return(t+n)*3/4-n}function UM(r,e,t){return(e+t)*3/4-t}function HM(r){var e,t=ww(r),n=t[0],o=t[1],i=new NM(UM(r,n,o)),a=0,f=o>0?n-4:n,c;for(c=0;c<f;c+=4)e=gi[r.charCodeAt(c)]<<18|gi[r.charCodeAt(c+1)]<<12|gi[r.charCodeAt(c+2)]<<6|gi[r.charCodeAt(c+3)],i[a++]=e>>16&255,i[a++]=e>>8&255,i[a++]=e&255;return o===2&&(e=gi[r.charCodeAt(c)]<<2|gi[r.charCodeAt(c+1)]>>4,i[a++]=e&255),o===1&&(e=gi[r.charCodeAt(c)]<<10|gi[r.charCodeAt(c+1)]<<4|gi[r.charCodeAt(c+2)]>>2,i[a++]=e>>8&255,i[a++]=e&255),i}function jM(r){return ho[r>>18&63]+ho[r>>12&63]+ho[r>>6&63]+ho[r&63]}function zM(r,e,t){for(var n,o=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(jM(n));return o.join("")}function qM(r){for(var e,t=r.length,n=t%3,o=[],i=16383,a=0,f=t-n;a<f;a+=i)o.push(zM(r,a,a+i>f?f:a+i));return n===1?(e=r[t-1],o.push(ho[e>>2]+ho[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(ho[e>>10]+ho[e>>4&63]+ho[e<<2&63]+"=")),o.join("")}var g1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g1.read=function(r,e,t,n,o){var i,a,f=o*8-n-1,c=(1<<f)-1,d=c>>1,m=-7,v=t?o-1:0,_=t?-1:1,$=r[e+v];for(v+=_,i=$&(1<<-m)-1,$>>=-m,m+=f;m>0;i=i*256+r[e+v],v+=_,m-=8);for(a=i&(1<<-m)-1,i>>=-m,m+=n;m>0;a=a*256+r[e+v],v+=_,m-=8);if(i===0)i=1-d;else{if(i===c)return a?NaN:($?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-d}return($?-1:1)*a*Math.pow(2,i-n)};g1.write=function(r,e,t,n,o,i){var a,f,c,d=i*8-o-1,m=(1<<d)-1,v=m>>1,_=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=n?0:i-1,k=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,a=m):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+v>=1?e+=_/c:e+=_*Math.pow(2,1-v),e*c>=2&&(a++,c/=2),a+v>=m?(f=0,a=m):a+v>=1?(f=(e*c-1)*Math.pow(2,o),a=a+v):(f=e*Math.pow(2,v-1)*Math.pow(2,o),a=0));o>=8;r[t+$]=f&255,$+=k,f/=256,o-=8);for(a=a<<o|f,d+=o;d>0;r[t+$]=a&255,$+=k,a/=256,d-=8);r[t+$-k]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){var e=Ph,t=g1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=C,r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=i(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var W=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(W,U),W.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function a(W){if(W>o)throw new RangeError('The value "'+W+'" is invalid for option "size"');var U=new Uint8Array(W);return Object.setPrototypeOf(U,f.prototype),U}function f(W,U,N){if(typeof W=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(W)}return c(W,U,N)}f.poolSize=8192;function c(W,U,N){if(typeof W=="string")return _(W,U);if(ArrayBuffer.isView(W))return k(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(ye(W,ArrayBuffer)||W&&ye(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(W,SharedArrayBuffer)||W&&ye(W.buffer,SharedArrayBuffer)))return S(W,U,N);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=W.valueOf&&W.valueOf();if(G!=null&&G!==W)return f.from(G,U,N);var ke=A(W);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return f.from(W[Symbol.toPrimitive]("string"),U,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}f.from=function(W,U,N){return c(W,U,N)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function d(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function m(W,U,N){return d(W),W<=0?a(W):U!==void 0?typeof N=="string"?a(W).fill(U,N):a(W).fill(U):a(W)}f.alloc=function(W,U,N){return m(W,U,N)};function v(W){return d(W),a(W<0?0:R(W)|0)}f.allocUnsafe=function(W){return v(W)},f.allocUnsafeSlow=function(W){return v(W)};function _(W,U){if((typeof U!="string"||U==="")&&(U="utf8"),!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);var N=T(W,U)|0,G=a(N),ke=G.write(W,U);return ke!==N&&(G=G.slice(0,ke)),G}function $(W){for(var U=W.length<0?0:R(W.length)|0,N=a(U),G=0;G<U;G+=1)N[G]=W[G]&255;return N}function k(W){if(ye(W,Uint8Array)){var U=new Uint8Array(W);return S(U.buffer,U.byteOffset,U.byteLength)}return $(W)}function S(W,U,N){if(U<0||W.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<U+(N||0))throw new RangeError('"length" is outside of buffer bounds');var G;return U===void 0&&N===void 0?G=new Uint8Array(W):N===void 0?G=new Uint8Array(W,U):G=new Uint8Array(W,U,N),Object.setPrototypeOf(G,f.prototype),G}function A(W){if(f.isBuffer(W)){var U=R(W.length)|0,N=a(U);return N.length===0||W.copy(N,0,0,U),N}if(W.length!==void 0)return typeof W.length!="number"||Ge(W.length)?a(0):$(W);if(W.type==="Buffer"&&Array.isArray(W.data))return $(W.data)}function R(W){if(W>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return W|0}function C(W){return+W!=W&&(W=0),f.alloc(+W)}f.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==f.prototype},f.compare=function(U,N){if(ye(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),ye(N,Uint8Array)&&(N=f.from(N,N.offset,N.byteLength)),!f.isBuffer(U)||!f.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===N)return 0;for(var G=U.length,ke=N.length,ge=0,xe=Math.min(G,ke);ge<xe;++ge)if(U[ge]!==N[ge]){G=U[ge],ke=N[ge];break}return G<ke?-1:ke<G?1:0},f.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(U,N){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return f.alloc(0);var G;if(N===void 0)for(N=0,G=0;G<U.length;++G)N+=U[G].length;var ke=f.allocUnsafe(N),ge=0;for(G=0;G<U.length;++G){var xe=U[G];if(ye(xe,Uint8Array))ge+xe.length>ke.length?f.from(xe).copy(ke,ge):Uint8Array.prototype.set.call(ke,xe,ge);else if(f.isBuffer(xe))xe.copy(ke,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=xe.length}return ke};function T(W,U){if(f.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||ye(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var N=W.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&N===0)return 0;for(var ke=!1;;)switch(U){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Me(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return te(W).length;default:if(ke)return G?-1:Me(W).length;U=(""+U).toLowerCase(),ke=!0}}f.byteLength=T;function B(W,U,N){var G=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,U>>>=0,N<=U))return"";for(W||(W="utf8");;)switch(W){case"hex":return y(this,U,N);case"utf8":case"utf-8":return h(this,U,N);case"ascii":return M(this,U,N);case"latin1":case"binary":return x(this,U,N);case"base64":return u(this,U,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,U,N);default:if(G)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),G=!0}}f.prototype._isBuffer=!0;function L(W,U,N){var G=W[U];W[U]=W[N],W[N]=G}f.prototype.swap16=function(){var U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<U;N+=2)L(this,N,N+1);return this},f.prototype.swap32=function(){var U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<U;N+=4)L(this,N,N+3),L(this,N+1,N+2);return this},f.prototype.swap64=function(){var U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<U;N+=8)L(this,N,N+7),L(this,N+1,N+6),L(this,N+2,N+5),L(this,N+3,N+4);return this},f.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?h(this,0,U):B.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(U){if(!f.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:f.compare(this,U)===0},f.prototype.inspect=function(){var U="",N=r.INSPECT_MAX_BYTES;return U=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(U+=" ... "),"<Buffer "+U+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(U,N,G,ke,ge){if(ye(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),!f.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(N===void 0&&(N=0),G===void 0&&(G=U?U.length:0),ke===void 0&&(ke=0),ge===void 0&&(ge=this.length),N<0||G>U.length||ke<0||ge>this.length)throw new RangeError("out of range index");if(ke>=ge&&N>=G)return 0;if(ke>=ge)return-1;if(N>=G)return 1;if(N>>>=0,G>>>=0,ke>>>=0,ge>>>=0,this===U)return 0;for(var xe=ge-ke,ot=G-N,Ie=Math.min(xe,ot),je=this.slice(ke,ge),ht=U.slice(N,G),De=0;De<Ie;++De)if(je[De]!==ht[De]){xe=je[De],ot=ht[De];break}return xe<ot?-1:ot<xe?1:0};function j(W,U,N,G,ke){if(W.length===0)return-1;if(typeof N=="string"?(G=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,Ge(N)&&(N=ke?0:W.length-1),N<0&&(N=W.length+N),N>=W.length){if(ke)return-1;N=W.length-1}else if(N<0)if(ke)N=0;else return-1;if(typeof U=="string"&&(U=f.from(U,G)),f.isBuffer(U))return U.length===0?-1:V(W,U,N,G,ke);if(typeof U=="number")return U=U&255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(W,U,N):Uint8Array.prototype.lastIndexOf.call(W,U,N):V(W,[U],N,G,ke);throw new TypeError("val must be string, number or Buffer")}function V(W,U,N,G,ke){var ge=1,xe=W.length,ot=U.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(W.length<2||U.length<2)return-1;ge=2,xe/=2,ot/=2,N/=2}function Ie(xt,qe){return ge===1?xt[qe]:xt.readUInt16BE(qe*ge)}var je;if(ke){var ht=-1;for(je=N;je<xe;je++)if(Ie(W,je)===Ie(U,ht===-1?0:je-ht)){if(ht===-1&&(ht=je),je-ht+1===ot)return ht*ge}else ht!==-1&&(je-=je-ht),ht=-1}else for(N+ot>xe&&(N=xe-ot),je=N;je>=0;je--){for(var De=!0,ze=0;ze<ot;ze++)if(Ie(W,je+ze)!==Ie(U,ze)){De=!1;break}if(De)return je}return-1}f.prototype.includes=function(U,N,G){return this.indexOf(U,N,G)!==-1},f.prototype.indexOf=function(U,N,G){return j(this,U,N,G,!0)},f.prototype.lastIndexOf=function(U,N,G){return j(this,U,N,G,!1)};function Z(W,U,N,G){N=Number(N)||0;var ke=W.length-N;G?(G=Number(G),G>ke&&(G=ke)):G=ke;var ge=U.length;G>ge/2&&(G=ge/2);for(var xe=0;xe<G;++xe){var ot=parseInt(U.substr(xe*2,2),16);if(Ge(ot))return xe;W[N+xe]=ot}return xe}function Q(W,U,N,G){return X(Me(U,W.length-N),W,N,G)}function ne(W,U,N,G){return X(de(U),W,N,G)}function w(W,U,N,G){return X(te(U),W,N,G)}function s(W,U,N,G){return X(_e(U,W.length-N),W,N,G)}f.prototype.write=function(U,N,G,ke){if(N===void 0)ke="utf8",G=this.length,N=0;else if(G===void 0&&typeof N=="string")ke=N,G=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(G)?(G=G>>>0,ke===void 0&&(ke="utf8")):(ke=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ge=this.length-N;if((G===void 0||G>ge)&&(G=ge),U.length>0&&(G<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var xe=!1;;)switch(ke){case"hex":return Z(this,U,N,G);case"utf8":case"utf-8":return Q(this,U,N,G);case"ascii":case"latin1":case"binary":return ne(this,U,N,G);case"base64":return w(this,U,N,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,U,N,G);default:if(xe)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),xe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function u(W,U,N){return U===0&&N===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(U,N))}function h(W,U,N){N=Math.min(W.length,N);for(var G=[],ke=U;ke<N;){var ge=W[ke],xe=null,ot=ge>239?4:ge>223?3:ge>191?2:1;if(ke+ot<=N){var Ie,je,ht,De;switch(ot){case 1:ge<128&&(xe=ge);break;case 2:Ie=W[ke+1],(Ie&192)===128&&(De=(ge&31)<<6|Ie&63,De>127&&(xe=De));break;case 3:Ie=W[ke+1],je=W[ke+2],(Ie&192)===128&&(je&192)===128&&(De=(ge&15)<<12|(Ie&63)<<6|je&63,De>2047&&(De<55296||De>57343)&&(xe=De));break;case 4:Ie=W[ke+1],je=W[ke+2],ht=W[ke+3],(Ie&192)===128&&(je&192)===128&&(ht&192)===128&&(De=(ge&15)<<18|(Ie&63)<<12|(je&63)<<6|ht&63,De>65535&&De<1114112&&(xe=De))}}xe===null?(xe=65533,ot=1):xe>65535&&(xe-=65536,G.push(xe>>>10&1023|55296),xe=56320|xe&1023),G.push(xe),ke+=ot}return g(G)}var p=4096;function g(W){var U=W.length;if(U<=p)return String.fromCharCode.apply(String,W);for(var N="",G=0;G<U;)N+=String.fromCharCode.apply(String,W.slice(G,G+=p));return N}function M(W,U,N){var G="";N=Math.min(W.length,N);for(var ke=U;ke<N;++ke)G+=String.fromCharCode(W[ke]&127);return G}function x(W,U,N){var G="";N=Math.min(W.length,N);for(var ke=U;ke<N;++ke)G+=String.fromCharCode(W[ke]);return G}function y(W,U,N){var G=W.length;(!U||U<0)&&(U=0),(!N||N<0||N>G)&&(N=G);for(var ke="",ge=U;ge<N;++ge)ke+=Pe[W[ge]];return ke}function l(W,U,N){for(var G=W.slice(U,N),ke="",ge=0;ge<G.length-1;ge+=2)ke+=String.fromCharCode(G[ge]+G[ge+1]*256);return ke}f.prototype.slice=function(U,N){var G=this.length;U=~~U,N=N===void 0?G:~~N,U<0?(U+=G,U<0&&(U=0)):U>G&&(U=G),N<0?(N+=G,N<0&&(N=0)):N>G&&(N=G),N<U&&(N=U);var ke=this.subarray(U,N);return Object.setPrototypeOf(ke,f.prototype),ke};function b(W,U,N){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+U>N)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(U,N,G){U=U>>>0,N=N>>>0,G||b(U,N,this.length);for(var ke=this[U],ge=1,xe=0;++xe<N&&(ge*=256);)ke+=this[U+xe]*ge;return ke},f.prototype.readUintBE=f.prototype.readUIntBE=function(U,N,G){U=U>>>0,N=N>>>0,G||b(U,N,this.length);for(var ke=this[U+--N],ge=1;N>0&&(ge*=256);)ke+=this[U+--N]*ge;return ke},f.prototype.readUint8=f.prototype.readUInt8=function(U,N){return U=U>>>0,N||b(U,1,this.length),this[U]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(U,N){return U=U>>>0,N||b(U,2,this.length),this[U]|this[U+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(U,N){return U=U>>>0,N||b(U,2,this.length),this[U]<<8|this[U+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(U,N){return U=U>>>0,N||b(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+this[U+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(U,N){return U=U>>>0,N||b(U,4,this.length),this[U]*16777216+(this[U+1]<<16|this[U+2]<<8|this[U+3])},f.prototype.readIntLE=function(U,N,G){U=U>>>0,N=N>>>0,G||b(U,N,this.length);for(var ke=this[U],ge=1,xe=0;++xe<N&&(ge*=256);)ke+=this[U+xe]*ge;return ge*=128,ke>=ge&&(ke-=Math.pow(2,8*N)),ke},f.prototype.readIntBE=function(U,N,G){U=U>>>0,N=N>>>0,G||b(U,N,this.length);for(var ke=N,ge=1,xe=this[U+--ke];ke>0&&(ge*=256);)xe+=this[U+--ke]*ge;return ge*=128,xe>=ge&&(xe-=Math.pow(2,8*N)),xe},f.prototype.readInt8=function(U,N){return U=U>>>0,N||b(U,1,this.length),this[U]&128?(255-this[U]+1)*-1:this[U]},f.prototype.readInt16LE=function(U,N){U=U>>>0,N||b(U,2,this.length);var G=this[U]|this[U+1]<<8;return G&32768?G|4294901760:G},f.prototype.readInt16BE=function(U,N){U=U>>>0,N||b(U,2,this.length);var G=this[U+1]|this[U]<<8;return G&32768?G|4294901760:G},f.prototype.readInt32LE=function(U,N){return U=U>>>0,N||b(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},f.prototype.readInt32BE=function(U,N){return U=U>>>0,N||b(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},f.prototype.readFloatLE=function(U,N){return U=U>>>0,N||b(U,4,this.length),t.read(this,U,!0,23,4)},f.prototype.readFloatBE=function(U,N){return U=U>>>0,N||b(U,4,this.length),t.read(this,U,!1,23,4)},f.prototype.readDoubleLE=function(U,N){return U=U>>>0,N||b(U,8,this.length),t.read(this,U,!0,52,8)},f.prototype.readDoubleBE=function(U,N){return U=U>>>0,N||b(U,8,this.length),t.read(this,U,!1,52,8)};function E(W,U,N,G,ke,ge){if(!f.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>ke||U<ge)throw new RangeError('"value" argument is out of bounds');if(N+G>W.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(U,N,G,ke){if(U=+U,N=N>>>0,G=G>>>0,!ke){var ge=Math.pow(2,8*G)-1;E(this,U,N,G,ge,0)}var xe=1,ot=0;for(this[N]=U&255;++ot<G&&(xe*=256);)this[N+ot]=U/xe&255;return N+G},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(U,N,G,ke){if(U=+U,N=N>>>0,G=G>>>0,!ke){var ge=Math.pow(2,8*G)-1;E(this,U,N,G,ge,0)}var xe=G-1,ot=1;for(this[N+xe]=U&255;--xe>=0&&(ot*=256);)this[N+xe]=U/ot&255;return N+G},f.prototype.writeUint8=f.prototype.writeUInt8=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,1,255,0),this[N]=U&255,N+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,2,65535,0),this[N]=U&255,this[N+1]=U>>>8,N+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,2,65535,0),this[N]=U>>>8,this[N+1]=U&255,N+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,4,4294967295,0),this[N+3]=U>>>24,this[N+2]=U>>>16,this[N+1]=U>>>8,this[N]=U&255,N+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,4,4294967295,0),this[N]=U>>>24,this[N+1]=U>>>16,this[N+2]=U>>>8,this[N+3]=U&255,N+4},f.prototype.writeIntLE=function(U,N,G,ke){if(U=+U,N=N>>>0,!ke){var ge=Math.pow(2,8*G-1);E(this,U,N,G,ge-1,-ge)}var xe=0,ot=1,Ie=0;for(this[N]=U&255;++xe<G&&(ot*=256);)U<0&&Ie===0&&this[N+xe-1]!==0&&(Ie=1),this[N+xe]=(U/ot>>0)-Ie&255;return N+G},f.prototype.writeIntBE=function(U,N,G,ke){if(U=+U,N=N>>>0,!ke){var ge=Math.pow(2,8*G-1);E(this,U,N,G,ge-1,-ge)}var xe=G-1,ot=1,Ie=0;for(this[N+xe]=U&255;--xe>=0&&(ot*=256);)U<0&&Ie===0&&this[N+xe+1]!==0&&(Ie=1),this[N+xe]=(U/ot>>0)-Ie&255;return N+G},f.prototype.writeInt8=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,1,127,-128),U<0&&(U=255+U+1),this[N]=U&255,N+1},f.prototype.writeInt16LE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,2,32767,-32768),this[N]=U&255,this[N+1]=U>>>8,N+2},f.prototype.writeInt16BE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,2,32767,-32768),this[N]=U>>>8,this[N+1]=U&255,N+2},f.prototype.writeInt32LE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,4,2147483647,-2147483648),this[N]=U&255,this[N+1]=U>>>8,this[N+2]=U>>>16,this[N+3]=U>>>24,N+4},f.prototype.writeInt32BE=function(U,N,G){return U=+U,N=N>>>0,G||E(this,U,N,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[N]=U>>>24,this[N+1]=U>>>16,this[N+2]=U>>>8,this[N+3]=U&255,N+4};function P(W,U,N,G,ke,ge){if(N+G>W.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function H(W,U,N,G,ke){return U=+U,N=N>>>0,ke||P(W,U,N,4),t.write(W,U,N,G,23,4),N+4}f.prototype.writeFloatLE=function(U,N,G){return H(this,U,N,!0,G)},f.prototype.writeFloatBE=function(U,N,G){return H(this,U,N,!1,G)};function ee(W,U,N,G,ke){return U=+U,N=N>>>0,ke||P(W,U,N,8),t.write(W,U,N,G,52,8),N+8}f.prototype.writeDoubleLE=function(U,N,G){return ee(this,U,N,!0,G)},f.prototype.writeDoubleBE=function(U,N,G){return ee(this,U,N,!1,G)},f.prototype.copy=function(U,N,G,ke){if(!f.isBuffer(U))throw new TypeError("argument should be a Buffer");if(G||(G=0),!ke&&ke!==0&&(ke=this.length),N>=U.length&&(N=U.length),N||(N=0),ke>0&&ke<G&&(ke=G),ke===G||U.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),U.length-N<ke-G&&(ke=U.length-N+G);var ge=ke-G;return this===U&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,G,ke):Uint8Array.prototype.set.call(U,this.subarray(G,ke),N),ge},f.prototype.fill=function(U,N,G,ke){if(typeof U=="string"){if(typeof N=="string"?(ke=N,N=0,G=this.length):typeof G=="string"&&(ke=G,G=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!f.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(U.length===1){var ge=U.charCodeAt(0);(ke==="utf8"&&ge<128||ke==="latin1")&&(U=ge)}}else typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=Number(U));if(N<0||this.length<N||this.length<G)throw new RangeError("Out of range index");if(G<=N)return this;N=N>>>0,G=G===void 0?this.length:G>>>0,U||(U=0);var xe;if(typeof U=="number")for(xe=N;xe<G;++xe)this[xe]=U;else{var ot=f.isBuffer(U)?U:f.from(U,ke),Ie=ot.length;if(Ie===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(xe=0;xe<G-N;++xe)this[xe+N]=ot[xe%Ie]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function re(W){if(W=W.split("=")[0],W=W.trim().replace(Y,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Me(W,U){U=U||1/0;for(var N,G=W.length,ke=null,ge=[],xe=0;xe<G;++xe){if(N=W.charCodeAt(xe),N>55295&&N<57344){if(!ke){if(N>56319){(U-=3)>-1&&ge.push(239,191,189);continue}else if(xe+1===G){(U-=3)>-1&&ge.push(239,191,189);continue}ke=N;continue}if(N<56320){(U-=3)>-1&&ge.push(239,191,189),ke=N;continue}N=(ke-55296<<10|N-56320)+65536}else ke&&(U-=3)>-1&&ge.push(239,191,189);if(ke=null,N<128){if((U-=1)<0)break;ge.push(N)}else if(N<2048){if((U-=2)<0)break;ge.push(N>>6|192,N&63|128)}else if(N<65536){if((U-=3)<0)break;ge.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((U-=4)<0)break;ge.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ge}function de(W){for(var U=[],N=0;N<W.length;++N)U.push(W.charCodeAt(N)&255);return U}function _e(W,U){for(var N,G,ke,ge=[],xe=0;xe<W.length&&!((U-=2)<0);++xe)N=W.charCodeAt(xe),G=N>>8,ke=N%256,ge.push(ke),ge.push(G);return ge}function te(W){return e.toByteArray(re(W))}function X(W,U,N,G){for(var ke=0;ke<G&&!(ke+N>=U.length||ke>=W.length);++ke)U[ke+N]=W[ke];return ke}function ye(W,U){return W instanceof U||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===U.name}function Ge(W){return W!==W}var Pe=function(){for(var W="0123456789abcdef",U=new Array(256),N=0;N<16;++N)for(var G=N*16,ke=0;ke<16;++ke)U[G+ke]=W[N]+W[ke];return U}()})(Dt);var It={exports:{}},rn=It.exports={},lo,uo;function Mp(){throw new Error("setTimeout has not been defined")}function $p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?lo=setTimeout:lo=Mp}catch{lo=Mp}try{typeof clearTimeout=="function"?uo=clearTimeout:uo=$p}catch{uo=$p}})();function Mw(r){if(lo===setTimeout)return setTimeout(r,0);if((lo===Mp||!lo)&&setTimeout)return lo=setTimeout,setTimeout(r,0);try{return lo(r,0)}catch{try{return lo.call(null,r,0)}catch{return lo.call(this,r,0)}}}function KM(r){if(uo===clearTimeout)return clearTimeout(r);if((uo===$p||!uo)&&clearTimeout)return uo=clearTimeout,clearTimeout(r);try{return uo(r)}catch{try{return uo.call(null,r)}catch{return uo.call(this,r)}}}var zo=[],Qa=!1,oa,Ec=-1;function WM(){!Qa||!oa||(Qa=!1,oa.length?zo=oa.concat(zo):Ec=-1,zo.length&&$w())}function $w(){if(!Qa){var r=Mw(WM);Qa=!0;for(var e=zo.length;e;){for(oa=zo,zo=[];++Ec<e;)oa&&oa[Ec].run();Ec=-1,e=zo.length}oa=null,Qa=!1,KM(r)}}rn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];zo.push(new xw(r,e)),zo.length===1&&!Qa&&Mw($w)};function xw(r,e){this.fun=r,this.array=e}xw.prototype.run=function(){this.fun.apply(null,this.array)};rn.title="browser";rn.browser=!0;rn.env={};rn.argv=[];rn.version="";rn.versions={};function ns(){}rn.on=ns;rn.addListener=ns;rn.once=ns;rn.off=ns;rn.removeListener=ns;rn.removeAllListeners=ns;rn.emit=ns;rn.prependListener=ns;rn.prependOnceListener=ns;rn.listeners=function(r){return[]};rn.binding=function(r){throw new Error("process.binding is not supported")};rn.cwd=function(){return"/"};rn.chdir=function(r){throw new Error("process.chdir is not supported")};rn.umask=function(){return 0};var VM=function(r){function e(){var n=this||self;return delete r.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),Ac=VM;function Fe(){}const pu=r=>r;function Ft(r,e){for(const t in e)r[t]=e[t];return r}function ZM(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function kw(r){return r()}function xv(){return Object.create(null)}function sn(r){r.forEach(kw)}function Qr(r){return typeof r=="function"}function ft(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let rc;function hf(r,e){return rc||(rc=document.createElement("a")),rc.href=e,r===rc.href}function GM(r){return Object.keys(r).length===0}function y1(r,...e){if(r==null)return Fe;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function vo(r){let e;return y1(r,t=>e=t)(),e}function _t(r,e,t){r.$$.on_destroy.push(y1(e,t))}function Ir(r,e,t,n){if(r){const o=Sw(r,e,t,n);return r[0](o)}}function Sw(r,e,t,n){return r[1]&&n?Ft(t.ctx.slice(),r[1](n(e))):t.ctx}function Lr(r,e,t,n){if(r[2]&&n){const o=r[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(e.dirty.length,o.length);for(let f=0;f<a;f+=1)i[f]=e.dirty[f]|o[f];return i}return e.dirty|o}return e.dirty}function Nr(r,e,t,n,o,i){if(o){const a=Sw(e,t,n,i);r.p(a,o)}}function Dr(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Wr(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function kv(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function YM(r){const e={};for(const t in r)e[t]=!0;return e}function nc(r,e,t){return r.set(t),e}function JM(r){return r&&Qr(r.destroy)?r.destroy:Fe}const Ew=typeof window<"u";let Th=Ew?()=>window.performance.now():()=>Date.now(),b1=Ew?r=>requestAnimationFrame(r):Fe;const ef=new Set;function Aw(r){ef.forEach(e=>{e.c(r)||(ef.delete(e),e.f())}),ef.size!==0&&b1(Aw)}function Oh(r){let e;return ef.size===0&&b1(Aw),{promise:new Promise(t=>{ef.add(e={c:r,f:t})}),abort(){ef.delete(e)}}}function I(r,e){r.appendChild(e)}function Bw(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function XM(r){const e=K("style");return QM(Bw(r),e),e.sheet}function QM(r,e){return I(r.head||r,e),e.sheet}function F(r,e,t){r.insertBefore(e,t||null)}function D(r){r.parentNode&&r.parentNode.removeChild(r)}function yn(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function K(r){return document.createElement(r)}function yi(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Le(r){return document.createTextNode(r)}function oe(){return Le(" ")}function dt(){return Le("")}function ct(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function mu(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Ss(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function q(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function vn(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const n in e)e[n]==null?r.removeAttribute(n):n==="style"?r.style.cssText=e[n]:n==="__value"?r.value=r[n]=e[n]:t[n]&&t[n].set?r[n]=e[n]:q(r,n,e[n])}function Sv(r,e){for(const t in e)q(r,t,e[t])}function e$(r){return Array.from(r.childNodes)}function Mt(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Gc(r,e){r.value=e==null?"":e}function lr(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Rt(r,e,t){r.classList[t?"add":"remove"](e)}function Rw(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(r,t,n,e),o}function Ev(r,e){return new r(e)}const Yc=new Map;let Jc=0;function t$(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function r$(r,e){const t={stylesheet:XM(e),rules:{}};return Yc.set(r,t),t}function Xc(r,e,t,n,o,i,a,f=0){const c=16.666/n;let d=`{
`;for(let A=0;A<=1;A+=c){const R=e+(t-e)*i(A);d+=A*100+`%{${a(R,1-R)}}
`}const m=d+`100% {${a(t,1-t)}}
}`,v=`__svelte_${t$(m)}_${f}`,_=Bw(r),{stylesheet:$,rules:k}=Yc.get(_)||r$(_,r);k[v]||(k[v]=!0,$.insertRule(`@keyframes ${v} ${m}`,$.cssRules.length));const S=r.style.animation||"";return r.style.animation=`${S?`${S}, `:""}${v} ${n}ms linear ${o}ms 1 both`,Jc+=1,v}function Qc(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=t.length-n.length;o&&(r.style.animation=n.join(", "),Jc-=o,Jc||n$())}function n$(){b1(()=>{Jc||(Yc.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&D(e)}),Yc.clear())})}let Zl;function qo(r){Zl=r}function Vf(){if(!Zl)throw new Error("Function called outside component initialization");return Zl}function jr(r){Vf().$$.on_mount.push(r)}function _1(r){Vf().$$.on_destroy.push(r)}function w1(){const r=Vf();return(e,t,{cancelable:n=!1}={})=>{const o=r.$$.callbacks[e];if(o){const i=Rw(e,t,{cancelable:n});return o.slice().forEach(a=>{a.call(r,i)}),!i.defaultPrevented}return!0}}function Av(r,e){return Vf().$$.context.set(r,e),e}function df(r){return Vf().$$.context.get(r)}function Si(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Ka=[],Ct=[],Bc=[],xp=[],i$=Promise.resolve();let kp=!1;function o$(){kp||(kp=!0,i$.then(Gl))}function Nt(r){Bc.push(r)}function Sr(r){xp.push(r)}const id=new Set;let Ha=0;function Gl(){if(Ha!==0)return;const r=Zl;do{try{for(;Ha<Ka.length;){const e=Ka[Ha];Ha++,qo(e),s$(e.$$)}}catch(e){throw Ka.length=0,Ha=0,e}for(qo(null),Ka.length=0,Ha=0;Ct.length;)Ct.pop()();for(let e=0;e<Bc.length;e+=1){const t=Bc[e];id.has(t)||(id.add(t),t())}Bc.length=0}while(Ka.length);for(;xp.length;)xp.pop()();kp=!1,id.clear(),qo(r)}function s$(r){if(r.fragment!==null){r.update(),sn(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Nt)}}let bl;function M1(){return bl||(bl=Promise.resolve(),bl.then(()=>{bl=null})),bl}function ha(r,e,t){r.dispatchEvent(Rw(`${e?"intro":"outro"}${t}`))}const Rc=new Set;let po;function tt(){po={r:0,c:[],p:po}}function rt(){po.r||sn(po.c),po=po.p}function O(r,e){r&&r.i&&(Rc.delete(r),r.i(e))}function z(r,e,t,n){if(r&&r.o){if(Rc.has(r))return;Rc.add(r),po.c.push(()=>{Rc.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const $1={duration:0};function _r(r,e,t){const n={direction:"in"};let o=e(r,t,n),i=!1,a,f,c=0;function d(){a&&Qc(r,a)}function m(){const{delay:_=0,duration:$=300,easing:k=pu,tick:S=Fe,css:A}=o||$1;A&&(a=Xc(r,0,1,$,_,k,A,c++)),S(0,1);const R=Th()+_,C=R+$;f&&f.abort(),i=!0,Nt(()=>ha(r,!0,"start")),f=Oh(T=>{if(i){if(T>=C)return S(1,0),ha(r,!0,"end"),d(),i=!1;if(T>=R){const B=k((T-R)/$);S(B,1-B)}}return i})}let v=!1;return{start(){v||(v=!0,Qc(r),Qr(o)?(o=o(n),M1().then(m)):m())},invalidate(){v=!1},end(){i&&(d(),i=!1)}}}function a$(r,e,t){const n={direction:"out"};let o=e(r,t,n),i=!0,a;const f=po;f.r+=1;function c(){const{delay:d=0,duration:m=300,easing:v=pu,tick:_=Fe,css:$}=o||$1;$&&(a=Xc(r,1,0,m,d,v,$));const k=Th()+d,S=k+m;Nt(()=>ha(r,!1,"start")),Oh(A=>{if(i){if(A>=S)return _(0,1),ha(r,!1,"end"),--f.r||sn(f.c),!1;if(A>=k){const R=v((A-k)/m);_(1-R,R)}}return i})}return Qr(o)?M1().then(()=>{o=o(n),c()}):c(),{end(d){d&&o.tick&&o.tick(1,0),i&&(a&&Qc(r,a),i=!1)}}}function $i(r,e,t,n){const o={direction:"both"};let i=e(r,t,o),a=n?0:1,f=null,c=null,d=null;function m(){d&&Qc(r,d)}function v($,k){const S=$.b-a;return k*=Math.abs(S),{a,b:$.b,d:S,duration:k,start:$.start,end:$.start+k,group:$.group}}function _($){const{delay:k=0,duration:S=300,easing:A=pu,tick:R=Fe,css:C}=i||$1,T={start:Th()+k,b:$};$||(T.group=po,po.r+=1),f||c?c=T:(C&&(m(),d=Xc(r,a,$,S,k,A,C)),$&&R(0,1),f=v(T,S),Nt(()=>ha(r,$,"start")),Oh(B=>{if(c&&B>c.start&&(f=v(c,S),c=null,ha(r,f.b,"start"),C&&(m(),d=Xc(r,a,f.b,f.duration,0,A,i.css))),f){if(B>=f.end)R(a=f.b,1-a),ha(r,f.b,"end"),c||(f.b?m():--f.group.r||sn(f.group.c)),f=null;else if(B>=f.start){const L=B-f.start;a=f.a+f.d*A(L/f.duration),R(a,1-a)}}return!!(f||c)}))}return{run($){Qr(i)?M1().then(()=>{i=i(o),_($)}):_($)},end(){m(),f=c=null}}}function eh(r,e){const t=e.token={};function n(o,i,a,f){if(e.token!==t)return;e.resolved=f;let c=e.ctx;a!==void 0&&(c=c.slice(),c[a]=f);const d=o&&(e.current=o)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((v,_)=>{_!==i&&v&&(tt(),z(v,1,1,()=>{e.blocks[_]===v&&(e.blocks[_]=null)}),rt())}):e.block.d(1),d.c(),O(d,1),d.m(e.mount(),e.anchor),m=!0),e.block=d,e.blocks&&(e.blocks[i]=d),m&&Gl()}if(ZM(r)){const o=Vf();if(r.then(i=>{qo(o),n(e.then,1,e.value,i),qo(null)},i=>{if(qo(o),n(e.catch,2,e.error,i),qo(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function Cw(r,e,t){const n=e.slice(),{resolved:o}=r;r.current===r.then&&(n[r.value]=o),r.current===r.catch&&(n[r.error]=o),r.block.p(n,t)}const Pw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:Ac;function kn(r,e){z(r,1,1,()=>{e.delete(r.key)})}function Sn(r,e,t,n,o,i,a,f,c,d,m,v){let _=r.length,$=i.length,k=_;const S={};for(;k--;)S[r[k].key]=k;const A=[],R=new Map,C=new Map;for(k=$;k--;){const j=v(o,i,k),V=t(j);let Z=a.get(V);Z?n&&Z.p(j,e):(Z=d(V,j),Z.c()),R.set(V,A[k]=Z),V in S&&C.set(V,Math.abs(k-S[V]))}const T=new Set,B=new Set;function L(j){O(j,1),j.m(f,m),a.set(j.key,j),m=j.first,$--}for(;_&&$;){const j=A[$-1],V=r[_-1],Z=j.key,Q=V.key;j===V?(m=j.first,_--,$--):R.has(Q)?!a.has(Z)||T.has(Z)?L(j):B.has(Q)?_--:C.get(Z)>C.get(Q)?(B.add(Z),L(j)):(T.add(Q),_--):(c(V,a),_--)}for(;_--;){const j=r[_];R.has(j.key)||c(j,a)}for(;$;)L(A[$-1]);return A}function ai(r,e){const t={},n={},o={$$scope:1};let i=r.length;for(;i--;){const a=r[i],f=e[i];if(f){for(const c in a)c in f||(n[c]=1);for(const c in f)o[c]||(t[c]=f[c],o[c]=1);r[i]=f}else for(const c in a)o[c]=1}for(const a in n)a in t||(t[a]=void 0);return t}function th(r){return typeof r=="object"&&r!==null?r:{}}function Er(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function le(r){r&&r.c()}function ae(r,e,t,n){const{fragment:o,after_update:i}=r.$$;o&&o.m(e,t),n||Nt(()=>{const a=r.$$.on_mount.map(kw).filter(Qr);r.$$.on_destroy?r.$$.on_destroy.push(...a):sn(a),r.$$.on_mount=[]}),i.forEach(Nt)}function fe(r,e){const t=r.$$;t.fragment!==null&&(sn(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function f$(r,e){r.$$.dirty[0]===-1&&(Ka.push(r),o$(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function lt(r,e,t,n,o,i,a,f=[-1]){const c=Zl;qo(r);const d=r.$$={fragment:null,ctx:[],props:i,update:Fe,not_equal:o,bound:xv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:xv(),dirty:f,skip_bound:!1,root:e.target||c.$$.root};a&&a(d.root);let m=!1;if(d.ctx=t?t(r,e.props||{},(v,_,...$)=>{const k=$.length?$[0]:_;return d.ctx&&o(d.ctx[v],d.ctx[v]=k)&&(!d.skip_bound&&d.bound[v]&&d.bound[v](k),m&&f$(r,v)),_}):[],d.update(),m=!0,sn(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const v=e$(e.target);d.fragment&&d.fragment.l(v),v.forEach(D)}else d.fragment&&d.fragment.c();e.intro&&O(r.$$.fragment),ae(r,e.target,e.anchor,e.customElement),Gl()}qo(c)}class ut{$destroy(){fe(this,1),this.$destroy=Fe}$on(e,t){if(!Qr(t))return Fe;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!GM(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ja=[];function l$(r,e){return{subscribe:Gn(r,e).subscribe}}function Gn(r,e=Fe){let t;const n=new Set;function o(f){if(ft(r,f)&&(r=f,t)){const c=!ja.length;for(const d of n)d[1](),ja.push(d,r);if(c){for(let d=0;d<ja.length;d+=2)ja[d][0](ja[d+1]);ja.length=0}}}function i(f){o(f(r))}function a(f,c=Fe){const d=[f,c];return n.add(d),n.size===1&&(t=e(o)||Fe),f(r),()=>{n.delete(d),n.size===0&&(t(),t=null)}}return{set:o,update:i,subscribe:a}}function Xi(r,e,t){const n=!Array.isArray(r),o=n?[r]:r,i=e.length<2;return l$(t,a=>{let f=!1;const c=[];let d=0,m=Fe;const v=()=>{if(d)return;m();const $=e(n?c[0]:c,a);i?a($):m=Qr($)?$:Fe},_=o.map(($,k)=>y1($,S=>{c[k]=S,d&=~(1<<k),f&&v()},()=>{d|=1<<k}));return f=!0,v(),function(){sn(_),m()}})}const rh={},nh={};function od(r){return{...r.location,state:r.history.state,key:r.history.state&&r.history.state.key||"initial"}}function u$(r,e){const t=[];let n=od(r);return{get location(){return n},listen(o){t.push(o);const i=()=>{n=od(r),o({location:n,action:"POP"})};return r.addEventListener("popstate",i),()=>{r.removeEventListener("popstate",i);const a=t.indexOf(o);t.splice(a,1)}},navigate(o,{state:i,replace:a=!1}={}){i={...i,key:Date.now()+""};try{a?r.history.replaceState(i,null,o):r.history.pushState(i,null,o)}catch{r.location[a?"replace":"assign"](o)}n=od(r),t.forEach(f=>f({location:n,action:"PUSH"}))}}}function c$(r="/"){let e=0;const t=[{pathname:r,search:""}],n=[];return{get location(){return t[e]},addEventListener(o,i){},removeEventListener(o,i){},history:{get entries(){return t},get index(){return e},get state(){return n[e]},pushState(o,i,a){const[f,c=""]=a.split("?");e++,t.push({pathname:f,search:c}),n.push(o)},replaceState(o,i,a){const[f,c=""]=a.split("?");t[e]={pathname:f,search:c},n[e]=o}}}}const h$=Boolean(typeof window<"u"&&window.document&&window.document.createElement),Yl=u$(h$?window:c$()),{navigate:Zr}=Yl,Tw=/^:(.+)/,Bv=4,d$=3,p$=2,m$=1,v$=1;function Sp(r,e){return r.substr(0,e.length)===e}function g$(r){return r===""}function y$(r){return Tw.test(r)}function Ow(r){return r[0]==="*"}function Jl(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function sd(r){return r.replace(/(^\/+|\/+$)/g,"")}function b$(r,e){const t=r.default?0:Jl(r.path).reduce((n,o)=>(n+=Bv,g$(o)?n+=v$:y$(o)?n+=p$:Ow(o)?n-=Bv+m$:n+=d$,n),0);return{route:r,score:t,index:e}}function _$(r){return r.map(b$).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function Iw(r,e){let t,n;const[o]=e.split("?"),i=Jl(o),a=i[0]==="",f=_$(r);for(let c=0,d=f.length;c<d;c++){const m=f[c].route;let v=!1;if(m.default){n={route:m,params:{},uri:e};continue}const _=Jl(m.path),$={},k=Math.max(i.length,_.length);let S=0;for(;S<k;S++){const A=_[S],R=i[S];if(A!==void 0&&Ow(A)){const T=A==="*"?"*":A.slice(1);$[T]=i.slice(S).map(decodeURIComponent).join("/");break}if(R===void 0){v=!0;break}let C=Tw.exec(A);if(C&&!a){const T=decodeURIComponent(R);$[C[1]]=T}else if(A!==R){v=!0;break}}if(!v){t={route:m,params:$,uri:"/"+i.slice(0,S).join("/")};break}}return t||n||null}function w$(r,e){return Iw([r],e)}function ad(r,e){return r+(e?`?${e}`:"")}function M$(r,e){if(Sp(r,"/"))return r;const[t,n]=r.split("?"),[o]=e.split("?"),i=Jl(t),a=Jl(o);if(i[0]==="")return ad(o,n);if(!Sp(i[0],".")){const d=a.concat(i).join("/");return ad((o==="/"?"":"/")+d,n)}const f=a.concat(i),c=[];return f.forEach(d=>{d===".."?c.pop():d!=="."&&c.push(d)}),ad("/"+c.join("/"),n)}function Rv(r,e){return`${sd(e==="/"?r:`${sd(r)}/${sd(e)}`)}/`}function Lw(r){return!r.defaultPrevented&&r.button===0&&!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $$(r){const e=location.host;return r.host==e||r.href.indexOf(`https://${e}`)===0||r.href.indexOf(`http://${e}`)===0}function x$(r){let e;const t=r[9].default,n=Ir(t,r,r[8],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,[i]){n&&n.p&&(!e||i&256)&&Nr(n,t,o,o[8],e?Lr(t,o[8],i,null):Dr(o[8]),null)},i(o){e||(O(n,o),e=!0)},o(o){z(n,o),e=!1},d(o){n&&n.d(o)}}}function k$(r,e,t){let n,o,i,{$$slots:a={},$$scope:f}=e,{basepath:c="/"}=e,{url:d=null}=e;const m=df(rh),v=df(nh),_=Gn([]);_t(r,_,B=>t(6,o=B));const $=Gn(null);let k=!1;const S=m||Gn(d?{pathname:d}:Yl.location);_t(r,S,B=>t(5,n=B));const A=v?v.routerBase:Gn({path:c,uri:c});_t(r,A,B=>t(7,i=B));const R=Xi([A,$],([B,L])=>{if(L===null)return B;const{path:j}=B,{route:V,uri:Z}=L;return{path:V.default?j:V.path.replace(/\*.*$/,""),uri:Z}});function C(B){const{path:L}=i;let{path:j}=B;if(B._path=j,B.path=Rv(L,j),typeof window>"u"){if(k)return;const V=w$(B,n.pathname);V&&($.set(V),k=!0)}else _.update(V=>(V.push(B),V))}function T(B){_.update(L=>{const j=L.indexOf(B);return L.splice(j,1),L})}return m||(jr(()=>Yl.listen(L=>{S.set(L.location)})),Av(rh,S)),Av(nh,{activeRoute:$,base:A,routerBase:R,registerRoute:C,unregisterRoute:T}),r.$$set=B=>{"basepath"in B&&t(3,c=B.basepath),"url"in B&&t(4,d=B.url),"$$scope"in B&&t(8,f=B.$$scope)},r.$$.update=()=>{if(r.$$.dirty&128){const{path:B}=i;_.update(L=>(L.forEach(j=>j.path=Rv(B,j._path)),L))}if(r.$$.dirty&96){const B=Iw(o,n.pathname);$.set(B)}},[_,S,A,c,d,n,o,i,f,a]}class S$ extends ut{constructor(e){super(),lt(this,e,k$,x$,ft,{basepath:3,url:4})}}const E$=r=>({params:r&4,location:r&16}),Cv=r=>({params:r[2],location:r[4]});function Pv(r){let e,t,n,o;const i=[B$,A$],a=[];function f(c,d){return c[0]!==null?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function A$(r){let e;const t=r[10].default,n=Ir(t,r,r[9],Cv);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&532)&&Nr(n,t,o,o[9],e?Lr(t,o[9],i,E$):Dr(o[9]),Cv)},i(o){e||(O(n,o),e=!0)},o(o){z(n,o),e=!1},d(o){n&&n.d(o)}}}function B$(r){let e,t,n;const o=[{location:r[4]},r[2],r[3]];var i=r[0];function a(f){let c={};for(let d=0;d<o.length;d+=1)c=Ft(c,o[d]);return{props:c}}return i&&(e=Ev(i,a())),{c(){e&&le(e.$$.fragment),t=dt()},m(f,c){e&&ae(e,f,c),F(f,t,c),n=!0},p(f,c){const d=c&28?ai(o,[c&16&&{location:f[4]},c&4&&th(f[2]),c&8&&th(f[3])]):{};if(i!==(i=f[0])){if(e){tt();const m=e;z(m.$$.fragment,1,0,()=>{fe(m,1)}),rt()}i?(e=Ev(i,a()),le(e.$$.fragment),O(e.$$.fragment,1),ae(e,t.parentNode,t)):e=null}else i&&e.$set(d)},i(f){n||(e&&O(e.$$.fragment,f),n=!0)},o(f){e&&z(e.$$.fragment,f),n=!1},d(f){f&&D(t),e&&fe(e,f)}}}function R$(r){let e,t,n=r[1]!==null&&r[1].route===r[7]&&Pv(r);return{c(){n&&n.c(),e=dt()},m(o,i){n&&n.m(o,i),F(o,e,i),t=!0},p(o,[i]){o[1]!==null&&o[1].route===o[7]?n?(n.p(o,i),i&2&&O(n,1)):(n=Pv(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(tt(),z(n,1,1,()=>{n=null}),rt())},i(o){t||(O(n),t=!0)},o(o){z(n),t=!1},d(o){n&&n.d(o),o&&D(e)}}}function C$(r,e,t){let n,o,{$$slots:i={},$$scope:a}=e,{path:f=""}=e,{component:c=null}=e;const{registerRoute:d,unregisterRoute:m,activeRoute:v}=df(nh);_t(r,v,A=>t(1,n=A));const _=df(rh);_t(r,_,A=>t(4,o=A));const $={path:f,default:f===""};let k={},S={};return d($),typeof window<"u"&&_1(()=>{m($)}),r.$$set=A=>{t(13,e=Ft(Ft({},e),Wr(A))),"path"in A&&t(8,f=A.path),"component"in A&&t(0,c=A.component),"$$scope"in A&&t(9,a=A.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n&&n.route===$&&t(2,k=n.params);{const{path:A,component:R,...C}=e;t(3,S=C)}},e=Wr(e),[c,n,k,S,o,v,_,$,f,a,i]}class fn extends ut{constructor(e){super(),lt(this,e,C$,R$,ft,{path:8,component:0})}}function P$(r){let e,t,n,o;const i=r[16].default,a=Ir(i,r,r[15],null);let f=[{href:r[0]},{"aria-current":r[2]},r[1],r[6]],c={};for(let d=0;d<f.length;d+=1)c=Ft(c,f[d]);return{c(){e=K("a"),a&&a.c(),vn(e,c)},m(d,m){F(d,e,m),a&&a.m(e,null),t=!0,n||(o=ct(e,"click",r[5]),n=!0)},p(d,[m]){a&&a.p&&(!t||m&32768)&&Nr(a,i,d,d[15],t?Lr(i,d[15],m,null):Dr(d[15]),null),vn(e,c=ai(f,[(!t||m&1)&&{href:d[0]},(!t||m&4)&&{"aria-current":d[2]},m&2&&d[1],m&64&&d[6]]))},i(d){t||(O(a,d),t=!0)},o(d){z(a,d),t=!1},d(d){d&&D(e),a&&a.d(d),n=!1,o()}}}function T$(r,e,t){let n;const o=["to","replace","state","getProps"];let i=kv(e,o),a,f,{$$slots:c={},$$scope:d}=e,{to:m="#"}=e,{replace:v=!1}=e,{state:_={}}=e,{getProps:$=()=>({})}=e;const{base:k}=df(nh);_t(r,k,j=>t(14,f=j));const S=df(rh);_t(r,S,j=>t(13,a=j));const A=w1();let R,C,T,B;function L(j){if(A("click",j),Lw(j)){j.preventDefault();const V=a.pathname===R||v;Zr(R,{state:_,replace:V})}}return r.$$set=j=>{e=Ft(Ft({},e),Wr(j)),t(6,i=kv(e,o)),"to"in j&&t(7,m=j.to),"replace"in j&&t(8,v=j.replace),"state"in j&&t(9,_=j.state),"getProps"in j&&t(10,$=j.getProps),"$$scope"in j&&t(15,d=j.$$scope)},r.$$.update=()=>{r.$$.dirty&16512&&t(0,R=m==="/"?f.uri:M$(m,f.uri)),r.$$.dirty&8193&&t(11,C=Sp(a.pathname,R)),r.$$.dirty&8193&&t(12,T=R===a.pathname),r.$$.dirty&4096&&t(2,n=T?"page":void 0),r.$$.dirty&15361&&t(1,B=$({location:a,href:R,isPartiallyCurrent:C,isCurrent:T}))},[R,B,n,k,S,L,i,m,v,_,$,C,T,a,f,d,c]}class O$ extends ut{constructor(e){super(),lt(this,e,T$,P$,ft,{to:7,replace:8,state:9,getProps:10})}}function I$(r){function e(n,o){for(;o&&o.tagName!==n;)o=o.parentNode;return o}function t(n){const o=e("A",n.target);o&&o.target===""&&$$(o)&&Lw(n)&&!o.hasAttribute("noroute")&&(n.preventDefault(),Zr(o.pathname+o.search,{replace:o.hasAttribute("replace")}))}return r.addEventListener("click",t),{destroy(){r.removeEventListener("click",t)}}}function Nw(r){const e=r-1;return e*e*e+1}function Xl(r,{delay:e=0,duration:t=400,easing:n=pu}={}){const o=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*o}`}}function Qt(r,{delay:e=0,duration:t=400,easing:n=Nw,x:o=0,y:i=0,opacity:a=0}={}){const f=getComputedStyle(r),c=+f.opacity,d=f.transform==="none"?"":f.transform,m=c*(1-a);return{delay:e,duration:t,easing:n,css:(v,_)=>`
			transform: ${d} translate(${(1-v)*o}px, ${(1-v)*i}px);
			opacity: ${c-m*_}`}}function Ep(r,{delay:e=0,duration:t=400,easing:n=Nw}={}){const o=getComputedStyle(r),i=+o.opacity,a=parseFloat(o.height),f=parseFloat(o.paddingTop),c=parseFloat(o.paddingBottom),d=parseFloat(o.marginTop),m=parseFloat(o.marginBottom),v=parseFloat(o.borderTopWidth),_=parseFloat(o.borderBottomWidth);return{delay:e,duration:t,easing:n,css:$=>`overflow: hidden;opacity: ${Math.min($*20,1)*i};height: ${$*a}px;padding-top: ${$*f}px;padding-bottom: ${$*c}px;margin-top: ${$*d}px;margin-bottom: ${$*m}px;border-top-width: ${$*v}px;border-bottom-width: ${$*_}px;`}}var kt={exports:{}},ic,L$=new Uint8Array(16);function Dw(){if(!ic&&(ic=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ic))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ic(L$)}const N$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ih(r){return typeof r=="string"&&N$.test(r)}var wn=[];for(var fd=0;fd<256;++fd)wn.push((fd+256).toString(16).substr(1));function Lh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(wn[r[e+0]]+wn[r[e+1]]+wn[r[e+2]]+wn[r[e+3]]+"-"+wn[r[e+4]]+wn[r[e+5]]+"-"+wn[r[e+6]]+wn[r[e+7]]+"-"+wn[r[e+8]]+wn[r[e+9]]+"-"+wn[r[e+10]]+wn[r[e+11]]+wn[r[e+12]]+wn[r[e+13]]+wn[r[e+14]]+wn[r[e+15]]).toLowerCase();if(!Ih(t))throw TypeError("Stringified UUID is invalid");return t}var Tv,ld,ud=0,cd=0;function D$(r,e,t){var n=e&&t||0,o=e||new Array(16);r=r||{};var i=r.node||Tv,a=r.clockseq!==void 0?r.clockseq:ld;if(i==null||a==null){var f=r.random||(r.rng||Dw)();i==null&&(i=Tv=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),a==null&&(a=ld=(f[6]<<8|f[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),d=r.nsecs!==void 0?r.nsecs:cd+1,m=c-ud+(d-cd)/1e4;if(m<0&&r.clockseq===void 0&&(a=a+1&16383),(m<0||c>ud)&&r.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ud=c,cd=d,ld=a,c+=122192928e5;var v=((c&268435455)*1e4+d)%4294967296;o[n++]=v>>>24&255,o[n++]=v>>>16&255,o[n++]=v>>>8&255,o[n++]=v&255;var _=c/4294967296*1e4&268435455;o[n++]=_>>>8&255,o[n++]=_&255,o[n++]=_>>>24&15|16,o[n++]=_>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(var $=0;$<6;++$)o[n+$]=i[$];return e||Lh(o)}function Fw(r){if(!Ih(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function F$(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var U$="6ba7b810-9dad-11d1-80b4-00c04fd430c8",H$="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Uw(r,e,t){function n(o,i,a,f){if(typeof o=="string"&&(o=F$(o)),typeof i=="string"&&(i=Fw(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+o.length);if(c.set(i),c.set(o,i.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,a){f=f||0;for(var d=0;d<16;++d)a[f+d]=c[d];return a}return Lh(c)}try{n.name=r}catch{}return n.DNS=U$,n.URL=H$,n}function j$(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return z$(q$(K$(r),r.length*8))}function z$(r){for(var e=[],t=r.length*32,n="0123456789abcdef",o=0;o<t;o+=8){var i=r[o>>5]>>>o%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(a)}return e}function Hw(r){return(r+64>>>9<<4)+14+1}function q$(r,e){r[e>>5]|=128<<e%32,r[Hw(e)-1]=e;for(var t=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<r.length;a+=16){var f=t,c=n,d=o,m=i;t=Bn(t,n,o,i,r[a],7,-680876936),i=Bn(i,t,n,o,r[a+1],12,-389564586),o=Bn(o,i,t,n,r[a+2],17,606105819),n=Bn(n,o,i,t,r[a+3],22,-1044525330),t=Bn(t,n,o,i,r[a+4],7,-176418897),i=Bn(i,t,n,o,r[a+5],12,1200080426),o=Bn(o,i,t,n,r[a+6],17,-1473231341),n=Bn(n,o,i,t,r[a+7],22,-45705983),t=Bn(t,n,o,i,r[a+8],7,1770035416),i=Bn(i,t,n,o,r[a+9],12,-1958414417),o=Bn(o,i,t,n,r[a+10],17,-42063),n=Bn(n,o,i,t,r[a+11],22,-1990404162),t=Bn(t,n,o,i,r[a+12],7,1804603682),i=Bn(i,t,n,o,r[a+13],12,-40341101),o=Bn(o,i,t,n,r[a+14],17,-1502002290),n=Bn(n,o,i,t,r[a+15],22,1236535329),t=Rn(t,n,o,i,r[a+1],5,-165796510),i=Rn(i,t,n,o,r[a+6],9,-1069501632),o=Rn(o,i,t,n,r[a+11],14,643717713),n=Rn(n,o,i,t,r[a],20,-373897302),t=Rn(t,n,o,i,r[a+5],5,-701558691),i=Rn(i,t,n,o,r[a+10],9,38016083),o=Rn(o,i,t,n,r[a+15],14,-660478335),n=Rn(n,o,i,t,r[a+4],20,-405537848),t=Rn(t,n,o,i,r[a+9],5,568446438),i=Rn(i,t,n,o,r[a+14],9,-1019803690),o=Rn(o,i,t,n,r[a+3],14,-187363961),n=Rn(n,o,i,t,r[a+8],20,1163531501),t=Rn(t,n,o,i,r[a+13],5,-1444681467),i=Rn(i,t,n,o,r[a+2],9,-51403784),o=Rn(o,i,t,n,r[a+7],14,1735328473),n=Rn(n,o,i,t,r[a+12],20,-1926607734),t=Cn(t,n,o,i,r[a+5],4,-378558),i=Cn(i,t,n,o,r[a+8],11,-2022574463),o=Cn(o,i,t,n,r[a+11],16,1839030562),n=Cn(n,o,i,t,r[a+14],23,-35309556),t=Cn(t,n,o,i,r[a+1],4,-1530992060),i=Cn(i,t,n,o,r[a+4],11,1272893353),o=Cn(o,i,t,n,r[a+7],16,-155497632),n=Cn(n,o,i,t,r[a+10],23,-1094730640),t=Cn(t,n,o,i,r[a+13],4,681279174),i=Cn(i,t,n,o,r[a],11,-358537222),o=Cn(o,i,t,n,r[a+3],16,-722521979),n=Cn(n,o,i,t,r[a+6],23,76029189),t=Cn(t,n,o,i,r[a+9],4,-640364487),i=Cn(i,t,n,o,r[a+12],11,-421815835),o=Cn(o,i,t,n,r[a+15],16,530742520),n=Cn(n,o,i,t,r[a+2],23,-995338651),t=Pn(t,n,o,i,r[a],6,-198630844),i=Pn(i,t,n,o,r[a+7],10,1126891415),o=Pn(o,i,t,n,r[a+14],15,-1416354905),n=Pn(n,o,i,t,r[a+5],21,-57434055),t=Pn(t,n,o,i,r[a+12],6,1700485571),i=Pn(i,t,n,o,r[a+3],10,-1894986606),o=Pn(o,i,t,n,r[a+10],15,-1051523),n=Pn(n,o,i,t,r[a+1],21,-2054922799),t=Pn(t,n,o,i,r[a+8],6,1873313359),i=Pn(i,t,n,o,r[a+15],10,-30611744),o=Pn(o,i,t,n,r[a+6],15,-1560198380),n=Pn(n,o,i,t,r[a+13],21,1309151649),t=Pn(t,n,o,i,r[a+4],6,-145523070),i=Pn(i,t,n,o,r[a+11],10,-1120210379),o=Pn(o,i,t,n,r[a+2],15,718787259),n=Pn(n,o,i,t,r[a+9],21,-343485551),t=Es(t,f),n=Es(n,c),o=Es(o,d),i=Es(i,m)}return[t,n,o,i]}function K$(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Hw(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Es(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function W$(r,e){return r<<e|r>>>32-e}function Nh(r,e,t,n,o,i){return Es(W$(Es(Es(e,r),Es(n,i)),o),t)}function Bn(r,e,t,n,o,i,a){return Nh(e&t|~e&n,r,e,o,i,a)}function Rn(r,e,t,n,o,i,a){return Nh(e&n|t&~n,r,e,o,i,a)}function Cn(r,e,t,n,o,i,a){return Nh(e^t^n,r,e,o,i,a)}function Pn(r,e,t,n,o,i,a){return Nh(t^(e|~n),r,e,o,i,a)}var V$=Uw("v3",48,j$);const Z$=V$;function G$(r,e,t){r=r||{};var n=r.random||(r.rng||Dw)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=n[o];return e}return Lh(n)}function Y$(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function hd(r,e){return r<<e|r>>>32-e}function J$(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,a=Math.ceil(i/16),f=new Array(a),c=0;c<a;++c){for(var d=new Uint32Array(16),m=0;m<16;++m)d[m]=r[c*64+m*4]<<24|r[c*64+m*4+1]<<16|r[c*64+m*4+2]<<8|r[c*64+m*4+3];f[c]=d}f[a-1][14]=(r.length-1)*8/Math.pow(2,32),f[a-1][14]=Math.floor(f[a-1][14]),f[a-1][15]=(r.length-1)*8&4294967295;for(var v=0;v<a;++v){for(var _=new Uint32Array(80),$=0;$<16;++$)_[$]=f[v][$];for(var k=16;k<80;++k)_[k]=hd(_[k-3]^_[k-8]^_[k-14]^_[k-16],1);for(var S=t[0],A=t[1],R=t[2],C=t[3],T=t[4],B=0;B<80;++B){var L=Math.floor(B/20),j=hd(S,5)+Y$(L,A,R,C)+T+e[L]+_[B]>>>0;T=C,C=R,R=hd(A,30)>>>0,A=S,S=j}t[0]=t[0]+S>>>0,t[1]=t[1]+A>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+C>>>0,t[4]=t[4]+T>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var X$=Uw("v5",80,J$);const Q$=X$,e7="00000000-0000-0000-0000-000000000000";function t7(r){if(!Ih(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const r7=Object.freeze(Object.defineProperty({__proto__:null,v1:D$,v3:Z$,v4:G$,v5:Q$,NIL:e7,version:t7,validate:Ih,stringify:Lh,parse:Fw},Symbol.toStringTag,{value:"Module"})),n7=gw(r7);(function(r,e){(function(n,o){r.exports=o(n7)})(Jt,function(t){return function(n){var o={};function i(a){if(o[a])return o[a].exports;var f=o[a]={i:a,l:!1,exports:{}};return n[a].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=n,i.c=o,i.d=function(a,f,c){i.o(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var f=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(f,"a",f),f},i.o=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)},i.p="",i(i.s=33)}([function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=function f(c,d){return function(){for(var m=arguments.length,v=Array(m),_=0;_<m;_++)v[_]=arguments[_];return v.length>=c?d.apply(void 0,v):f(c-v.length,function(){for(var $=arguments.length,k=Array($),S=0;S<$;S++)k[S]=arguments[S];return d.apply(void 0,v.concat(k))})}};o.default=a},function(n,o,i){var a=i(2),f=i(5);function c(d){return function m(v,_){switch(arguments.length){case 0:return m;case 1:return f(v)?m:a(function($){return d(v,$)});default:return f(v)&&f(_)?m:f(v)?a(function($){return d($,_)}):f(_)?a(function($){return d(v,$)}):d(v,_)}}}n.exports=c},function(n,o,i){var a=i(5);function f(c){return function d(m){return arguments.length===0||a(m)?d:c.apply(this,arguments)}}n.exports=f},function(n,o,i){var a=i(1),f=a(function(d,m){return m instanceof d||m!=null&&(m.constructor===d||d.name==="Object"&&typeof m=="object")});n.exports=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a.replace(/[-_ ]+/g,"_").replace(/(^_)_*([A-Z][a-z]+)/g,"$1_$2").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}},function(n,o){function i(a){return a!=null&&typeof a=="object"&&a["@@functional/placeholder"]===!0}n.exports=i},function(n,o){n.exports=Number.isInteger||function(a){return a<<0===a}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m,v){var _={};for(var $ in v)_[d($)]=m(v[$]);return _})},function(n,o,i){var a=i(2),f=i(9),c=i(44),d=!{toString:null}.propertyIsEnumerable("toString"),m=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],v=function(){return arguments.propertyIsEnumerable("length")}(),_=function(S,A){for(var R=0;R<S.length;){if(S[R]===A)return!0;R+=1}return!1},$=a(typeof Object.keys=="function"&&!v?function(S){return Object(S)!==S?[]:Object.keys(S)}:function(S){if(Object(S)!==S)return[];var A,R,C=[],T=v&&c(S);for(A in S)f(A,S)&&(!T||A!=="length")&&(C[C.length]=A);if(d)for(R=m.length-1;R>=0;)A=m[R],f(A,S)&&!_(C,A)&&(C[C.length]=A),R-=1;return C});n.exports=$},function(n,o){function i(a,f){return Object.prototype.hasOwnProperty.call(f,a)}n.exports=i},function(n,o,i){var a=i(1),f=i(18),c=a(function(m,v){var _=m<0?v.length+m:m;return f(v)?v.charAt(_):v[_]});n.exports=c},function(n,o){n.exports=Array.isArray||function(a){return a!=null&&a.length>=0&&Object.prototype.toString.call(a)==="[object Array]"}},function(n,o){function i(a,f){switch(a){case 0:return function(){return f.apply(this,arguments)};case 1:return function(c){return f.apply(this,arguments)};case 2:return function(c,d){return f.apply(this,arguments)};case 3:return function(c,d,m){return f.apply(this,arguments)};case 4:return function(c,d,m,v){return f.apply(this,arguments)};case 5:return function(c,d,m,v,_){return f.apply(this,arguments)};case 6:return function(c,d,m,v,_,$){return f.apply(this,arguments)};case 7:return function(c,d,m,v,_,$,k){return f.apply(this,arguments)};case 8:return function(c,d,m,v,_,$,k,S){return f.apply(this,arguments)};case 9:return function(c,d,m,v,_,$,k,S,A){return f.apply(this,arguments)};case 10:return function(c,d,m,v,_,$,k,S,A,R){return f.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}n.exports=i},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function m(v,_){var $=[],k=!0,S=!1,A=void 0;try{for(var R=v[Symbol.iterator](),C;!(k=(C=R.next()).done)&&($.push(C.value),!(_&&$.length===_));k=!0);}catch(T){S=!0,A=T}finally{try{!k&&R.return&&R.return()}finally{if(S)throw A}}return $}return function(v,_){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return m(v,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=i(0),c=d(f);function d(m){return m&&m.__esModule?m:{default:m}}o.default=(0,c.default)(2,function(m,v){for(var _=Object.entries(v),$=0;$<_.length;$++){var k=a(_[$],2),S=k[0],A=k[1];if(m(A,S))return[S,A]}})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(81),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return(0,f.default)("constructor",d)===Object}},function(n,o,i){var a=i(1),f=i(87),c=a(function(m,v){return f([m],v)[0]});n.exports=c},function(n,o,i){var a=i(24),f=i(9),c=i(6),d=i(88),m=i(89),v=a(function _($,k,S){if($.length===0)return k;var A=$[0];if($.length>1){var R=!m(S)&&f(A,S)?S[A]:c($[1])?[]:{};k=_(Array.prototype.slice.call($,1),k,R)}return d(A,k,S)});n.exports=v},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function(v){for(var _=1;_<arguments.length;_++){var $=arguments[_];for(var k in $)Object.prototype.hasOwnProperty.call($,k)&&(v[k]=$[k])}return v},f=i(0),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,_,$){return _ in v?Object.defineProperty(v,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):v[_]=$,v}o.default=(0,c.default)(3,function(v,_,$){return a({},$,m({},_,$[v]))})},function(n,o){function i(a){return Object.prototype.toString.call(a)==="[object String]"}n.exports=i},function(n,o,i){var a=i(1),f=i(56),c=i(58),d=i(20),m=i(62),v=i(64),_=i(8),$=a(f(["fantasy-land/map","map"],m,function(S,A){switch(Object.prototype.toString.call(A)){case"[object Function]":return v(A.length,function(){return S.call(this,A.apply(this,arguments))});case"[object Object]":return d(function(R,C){return R[C]=S(A[C]),R},{},_(A));default:return c(S,A)}}));n.exports=$},function(n,o,i){var a=i(59),f=i(60),c=i(61);function d(k,S,A){for(var R=0,C=A.length;R<C;){if(S=k["@@transducer/step"](S,A[R]),S&&S["@@transducer/reduced"]){S=S["@@transducer/value"];break}R+=1}return k["@@transducer/result"](S)}function m(k,S,A){for(var R=A.next();!R.done;){if(S=k["@@transducer/step"](S,R.value),S&&S["@@transducer/reduced"]){S=S["@@transducer/value"];break}R=A.next()}return k["@@transducer/result"](S)}function v(k,S,A,R){return k["@@transducer/result"](A[R](c(k["@@transducer/step"],k),S))}var _=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function $(k,S,A){if(typeof k=="function"&&(k=f(k)),a(A))return d(k,S,A);if(typeof A["fantasy-land/reduce"]=="function")return v(k,S,A,"fantasy-land/reduce");if(A[_]!=null)return m(k,S,A[_]());if(typeof A.next=="function")return m(k,S,A);if(typeof A.reduce=="function")return v(k,S,A,"reduce");throw new TypeError("reduce: list must be array or iterable")}n.exports=$},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a={then:function(){return a},catch:function(){return a}};o.default=a},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(7),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(2,function(v,_){return(0,d.default)(function($){return $},v,_)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(15),f=k(a),c=i(16),d=k(c),m=i(25),v=k(m),_=i(0),$=k(_);function k(S){return S&&S.__esModule?S:{default:S}}o.default=(0,$.default)(3,function(S,A,R){return(0,d.default)(S,(0,v.default)((0,f.default)(S,R),A),R)})},function(n,o,i){var a=i(2),f=i(1),c=i(5);function d(m){return function v(_,$,k){switch(arguments.length){case 0:return v;case 1:return c(_)?v:f(function(S,A){return m(_,S,A)});case 2:return c(_)&&c($)?v:c(_)?f(function(S,A){return m(S,$,A)}):c($)?f(function(S,A){return m(_,S,A)}):a(function(S){return m(_,$,S)});default:return c(_)&&c($)&&c(k)?v:c(_)&&c($)?f(function(S,A){return m(S,A,k)}):c(_)&&c(k)?f(function(S,A){return m(S,$,A)}):c($)&&c(k)?f(function(S,A){return m(_,S,A)}):c(_)?a(function(S){return m(S,$,k)}):c($)?a(function(S){return m(_,S,k)}):c(k)?a(function(S){return m(_,$,S)}):m(_,$,k)}}}n.exports=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function(m){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(m[$]=_[$])}return m},f=i(0),c=d(f);function d(m){return m&&m.__esModule?m:{default:m}}o.default=(0,c.default)(2,function(m,v){return a({},m,v)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(15),f=k(a),c=i(16),d=k(c),m=i(27),v=k(m),_=i(0),$=k(_);function k(S){return S&&S.__esModule?S:{default:S}}o.default=(0,$.default)(3,function(S,A,R){return(0,d.default)(S,(0,v.default)((0,f.default)(S,R),A),R)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function(m){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(m[$]=_[$])}return m},f=i(0),c=d(f);function d(m){return m&&m.__esModule?m:{default:m}}o.default=(0,c.default)(2,function(m,v){return a({},v,m)})},function(n,o,i){var a=i(1),f=a(function(d,m){for(var v={},_={},$=0,k=d.length;$<k;)_[d[$]]=1,$+=1;for(var S in m)_.hasOwnProperty(S)||(v[S]=m[S]);return v});n.exports=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f,c){return a===1?f:c||f+"s"}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){return f[a]||f.default}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(4),f=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v){if(Array.isArray(v)){for(var _=0,$=Array(v.length);_<v.length;_++)$[_]=v[_];return $}else return Array.from(v)}function m(v){return Array.isArray(v)?v:Array.from(v)}o.default=function(v){return(0,f.default)(v).split("_").map(function(_){var $=m(_),k=$[0],S=$.slice(1);return[(k||"").toUpperCase()].concat(d(S)).join("")}).join("")}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(15),f=_(a),c=i(16),d=_(c),m=i(0),v=_(m);function _($){return $&&$.__esModule?$:{default:$}}o.default=(0,v.default)(3,function($,k,S){return(0,d.default)($,k((0,f.default)($,S),(0,f.default)($.slice(0,-1),S),S),S)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(34);Object.defineProperty(o,"anyProp",{enumerable:!0,get:function(){return $e(a).default}});var f=i(35);Object.defineProperty(o,"apply",{enumerable:!0,get:function(){return $e(f).default}});var c=i(36);Object.defineProperty(o,"argsToObj",{enumerable:!0,get:function(){return $e(c).default}});var d=i(37);Object.defineProperty(o,"between",{enumerable:!0,get:function(){return $e(d).default}});var m=i(38);Object.defineProperty(o,"bidiHash",{enumerable:!0,get:function(){return $e(m).default}});var v=i(39);Object.defineProperty(o,"bytes",{enumerable:!0,get:function(){return $e(v).default}});var _=i(40);Object.defineProperty(o,"chunk",{enumerable:!0,get:function(){return $e(_).default}});var $=i(41);Object.defineProperty(o,"closure",{enumerable:!0,get:function(){return $e($).default}});var k=i(42);Object.defineProperty(o,"concatAll",{enumerable:!0,get:function(){return $e(k).default}});var S=i(17);Object.defineProperty(o,"copyProp",{enumerable:!0,get:function(){return $e(S).default}});var A=i(43);Object.defineProperty(o,"count",{enumerable:!0,get:function(){return $e(A).default}});var R=i(45);Object.defineProperty(o,"createMapOf",{enumerable:!0,get:function(){return $e(R).default}});var C=i(46);Object.defineProperty(o,"createMap",{enumerable:!0,get:function(){return $e(C).default}});var T=i(0);Object.defineProperty(o,"curryN",{enumerable:!0,get:function(){return $e(T).default}});var B=i(47);Object.defineProperty(o,"defmulti",{enumerable:!0,get:function(){return $e(B).default}});var L=i(48);Object.defineProperty(o,"displayList",{enumerable:!0,get:function(){return $e(L).default}});var j=i(50);Object.defineProperty(o,"doPipe",{enumerable:!0,get:function(){return $e(j).default}});var V=i(51);Object.defineProperty(o,"doto",{enumerable:!0,get:function(){return $e(V).default}});var Z=i(52);Object.defineProperty(o,"ellipsize",{enumerable:!0,get:function(){return $e(Z).default}});var Q=i(53);Object.defineProperty(o,"ensurePlural",{enumerable:!0,get:function(){return $e(Q).default}});var ne=i(54);Object.defineProperty(o,"ffirst",{enumerable:!0,get:function(){return $e(ne).default}});var w=i(55);Object.defineProperty(o,"fillArray",{enumerable:!0,get:function(){return $e(w).default}});var s=i(66);Object.defineProperty(o,"fillKeys",{enumerable:!0,get:function(){return $e(s).default}});var u=i(71);Object.defineProperty(o,"filterVals",{enumerable:!0,get:function(){return $e(u).default}});var h=i(72);Object.defineProperty(o,"findObjIndex",{enumerable:!0,get:function(){return $e(h).default}});var p=i(13);Object.defineProperty(o,"findObjPair",{enumerable:!0,get:function(){return $e(p).default}});var g=i(73);Object.defineProperty(o,"findObj",{enumerable:!0,get:function(){return $e(g).default}});var M=i(74);Object.defineProperty(o,"first",{enumerable:!0,get:function(){return $e(M).default}});var x=i(75);Object.defineProperty(o,"flatMap",{enumerable:!0,get:function(){return $e(x).default}});var y=i(76);Object.defineProperty(o,"forEachObj",{enumerable:!0,get:function(){return $e(y).default}});var l=i(77);Object.defineProperty(o,"initArray",{enumerable:!0,get:function(){return $e(l).default}});var b=i(78);Object.defineProperty(o,"intersperseWith",{enumerable:!0,get:function(){return $e(b).default}});var E=i(79);Object.defineProperty(o,"invert",{enumerable:!0,get:function(){return $e(E).default}});var P=i(80);Object.defineProperty(o,"isObject",{enumerable:!0,get:function(){return $e(P).default}});var H=i(14);Object.defineProperty(o,"isPojo",{enumerable:!0,get:function(){return $e(H).default}});var ee=i(82);Object.defineProperty(o,"isUrl",{enumerable:!0,get:function(){return $e(ee).default}});var Y=i(83);Object.defineProperty(o,"killPromise",{enumerable:!0,get:function(){return $e(Y).default}});var re=i(84);Object.defineProperty(o,"logarithm",{enumerable:!0,get:function(){return $e(re).default}});var Me=i(85);Object.defineProperty(o,"mapKeys",{enumerable:!0,get:function(){return $e(Me).default}});var de=i(7);Object.defineProperty(o,"mapObj",{enumerable:!0,get:function(){return $e(de).default}});var _e=i(22);Object.defineProperty(o,"mapValues",{enumerable:!0,get:function(){return $e(_e).default}});var te=i(86);Object.defineProperty(o,"mergeIn",{enumerable:!0,get:function(){return $e(te).default}});var X=i(23);Object.defineProperty(o,"mergePath",{enumerable:!0,get:function(){return $e(X).default}});var ye=i(90);Object.defineProperty(o,"mergeRightIn",{enumerable:!0,get:function(){return $e(ye).default}});var Ge=i(26);Object.defineProperty(o,"mergeRightPath",{enumerable:!0,get:function(){return $e(Ge).default}});var Pe=i(27);Object.defineProperty(o,"mergeRight",{enumerable:!0,get:function(){return $e(Pe).default}});var W=i(25);Object.defineProperty(o,"merge",{enumerable:!0,get:function(){return $e(W).default}});var U=i(91);Object.defineProperty(o,"modifyKeysRecursive",{enumerable:!0,get:function(){return $e(U).default}});var N=i(92);Object.defineProperty(o,"modifyValuesRecursive",{enumerable:!0,get:function(){return $e(N).default}});var G=i(93);Object.defineProperty(o,"moveProp",{enumerable:!0,get:function(){return $e(G).default}});var ke=i(21);Object.defineProperty(o,"noopPromise",{enumerable:!0,get:function(){return $e(ke).default}});var ge=i(94);Object.defineProperty(o,"noop",{enumerable:!0,get:function(){return $e(ge).default}});var xe=i(95);Object.defineProperty(o,"numbers",{enumerable:!0,get:function(){return $e(xe).default}});var ot=i(96);Object.defineProperty(o,"partial",{enumerable:!0,get:function(){return $e(ot).default}});var Ie=i(97);Object.defineProperty(o,"pickValues",{enumerable:!0,get:function(){return $e(Ie).default}});var je=i(29);Object.defineProperty(o,"pluralize",{enumerable:!0,get:function(){return $e(je).default}});var ht=i(98);Object.defineProperty(o,"quantify",{enumerable:!0,get:function(){return $e(ht).default}});var De=i(99);Object.defineProperty(o,"randomId",{enumerable:!0,get:function(){return $e(De).default}});var ze=i(100);Object.defineProperty(o,"randomInt",{enumerable:!0,get:function(){return $e(ze).default}});var xt=i(101);Object.defineProperty(o,"range",{enumerable:!0,get:function(){return $e(xt).default}});var qe=i(102);Object.defineProperty(o,"renameProp",{enumerable:!0,get:function(){return $e(qe).default}});var Ye=i(103);Object.defineProperty(o,"replaceValues",{enumerable:!0,get:function(){return $e(Ye).default}});var St=i(107);Object.defineProperty(o,"resolveAfter",{enumerable:!0,get:function(){return $e(St).default}});var Ke=i(108);Object.defineProperty(o,"round",{enumerable:!0,get:function(){return $e(Ke).default}});var we=i(109);Object.defineProperty(o,"safeDivide",{enumerable:!0,get:function(){return $e(we).default}});var nt=i(110);Object.defineProperty(o,"sleep",{enumerable:!0,get:function(){return $e(nt).default}});var Ne=i(111);Object.defineProperty(o,"splice",{enumerable:!0,get:function(){return $e(Ne).default}});var Re=i(112);Object.defineProperty(o,"stackedPromise",{enumerable:!0,get:function(){return $e(Re).default}});var ve=i(113);Object.defineProperty(o,"sumProp",{enumerable:!0,get:function(){return $e(ve).default}});var ie=i(114);Object.defineProperty(o,"summarize",{enumerable:!0,get:function(){return $e(ie).default}});var se=i(115);Object.defineProperty(o,"switcherFn",{enumerable:!0,get:function(){return $e(se).default}});var Ee=i(30);Object.defineProperty(o,"switcher",{enumerable:!0,get:function(){return $e(Ee).default}});var ce=i(116);Object.defineProperty(o,"tap",{enumerable:!0,get:function(){return $e(ce).default}});var be=i(117);Object.defineProperty(o,"throttle",{enumerable:!0,get:function(){return $e(be).default}});var Qe=i(118);Object.defineProperty(o,"thrower",{enumerable:!0,get:function(){return $e(Qe).default}});var Ae=i(119);Object.defineProperty(o,"toCamel",{enumerable:!0,get:function(){return $e(Ae).default}});var Te=i(120);Object.defineProperty(o,"toKebab",{enumerable:!0,get:function(){return $e(Te).default}});var it=i(31);Object.defineProperty(o,"toPascal",{enumerable:!0,get:function(){return $e(it).default}});var Oe=i(121);Object.defineProperty(o,"toScreamingSnake",{enumerable:!0,get:function(){return $e(Oe).default}});var pe=i(4);Object.defineProperty(o,"toSnake",{enumerable:!0,get:function(){return $e(pe).default}});var et=i(122);Object.defineProperty(o,"toTitle",{enumerable:!0,get:function(){return $e(et).default}});var Ce=i(123);Object.defineProperty(o,"ucFirst",{enumerable:!0,get:function(){return $e(Ce).default}});var He=i(124);Object.defineProperty(o,"updateIn",{enumerable:!0,get:function(){return $e(He).default}});var mt=i(32);Object.defineProperty(o,"updatePath",{enumerable:!0,get:function(){return $e(mt).default}});var Ue=i(125);Object.defineProperty(o,"uuid",{enumerable:!0,get:function(){return $e(Ue).default}}),Object.defineProperty(o,"UUID",{enumerable:!0,get:function(){return Ue.UUID}});var Ve=i(127);Object.defineProperty(o,"waitForever",{enumerable:!0,get:function(){return $e(Ve).default}});var bt=i(128);Object.defineProperty(o,"waitFor",{enumerable:!0,get:function(){return $e(bt).default}});function $e(Se){return Se&&Se.__esModule?Se:{default:Se}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a[Object.keys(a)[0]]}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});function a(f){if(Array.isArray(f)){for(var c=0,d=Array(f.length);c<f.length;c++)d[c]=f[c];return d}else return Array.from(f)}o.default=function(f,c){return f.apply(void 0,a(c))}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){for(var f=arguments.length,c=Array(f>1?f-1:0),d=1;d<f;d++)c[d-1]=arguments[d];return function(){for(var m=arguments.length,v=Array(m),_=0;_<m;_++)v[_]=arguments[_];var $=c.concat(v);return Object.fromEntries(a.map(function(k,S){return[k,$[S]]}))}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(3,function(d,m,v){return v>d&&v<m})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return((65535&a)<<16)+((4294901760&a)>>16)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){switch(f.toLowerCase()){case"kb":return a*1024;case"mb":return a*1024*1024;case"gb":return a*1024*1024*1024;case"tb":return a*1024*1024*1024*1024;case"pb":return a*1024*1024*1024*1024*1024;default:throw new Error(f+" is not a valid bytes unit")}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){var v=[],_=[];return m.forEach(function($){_.length<d&&_.push($),_.length===d&&(v.push(_),_=[])}),_.length>0&&v.push(_),v})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a()}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return a.reduce(function(f,c){return f.concat(c)},[])}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(8),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return(0,f.default)(d).length}},function(n,o,i){var a=i(9),f=Object.prototype.toString,c=function(){return f.call(arguments)==="[object Arguments]"?function(m){return f.call(m)==="[object Arguments]"}:function(m){return a("callee",m)}}();n.exports=c},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(3,function(d,m,v){for(var _={},$=0;$<v.length;$++)_[v[$][d]]=v[$][m];return _})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){for(var v={},_=0;_<m.length;_++)v[m[_][d]]=m[_];return v})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function S(A,R){for(var C=0;C<R.length;C++){var T=R[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,R,C){return R&&S(A.prototype,R),C&&S(A,C),A}}();o.default=k;var f=i(3),c=d(f);function d(S){return S&&S.__esModule?S:{default:S}}function m(S){if(Array.isArray(S)){for(var A=0,R=Array(S.length);A<S.length;A++)R[A]=S[A];return R}else return Array.from(S)}function v(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}var _="multimethod/Default",$=function(){function S(A,R){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v(this,S),this.name=A,this.dispatch=R,this.methods={},this.addMethods(C)}return a(S,[{key:"apply",value:function(R,C){return this.call.apply(this,[null].concat(m(C)))}},{key:"call",value:function(R){for(var C=arguments.length,T=Array(C>1?C-1:0),B=1;B<C;B++)T[B-1]=arguments[B];var L=this.dispatch.apply(this,T),j=this.getMethod(L)||this.getDefaultMethod();if(!j)throw new Error('No method found for "'+this.name+":"+L+'"');return j.apply(void 0,T)}},{key:"callDefault",value:function(){var R=this.getDefaultMethod();if(!R)throw new Error('No default method found for "'+this.name+'"');return R.apply(void 0,arguments)}},{key:"addMethod",value:function(R,C){if(!(0,c.default)(Function,C))throw Error('Method provided for "'+this.name+":"+R+'" is not callable (got '+C+")");return this.methods[R]=C,this}},{key:"addMethods",value:function(R){for(var C in R)this.addMethod(C,R[C])}},{key:"addDefaultMethod",value:function(R){return this.addMethod(_,R)}},{key:"getMethod",value:function(R){return this.methods[R]}},{key:"getDefaultMethod",value:function(){return this.methods[_]}},{key:"removeMethod",value:function(R){delete this.methods[R]}},{key:"removeDefaultMethod",value:function(){this.removeMethod(_)}}]),S}();function k(){for(var S=arguments.length,A=Array(S),R=0;R<S;R++)A[R]=arguments[R];var C=new(Function.prototype.bind.apply($,[null].concat(A))),T=function(){for(var L=arguments.length,j=Array(L),V=0;V<L;V++)j[V]=arguments[V];return C.call.apply(C,[null].concat(j))};return new Proxy(T,{get:function(L,j){return C[j]}})}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(49),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"and",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:6;return d.length===0?"":d.length===1?d[0]:d.length===2?d[0]+" "+m+" "+d[1]:d.length>v+2?d.slice(0,v).join(", ")+", "+m+" "+(d.length-v)+" others":d.slice(0,-1).join(", ")+", "+m+" "+(0,f.default)(d)}},function(n,o,i){var a=i(10),f=a(-1);n.exports=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){return f.reduce(function(c,d){return d(c)},a)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){return f(a)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...";if(a.length<f*1.1)return a;for(;a.length>f&&a.includes(" ");)a=a.split(" ").slice(0,-1).join(" ");return a+c}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a instanceof Array?a:[a]}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a&&a[0]?a[0][0]:void 0}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(19),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d,m){return(0,f.default)(function(){return m},new Array(d))}},function(n,o,i){var a=i(11),f=i(57);function c(d,m,v){return function(){if(arguments.length===0)return v();var _=arguments[arguments.length-1];if(!a(_)){for(var $=0;$<d.length;){if(typeof _[d[$]]=="function")return _[d[$]].apply(_,Array.prototype.slice.call(arguments,0,-1));$+=1}if(f(_)){var k=m.apply(null,Array.prototype.slice.call(arguments,0,-1));return k(_)}}return v.apply(this,arguments)}}n.exports=c},function(n,o){function i(a){return a!=null&&typeof a["@@transducer/step"]=="function"}n.exports=i},function(n,o){function i(a,f){for(var c=0,d=f.length,m=Array(d);c<d;)m[c]=a(f[c]),c+=1;return m}n.exports=i},function(n,o,i){var a=i(2),f=i(11),c=i(18),d=a(function(v){return f(v)?!0:!v||typeof v!="object"||c(v)?!1:v.length===0?!0:v.length>0?v.hasOwnProperty(0)&&v.hasOwnProperty(v.length-1):!1});n.exports=d},function(n,o){var i=function(){function f(c){this.f=c}return f.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},f.prototype["@@transducer/result"]=function(c){return c},f.prototype["@@transducer/step"]=function(c,d){return this.f(c,d)},f}();function a(f){return new i(f)}n.exports=a},function(n,o,i){var a=i(12),f=i(1),c=f(function(m,v){return a(m.length,function(){return m.apply(v,arguments)})});n.exports=c},function(n,o,i){var a=i(1),f=i(63),c=function(){function m(v,_){this.xf=_,this.f=v}return m.prototype["@@transducer/init"]=f.init,m.prototype["@@transducer/result"]=f.result,m.prototype["@@transducer/step"]=function(v,_){return this.xf["@@transducer/step"](v,this.f(_))},m}(),d=a(function(v,_){return new c(v,_)});n.exports=d},function(n,o){n.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(i){return this.xf["@@transducer/result"](i)}}},function(n,o,i){var a=i(12),f=i(2),c=i(1),d=i(65),m=c(function(_,$){return _===1?f($):a(_,d(_,[],$))});n.exports=m},function(n,o,i){var a=i(12),f=i(5);function c(d,m,v){return function(){for(var _=[],$=0,k=d,S=0;S<m.length||$<arguments.length;){var A;S<m.length&&(!f(m[S])||$>=arguments.length)?A=m[S]:(A=arguments[$],$+=1),_[S]=A,f(A)||(k-=1),S+=1}return k<=0?v.apply(this,_):a(k,c(d,_,v))}}n.exports=c},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(67),f=m(a),c=i(0),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,d.default)(2,function(v,_){for(var $={},k=0;k<v.length;k++)$[v[k]]=(0,f.default)(_);return $})},function(n,o,i){var a=i(68),f=i(2),c=f(function(m){return m!=null&&typeof m.clone=="function"?m.clone():a(m,[],[],!0)});n.exports=c},function(n,o,i){var a=i(69),f=i(70);function c(d,m,v,_){var $=function(S){for(var A=m.length,R=0;R<A;){if(d===m[R])return v[R];R+=1}m[R]=d,v[R]=S;for(var C in d)d.hasOwnProperty(C)&&(S[C]=_?c(d[C],m,v,!0):d[C]);return S};switch(f(d)){case"Object":return $(Object.create(Object.getPrototypeOf(d)));case"Array":return $([]);case"Date":return new Date(d.valueOf());case"RegExp":return a(d);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return d.slice();default:return d}}n.exports=c},function(n,o){function i(a){return new RegExp(a.source,(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":"")+(a.unicode?"u":""))}n.exports=i},function(n,o,i){var a=i(2),f=a(function(d){return d===null?"Null":d===void 0?"Undefined":Object.prototype.toString.call(d).slice(8,-1)});n.exports=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){var v={};for(var _ in m)d(m[_])&&(v[_]=m[_]);return v})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(13),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(2,function(v,_){return((0,d.default)(v,_)||[])[0]})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(13),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(2,function(v,_){return((0,d.default)(v,_)||[])[1]})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a?a[0]:void 0}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){return m.map(d).reduce(function(v,_){return v.concat(_)},[])})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function m(v,_){var $=[],k=!0,S=!1,A=void 0;try{for(var R=v[Symbol.iterator](),C;!(k=(C=R.next()).done)&&($.push(C.value),!(_&&$.length===_));k=!0);}catch(T){S=!0,A=T}finally{try{!k&&R.return&&R.return()}finally{if(S)throw A}}return $}return function(v,_){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return m(v,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=i(0),c=d(f);function d(m){return m&&m.__esModule?m:{default:m}}o.default=(0,c.default)(2,function(m,v){return Object.entries(v).forEach(function(_){var $=a(_,2),k=$[0],S=$[1];return m(S,k)})})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(19),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d,m){return(0,f.default)(m,new Array(d))}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){return m.reduce(function(v,_,$){return v.length?v.concat([d(_,$),_]):v.concat(_)},[])})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){var f=[];return a.forEach(function(c,d){return c.forEach(function(m,v){f[v]=f[v]||[],f[v][d]=m})}),f}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(3),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return(0,f.default)(Object,d)&&!(0,f.default)(Array,d)}},function(n,o,i){var a=i(1),f=i(6),c=i(10),d=a(function(v,_){if(_!=null)return f(v)?c(v,_):_[v]});n.exports=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){try{return Boolean(new URL(a))}catch{return!1}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(21),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return d.catch(function(){}),f.default}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){return Math.log(f)/Math.log(a)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(7),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(2,function(v,_){return(0,d.default)(v,function($){return $},_)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(23),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(3,function(v,_,$){return(0,d.default)([v],_,$)})},function(n,o,i){var a=i(1),f=i(6),c=i(10),d=a(function(v,_){return v.map(function($){for(var k=_,S=0,A;S<$.length;){if(k==null)return;A=$[S],k=f(A)?c(A,k):k[A],S+=1}return k})});n.exports=d},function(n,o,i){var a=i(11),f=i(6);function c(d,m,v){if(f(d)&&a(v)){var _=[].concat(v);return _[d]=m,_}var $={};for(var k in v)$[k]=v[k];return $[d]=m,$}n.exports=c},function(n,o,i){var a=i(2),f=a(function(d){return d==null});n.exports=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=m(a),c=i(26),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,f.default)(3,function(v,_,$){return(0,d.default)([v],_,$)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(3),f=k(a),c=i(0),d=k(c),m=i(14),v=k(m),_=i(7),$=k(_);function k(A){return A&&A.__esModule?A:{default:A}}var S=(0,d.default)(2,function(A,R){return(0,f.default)(Array,R)?R.map(function(C){return S(A,C)}):(0,v.default)(R)?(0,$.default)(A,function(C){return S(A,C)},R):R});o.default=S},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(3),f=k(a),c=i(14),d=k(c),m=i(0),v=k(m),_=i(22),$=k(_);function k(A){return A&&A.__esModule?A:{default:A}}var S=(0,v.default)(3,function(A,R,C){return A(C)?R(C):(0,f.default)(Array,C)?C.map(S(A,R)):(0,d.default)(C)?(0,$.default)(S(A,R),C):C});o.default=S},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(28),f=_(a),c=i(0),d=_(c),m=i(17),v=_(m);function _($){return $&&$.__esModule?$:{default:$}}o.default=(0,d.default)(3,function($,k,S){return(0,f.default)([$],(0,v.default)($,k,S))})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=new RegExp(/\.+/),f=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v=parseFloat(v.toString().replace(a,".").trim()),isNaN(v)?_:v},c=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return parseInt(f(v,_),10)},d=o.commaFormat=function(v){return String(v).split("").reverse().reduce(function(_,$,k){return $+(k&&!(k%3)?",":"")+_})};o.default={parseFloat:f,parseInt:c,commaFormat:d}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){for(var f=arguments.length,c=Array(f>1?f-1:0),d=1;d<f;d++)c[d-1]=arguments[d];return function(){for(var m=arguments.length,v=Array(m),_=0;_<m;_++)v[_]=arguments[_];return a.apply(void 0,c.concat(v))}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){return d.map(function(v){return m[v]})})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(29),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d,m,v){return d+" "+(0,f.default)(d,m,v)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return Math.random().toString().slice(2)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9;return a+Math.round(Math.random())*(f-a)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=[],m=a;m<f;m+=c)d.push(m);return d}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=Object.assign||function($){for(var k=1;k<arguments.length;k++){var S=arguments[k];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&($[A]=S[A])}return $},f=i(28),c=v(f),d=i(0),m=v(d);function v($){return $&&$.__esModule?$:{default:$}}function _($,k,S){return k in $?Object.defineProperty($,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):$[k]=S,$}o.default=(0,m.default)(3,function($,k,S){return a({},(0,c.default)([$],S),_({},k,S[$]))})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(104),f=k(a),c=i(105),d=k(c),m=i(106),v=k(m),_=i(0),$=k(_);function k(S){return S&&S.__esModule?S:{default:S}}o.default=(0,$.default)(3,function(S,A,R){return(0,v.default)((0,f.default)(S,(0,d.default)(A)),R)})},function(n,o,i){var a=i(24),f=a(function(d,m,v){return d(v)?m(v):v});n.exports=f},function(n,o,i){var a=i(2),f=a(function(d){return function(){return d}});n.exports=f},function(n,o,i){var a=i(1),f=i(20),c=i(8),d=a(function(v,_){return f(function($,k){return $[k]=v(_[k],k,_),$},{},c(_))});n.exports=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){return new Promise(function(v){return setTimeout(function(){return v(m)},d)})})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){return Math.round(m*Math.pow(10,d))/Math.pow(10,d)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){return f===0?0:a/f}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return new Promise(function(f){return setTimeout(f,a)})}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(3,function(d,m,v){return v.slice(0,d).concat(v.slice(d+m))})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){var a=Promise.resolve();return function f(c){var d=Promise.resolve(c);a=d;var m=function(_){return function($){return d===a?_($):f(a)}};return Promise.resolve(d).then(m(function(v){return Promise.resolve(v)}),m(function(v){return Promise.reject(v)}))}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(0),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=(0,f.default)(2,function(d,m){for(var v=0,_=0;_<m.length;_+=1)v+=m[_][d];return v})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f=i(3),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}var m=function v(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4;if($===0&&((0,c.default)(Array,_)||(0,c.default)(Object,_)))return"<"+(typeof _>"u"?"undefined":a(_))+">";if((0,c.default)(Array,_))return _=_.map(function(A){return v(A,$-1)}),_.length<3?"["+_.join(", ")+"]":"["+_.slice(0,2).join(", ")+", ...and "+(_.length-3)+" more]";if((0,c.default)(Object,_)){var k=[];for(var S in _)k.push(S+": "+v(_[S],$-1));return"{"+k.join(", ")+"}"}return(0,c.default)(Symbol,_)?_.toString():JSON.stringify(_)};o.default=m},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(30),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(){return f.default.apply(void 0,arguments)()}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return function(f){return a(f),f}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a,f){var c=0;return function(){var d=new Date().valueOf();d-f>c&&(c=d,a.apply(void 0,arguments))}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return function(){throw new Error(a)}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(31),f=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function d(m){return Array.isArray(m)?m:Array.from(m)}o.default=function(m){var v=(0,f.default)(m),_=d(v),$=_[0],k=_.slice(1);return($||"").toLowerCase()+k.join("")}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(4),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return(0,f.default)(d).replace(/_/g,"-")}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(4),f=c(a);function c(d){return d&&d.__esModule?d:{default:d}}o.default=function(d){return(0,f.default)(d).toUpperCase()}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(4),f=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v){if(Array.isArray(v)){for(var _=0,$=Array(v.length);_<v.length;_++)$[_]=v[_];return $}else return Array.from(v)}function m(v){return Array.isArray(v)?v:Array.from(v)}o.default=function(v){return(0,f.default)(v).split("_").map(function(_){var $=m(_),k=$[0],S=$.slice(1);return[(k||"").toUpperCase()].concat(d(S)).join("")}).join(" ")}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){return a.slice(0,1).toUpperCase()+a.slice(1)}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(32),f=m(a),c=i(0),d=m(c);function m(v){return v&&v.__esModule?v:{default:v}}o.default=(0,d.default)(3,function(v,_,$){return(0,f.default)([v],function(k,S){return _(k,S)},$)})},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var a=i(126);Object.defineProperty(o,"default",{enumerable:!0,get:function(){return a.v4}}),o.UUID="^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"},function(n,o){n.exports=t},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return new Promise(function(){return null})}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return new Promise(function(c){(function d(){var m=a();m?c(m):setTimeout(d,f)})()})}}])})})(kt);function zr(r){return r!=null&&typeof r=="object"&&r["@@functional/placeholder"]===!0}function qr(r){return function e(t){return arguments.length===0||zr(t)?e:r.apply(this,arguments)}}function Lt(r){return function e(t,n){switch(arguments.length){case 0:return e;case 1:return zr(t)?e:qr(function(o){return r(t,o)});default:return zr(t)&&zr(n)?e:zr(t)?qr(function(o){return r(o,n)}):zr(n)?qr(function(o){return r(t,o)}):r(t,n)}}}var i7=Lt(function(e,t){return Number(e)+Number(t)});const o7=i7;function jw(r,e){r=r||[],e=e||[];var t,n=r.length,o=e.length,i=[];for(t=0;t<n;)i[i.length]=r[t],t+=1;for(t=0;t<o;)i[i.length]=e[t],t+=1;return i}function Dh(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,o){return e.apply(this,arguments)};case 4:return function(t,n,o,i){return e.apply(this,arguments)};case 5:return function(t,n,o,i,a){return e.apply(this,arguments)};case 6:return function(t,n,o,i,a,f){return e.apply(this,arguments)};case 7:return function(t,n,o,i,a,f,c){return e.apply(this,arguments)};case 8:return function(t,n,o,i,a,f,c,d){return e.apply(this,arguments)};case 9:return function(t,n,o,i,a,f,c,d,m){return e.apply(this,arguments)};case 10:return function(t,n,o,i,a,f,c,d,m,v){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Fh(r,e,t){return function(){for(var n=[],o=0,i=r,a=0;a<e.length||o<arguments.length;){var f;a<e.length&&(!zr(e[a])||o>=arguments.length)?f=e[a]:(f=arguments[o],o+=1),n[a]=f,zr(f)||(i-=1),a+=1}return i<=0?t.apply(this,n):Dh(i,Fh(r,n,t))}}var s7=Lt(function(e,t){return e===1?qr(t):Dh(e,Fh(e,[],t))});const pf=s7;function Ds(r){return function e(t,n,o){switch(arguments.length){case 0:return e;case 1:return zr(t)?e:Lt(function(i,a){return r(t,i,a)});case 2:return zr(t)&&zr(n)?e:zr(t)?Lt(function(i,a){return r(i,n,a)}):zr(n)?Lt(function(i,a){return r(t,i,a)}):qr(function(i){return r(t,n,i)});default:return zr(t)&&zr(n)&&zr(o)?e:zr(t)&&zr(n)?Lt(function(i,a){return r(i,a,o)}):zr(t)&&zr(o)?Lt(function(i,a){return r(i,n,a)}):zr(n)&&zr(o)?Lt(function(i,a){return r(t,i,a)}):zr(t)?qr(function(i){return r(i,n,o)}):zr(n)?qr(function(i){return r(t,i,o)}):zr(o)?qr(function(i){return r(t,n,i)}):r(t,n,o)}}}const mf=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function a7(r){return r!=null&&typeof r["@@transducer/step"]=="function"}function ka(r,e,t){return function(){if(arguments.length===0)return t();var n=arguments[arguments.length-1];if(!mf(n)){for(var o=0;o<r.length;){if(typeof n[r[o]]=="function")return n[r[o]].apply(n,Array.prototype.slice.call(arguments,0,-1));o+=1}if(a7(n)){var i=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(n)}}return t.apply(this,arguments)}}function x1(r){return r&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}}const wo={init:function(){return this.xf["@@transducer/init"]()},result:function(r){return this.xf["@@transducer/result"](r)}};var f7=function(){function r(e,t){this.xf=t,this.f=e,this.all=!0}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=x1(this.xf["@@transducer/step"](e,!1))),e},r}(),l7=Lt(function(e,t){return new f7(e,t)});const u7=l7;var c7=Lt(ka(["all"],u7,function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}));const zw=c7;var h7=Lt(function(e,t){return t>e?t:e});const vu=h7;function Ul(r,e){for(var t=0,n=e.length,o=Array(n);t<n;)o[t]=r(e[t]),t+=1;return o}function Ql(r){return Object.prototype.toString.call(r)==="[object String]"}var d7=qr(function(e){return mf(e)?!0:!e||typeof e!="object"||Ql(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1});const qw=d7;var p7=function(){function r(e){this.f=e}return r.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},r.prototype["@@transducer/result"]=function(e){return e},r.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},r}();function m7(r){return new p7(r)}var v7=Lt(function(e,t){return Dh(e.length,function(){return e.apply(t,arguments)})});const g7=v7;function y7(r,e,t){for(var n=0,o=t.length;n<o;){if(e=r["@@transducer/step"](e,t[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return r["@@transducer/result"](e)}function Ov(r,e,t){for(var n=t.next();!n.done;){if(e=r["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=t.next()}return r["@@transducer/result"](e)}function Iv(r,e,t,n){return r["@@transducer/result"](t[n](g7(r["@@transducer/step"],r),e))}var Lv=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Zf(r,e,t){if(typeof r=="function"&&(r=m7(r)),qw(t))return y7(r,e,t);if(typeof t["fantasy-land/reduce"]=="function")return Iv(r,e,t,"fantasy-land/reduce");if(t[Lv]!=null)return Ov(r,e,t[Lv]());if(typeof t.next=="function")return Ov(r,e,t);if(typeof t.reduce=="function")return Iv(r,e,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var b7=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=wo.result,r.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r}(),_7=Lt(function(e,t){return new b7(e,t)});const w7=_7;function ni(r,e){return Object.prototype.hasOwnProperty.call(e,r)}var Nv=Object.prototype.toString,M7=function(){return Nv.call(arguments)==="[object Arguments]"?function(e){return Nv.call(e)==="[object Arguments]"}:function(e){return ni("callee",e)}}();const $7=M7;var x7=!{toString:null}.propertyIsEnumerable("toString"),Dv=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Fv=function(){return arguments.propertyIsEnumerable("length")}(),k7=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},S7=qr(typeof Object.keys=="function"&&!Fv?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,o=[],i=Fv&&$7(e);for(t in e)ni(t,e)&&(!i||t!=="length")&&(o[o.length]=t);if(x7)for(n=Dv.length-1;n>=0;)t=Dv[n],ni(t,e)&&!k7(o,t)&&(o[o.length]=t),n-=1;return o});const vf=S7;var E7=Lt(ka(["fantasy-land/map","map"],w7,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return pf(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return Zf(function(n,o){return n[o]=e(t[o]),n},{},vf(t));default:return Ul(e,t)}}));const Mo=E7,Uh=Number.isInteger||function(e){return e<<0===e};var A7=Lt(function(e,t){var n=e<0?t.length+e:e;return Ql(t)?t.charAt(n):t[n]});const gu=A7;var B7=Lt(function(e,t){if(t!=null)return Uh(e)?gu(e,t):t[e]});const Gr=B7;var R7=Lt(function(e,t){return Mo(Gr(e),t)});const Ar=R7;var C7=Ds(Zf);const Hh=C7;var P7=qr(function(e){return pf(Hh(vu,0,Ar("length",e)),function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})});const T7=P7;var O7=qr(function(e){return function(){return e}});const I7=O7;var L7=Lt(function(e,t){return typeof t["fantasy-land/ap"]=="function"?t["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(t):typeof e=="function"?function(n){return e(n)(t(n))}:Zf(function(n,o){return jw(n,Mo(o,t))},[],e)});const N7=L7;function D7(r,e){for(var t=0,n=e.length-(r-1),o=new Array(n>=0?n:0);t<n;)o[t]=Array.prototype.slice.call(e,t,t+r),t+=1;return o}var F7=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r.prototype.getCopy=function(){return jw(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},r}(),U7=Lt(function(e,t){return new F7(e,t)});const H7=U7;var j7=Lt(ka([],H7,D7));const z7=j7;function q7(r,e,t){if(Uh(r)&&mf(t)){var n=[].concat(t);return n[r]=e,n}var o={};for(var i in t)o[i]=t[i];return o[r]=e,o}var K7=qr(function(e){return e==null});const eu=K7;var W7=Ds(function r(e,t,n){if(e.length===0)return t;var o=e[0];if(e.length>1){var i=!eu(n)&&ni(o,n)?n[o]:Uh(e[1])?[]:{};t=r(Array.prototype.slice.call(e,1),t,i)}return q7(o,t,n)});const V7=W7;var Z7=Ds(function(e,t,n){return V7([e],t,n)});const Ko=Z7;function Uv(r){var e=Object.prototype.toString.call(r);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var G7=Lt(function(e,t){var n=pf(e,t);return pf(e,function(){return Zf(N7,Mo(n,arguments[0]),Array.prototype.slice.call(arguments,1))})});const Y7=G7;var J7=qr(function(e){return Y7(e.length,e)});const X7=J7;function Q7(r){return function e(t){for(var n,o,i,a=[],f=0,c=t.length;f<c;){if(qw(t[f]))for(n=r?e(t[f]):t[f],i=0,o=n.length;i<o;)a[a.length]=n[i],i+=1;else a[a.length]=t[f];f+=1}return a}}function e9(r){return new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""))}var t9=qr(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});const Ap=t9;function Kw(r,e,t,n){var o=function(a){for(var f=e.length,c=0;c<f;){if(r===e[c])return t[c];c+=1}e[c]=r,t[c]=a;for(var d in r)r.hasOwnProperty(d)&&(a[d]=n?Kw(r[d],e,t,!0):r[d]);return a};switch(Ap(r)){case"Object":return o(Object.create(Object.getPrototypeOf(r)));case"Array":return o([]);case"Date":return new Date(r.valueOf());case"RegExp":return e9(r);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return r.slice();default:return r}}var r9=qr(function(e){return!e});const n9=r9;var i9=X7(n9);const o9=i9;function s9(r,e){return function(){return e.call(this,r.apply(this,arguments))}}function k1(r,e){return function(){var t=arguments.length;if(t===0)return e();var n=arguments[t-1];return mf(n)||typeof n[r]!="function"?e.apply(this,arguments):n[r].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var a9=Ds(k1("slice",function(e,t,n){return Array.prototype.slice.call(n,e,t)}));const S1=a9;var f9=qr(k1("tail",S1(1,1/0)));const l9=f9;function tu(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Dh(arguments[0].length,Hh(s9,arguments[0],l9(arguments)))}var u9=qr(function(e){return Ql(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});const Ww=u9;function c9(r){return r}var h9=qr(c9);const oi=h9;function Hv(r){for(var e=[],t;!(t=r.next()).done;)e.push(t.value);return e}function jv(r,e,t){for(var n=0,o=t.length;n<o;){if(r(e,t[n]))return!0;n+=1}return!1}function d9(r){var e=String(r).match(/^function (\w*)/);return e==null?"":e[1]}function p9(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}const dd=typeof Object.is=="function"?Object.is:p9;function zv(r,e,t,n){var o=Hv(r),i=Hv(e);function a(f,c){return E1(f,c,t.slice(),n.slice())}return!jv(function(f,c){return!jv(a,c,f)},i,o)}function E1(r,e,t,n){if(dd(r,e))return!0;var o=Ap(r);if(o!==Ap(e))return!1;if(typeof r["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r);if(typeof r.equals=="function"||typeof e.equals=="function")return typeof r.equals=="function"&&r.equals(e)&&typeof e.equals=="function"&&e.equals(r);switch(o){case"Arguments":case"Array":case"Object":if(typeof r.constructor=="function"&&d9(r.constructor)==="Promise")return r===e;break;case"Boolean":case"Number":case"String":if(!(typeof r==typeof e&&dd(r.valueOf(),e.valueOf())))return!1;break;case"Date":if(!dd(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(!(r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline&&r.sticky===e.sticky&&r.unicode===e.unicode))return!1;break}for(var i=t.length-1;i>=0;){if(t[i]===r)return n[i]===e;i-=1}switch(o){case"Map":return r.size!==e.size?!1:zv(r.entries(),e.entries(),t.concat([r]),n.concat([e]));case"Set":return r.size!==e.size?!1:zv(r.values(),e.values(),t.concat([r]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=vf(r);if(a.length!==vf(e).length)return!1;var f=t.concat([r]),c=n.concat([e]);for(i=a.length-1;i>=0;){var d=a[i];if(!(ni(d,e)&&E1(e[d],r[d],f,c)))return!1;i-=1}return!0}var m9=Lt(function(e,t){return E1(e,t,[],[])});const jh=m9;function v9(r,e,t){var n,o;if(typeof r.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;t<r.length;){if(o=r[t],o===0&&1/o===n)return t;t+=1}return-1}else if(e!==e){for(;t<r.length;){if(o=r[t],typeof o=="number"&&o!==o)return t;t+=1}return-1}return r.indexOf(e,t);case"string":case"boolean":case"function":case"undefined":return r.indexOf(e,t);case"object":if(e===null)return r.indexOf(e,t)}for(;t<r.length;){if(jh(r[t],e))return t;t+=1}return-1}function ih(r,e){return v9(e,r,0)>=0}function pd(r){var e=r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var _l=function(e){return(e<10?"0":"")+e},g9=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+_l(e.getUTCMonth()+1)+"-"+_l(e.getUTCDate())+"T"+_l(e.getUTCHours())+":"+_l(e.getUTCMinutes())+":"+_l(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};const y9=g9;function b9(r){return function(){return!r.apply(this,arguments)}}function _9(r,e){for(var t=0,n=e.length,o=[];t<n;)r(e[t])&&(o[o.length]=e[t]),t+=1;return o}function Bp(r){return Object.prototype.toString.call(r)==="[object Object]"}var w9=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=wo.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r}(),M9=Lt(function(e,t){return new w9(e,t)});const $9=M9;var x9=Lt(ka(["fantasy-land/filter","filter"],$9,function(r,e){return Bp(e)?Zf(function(t,n){return r(e[n])&&(t[n]=e[n]),t},{},vf(e)):_9(r,e)}));const Gf=x9;var k9=Lt(function(e,t){return Gf(b9(e),t)});const wi=k9;function Vw(r,e){var t=function(a){var f=e.concat([r]);return ih(a,f)?"<Circular>":Vw(a,f)},n=function(i,a){return Ul(function(f){return pd(f)+": "+t(i[f])},a.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+Ul(t,r).join(", ")+"))";case"[object Array]":return"["+Ul(t,r).concat(n(r,wi(function(i){return/^\d+$/.test(i)},vf(r)))).join(", ")+"]";case"[object Boolean]":return typeof r=="object"?"new Boolean("+t(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?t(NaN):pd(y9(r)))+")";case"[object Null]":return"null";case"[object Number]":return typeof r=="object"?"new Number("+t(r.valueOf())+")":1/r===-1/0?"-0":r.toString(10);case"[object String]":return typeof r=="object"?"new String("+t(r.valueOf())+")":pd(r);case"[object Undefined]":return"undefined";default:if(typeof r.toString=="function"){var o=r.toString();if(o!=="[object Object]")return o}return"{"+n(r,vf(r)).join(", ")+"}"}}var S9=qr(function(e){return Vw(e,[])});const md=S9;var E9=Lt(function(e,t){if(mf(e)){if(mf(t))return e.concat(t);throw new TypeError(md(t)+" is not an array")}if(Ql(e)){if(Ql(t))return e+t;throw new TypeError(md(t)+" is not a string")}if(e!=null&&Uv(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(e!=null&&Uv(e.concat))return e.concat(t);throw new TypeError(md(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const qv=E9;var A9=Lt(function(e,t){return pf(Hh(vu,0,Ar("length",t)),function(){var n=arguments,o=this;return e.apply(o,Ul(function(i){return i.apply(o,n)},t))})});const B9=A9;var R9=function(){function r(e,t,n,o){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=o,this.inputs={}}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(ni(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},r}(),C9=Fh(4,[],function(e,t,n,o){return new R9(e,t,n,o)});const P9=C9;var T9=Fh(4,[],ka([],P9,function(e,t,n,o){return Zf(function(i,a){var f=n(a),c=e(ni(f,i)?i[f]:Kw(t,[],[],!1),a);return c&&c["@@transducer/reduced"]?x1(i):(i[f]=c,i)},{},o)}));const O9=T9;var I9=function(){function r(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return r.prototype.add=function(e){return!Kv(e,!0,this)},r.prototype.has=function(e){return Kv(e,!1,this)},r}();function Kv(r,e,t){var n=typeof r,o,i;switch(n){case"string":case"number":return r===0&&1/r===-1/0?t._items["-0"]?!0:(e&&(t._items["-0"]=!0),!1):t._nativeSet!==null?e?(o=t._nativeSet.size,t._nativeSet.add(r),i=t._nativeSet.size,i===o):t._nativeSet.has(r):n in t._items?r in t._items[n]?!0:(e&&(t._items[n][r]=!0),!1):(e&&(t._items[n]={},t._items[n][r]=!0),!1);case"boolean":if(n in t._items){var a=r?1:0;return t._items[n][a]?!0:(e&&(t._items[n][a]=!0),!1)}else return e&&(t._items[n]=r?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?e?(o=t._nativeSet.size,t._nativeSet.add(r),i=t._nativeSet.size,i===o):t._nativeSet.has(r):n in t._items?ih(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1);case"undefined":return t._items[n]?!0:(e&&(t._items[n]=!0),!1);case"object":if(r===null)return t._items.null?!0:(e&&(t._items.null=!0),!1);default:return n=Object.prototype.toString.call(r),n in t._items?ih(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1)}}const Zw=I9;var L9=gu(-1);const Yr=L9;var N9=function(){function r(e,t){this.xf=t,this.f=e,this.found=!1}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=x1(this.xf["@@transducer/step"](e,t))),e},r}(),D9=Lt(function(e,t){return new N9(e,t)});const F9=D9;var U9=Lt(ka(["find"],F9,function(e,t){for(var n=0,o=t.length;n<o;){if(e(t[n]))return t[n];n+=1}}));const xi=U9;var H9=qr(Q7(!0));const Rp=H9;var j9=qr(function(e){return pf(e.length,function(t,n){var o=Array.prototype.slice.call(arguments,0);return o[0]=n,o[1]=t,e.apply(this,o)})});const z9=j9;var q9=qr(function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t});const Gw=q9;var K9=Lt(k1("groupBy",O9(function(r,e){return r.push(e),r},[])));const Cc=K9;var W9=Lt(function(e,t){return e>t});const V9=W9;var Z9=function(){function r(e,t){this.xf=t,this.f=e,this.set=new Zw}return r.prototype["@@transducer/init"]=wo.init,r.prototype["@@transducer/result"]=wo.result,r.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},r}(),G9=Lt(function(e,t){return new Z9(e,t)});const Y9=G9;var J9=Lt(ka([],Y9,function(r,e){for(var t=new Zw,n=[],o=0,i,a;o<e.length;)a=e[o],i=r(a),t.add(i)&&n.push(a),o+=1;return n}));const Vi=J9;var X9=Vi(oi);const $o=X9;function Q9(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1,n=arguments.length;t<n;){var o=arguments[t];if(o!=null)for(var i in o)ni(i,o)&&(e[i]=o[i]);t+=1}return e}const ex=typeof Object.assign=="function"?Object.assign:Q9;var tx=Lt(function(e,t){var n={};return n[e]=t,n});const Yf=tx;var rx=Lt(function(e,t){return t instanceof e||t!=null&&(t.constructor===e||e.name==="Object"&&typeof t=="object")});const yu=rx;var nx=qr(function(e){return B9(function(){return Array.prototype.slice.call(arguments,0)},e)});const ix=nx;var ox=Lt(function(e,t){return e.map(function(n){for(var o=t,i=0,a;i<n.length;){if(o==null)return;a=n[i],o=Uh(a)?gu(a,o):o[a],i+=1}return o})});const sx=ox;var ax=Lt(function(e,t){return sx([e],t)[0]});const Yw=ax;var fx=Hh(o7,0);const Jw=fx;var lx=Ds(function(e,t,n){var o={},i;for(i in t)ni(i,t)&&(o[i]=ni(i,n)?e(i,t[i],n[i]):t[i]);for(i in n)ni(i,n)&&!ni(i,o)&&(o[i]=n[i]);return o});const ux=lx;var cx=Ds(function r(e,t,n){return ux(function(o,i,a){return Bp(i)&&Bp(a)?r(e,i,a):e(o,i,a)},t,n)});const hx=cx;var dx=Lt(function(e,t){return hx(function(n,o,i){return i},e,t)});const px=dx;var mx=Lt(function(e,t){return ex({},t,e)});const vx=mx;var gx=Lt(function(e,t){for(var n={},o={},i=0,a=e.length;i<a;)o[e[i]]=1,i+=1;for(var f in t)o.hasOwnProperty(f)||(n[f]=t[f]);return n});const yx=gx;var bx=ix([Gf,wi]);const _x=bx;var wx=Lt(function(e,t){for(var n={},o=0;o<e.length;)e[o]in t&&(n[e[o]]=t[e[o]]),o+=1;return n});const Fs=wx;var Mx=Ds(function(e,t,n){return jh(t,Gr(e,n))});const hn=Mx;var $x=Lt(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,o){var i=e(n),a=e(o);return i<a?-1:i>a?1:0})});const tn=$x;var xx=Ds(function(e,t,n){return e(n)?t(n):n});const Xw=xx;var kx=Lt(function(e,t){for(var n in e)if(ni(n,e)&&!e[n](t[n]))return!1;return!0});const Sx=kx;var Ex=Lt(function(e,t){return Sx(Mo(jh,e),t)});const tf=Ex;var Ax=Lt(function(r,e){return wi(z9(ih)(r),e)});const gf=Ax,Qw=Gn([]),A1=(r,...e)=>{Qw.update(t=>t.concat({created_at:Date.now(),message:e}).slice(-100)),console[r](...e)},Ts=(...r)=>A1("log",...r),Ei=(...r)=>A1("warn",...r),yf=(...r)=>A1("error",...r);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Us(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}function Qi(...r){const e=(o,i)=>a=>o(i(a)),t=Array.from(r).reverse().reduce((o,i)=>o?e(o,i.encode):i.encode,void 0),n=r.reduce((o,i)=>o?e(o,i.decode):i.decode,void 0);return{encode:t,decode:n}}function Co(r){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(t=>{if(Us(t),t<0||t>=r.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${r.length})`);return r[t]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(t=>{if(typeof t!="string")throw new Error(`alphabet.decode: not string element=${t}`);const n=r.indexOf(t);if(n===-1)throw new Error(`Unknown letter: "${t}". Allowed: ${r}`);return n})}}}function Po(r=""){if(typeof r!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let t of e)if(typeof t!="string")throw new Error(`join.encode: non-string input=${t}`);return e.join(r)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(r)}}}function bu(r,e="="){if(Us(r),typeof e!="string")throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;t.length*r%8;)t.push(e);return t},decode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of t)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let n=t.length;if(n*r%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&t[n-1]===e;n--)if(!((n-1)*r%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,n)}}}function e3(r){if(typeof r!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>r(e)}}function Wv(r,e,t){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let n=0;const o=[],i=Array.from(r);for(i.forEach(a=>{if(Us(a),a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,f=!0;for(let c=n;c<i.length;c++){const d=i[c],m=e*a+d;if(!Number.isSafeInteger(m)||e*a/e!==a||m-d!==e*a)throw new Error("convertRadix: carry overflow");if(a=m%t,i[c]=Math.floor(m/t),!Number.isSafeInteger(i[c])||i[c]*t+a!==m)throw new Error("convertRadix: carry overflow");if(f)i[c]?f=!1:n=c;else continue}if(o.push(a),f)break}for(let a=0;a<r.length-1&&r[a]===0;a++)o.push(0);return o.reverse()}const t3=(r,e)=>e?t3(e,r%e):r,oh=(r,e)=>r+(e-t3(r,e));function Cp(r,e,t,n){if(!Array.isArray(r))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(oh(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${oh(e,t)}`);let o=0,i=0;const a=2**t-1,f=[];for(const c of r){if(Us(c),c>=2**e)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(o=o<<e|c,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=t;i-=t)f.push((o>>i-t&a)>>>0);o&=2**i-1}if(o=o<<t-i&a,!n&&i>=e)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&f.push(o>>>0),f}function r3(r){return Us(r),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Wv(Array.from(e),2**8,r)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Wv(e,r,2**8))}}}function is(r,e=!1){if(Us(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(oh(8,r)>32||oh(r,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Cp(Array.from(t),8,r,!e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Cp(t,r,8,e))}}}function Vv(r){if(typeof r!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return r.apply(null,e)}catch{}}}function n3(r,e){if(Us(r),typeof e!="function")throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=e(t).slice(0,r),o=new Uint8Array(t.length+r);return o.set(t),o.set(n,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=t.slice(0,-r),o=e(n).slice(0,r),i=t.slice(-r);for(let a=0;a<r;a++)if(o[a]!==i[a])throw new Error("Invalid checksum");return n}}}const Bx={alphabet:Co,chain:Qi,checksum:n3,radix:r3,radix2:is,join:Po,padding:bu},i3=Qi(is(4),Co("0123456789ABCDEF"),Po("")),o3=Qi(is(5),Co("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),bu(5),Po("")),Rx=Qi(is(5),Co("0123456789ABCDEFGHIJKLMNOPQRSTUV"),bu(5),Po("")),Cx=Qi(is(5),Co("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Po(""),e3(r=>r.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),bf=Qi(is(6),Co("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),bu(6),Po("")),s3=Qi(is(6),Co("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),bu(6),Po("")),B1=r=>Qi(r3(58),Co(r),Po("")),ru=B1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Px=B1("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Tx=B1("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Zv=[0,2,3,5,6,7,9,10,11],a3={encode(r){let e="";for(let t=0;t<r.length;t+=8){const n=r.subarray(t,t+8);e+=ru.encode(n).padStart(Zv[n.length],"1")}return e},decode(r){let e=[];for(let t=0;t<r.length;t+=11){const n=r.slice(t,t+11),o=Zv.indexOf(n.length),i=ru.decode(n);for(let a=0;a<i.length-o;a++)if(i[a]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(e)}},f3=r=>Qi(n3(4,e=>r(r(e))),ru),Pp=Qi(Co("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Po("")),Gv=[996825010,642813549,513874426,1027748829,705979059];function wl(r){const e=r>>25;let t=(r&33554431)<<5;for(let n=0;n<Gv.length;n++)(e>>n&1)===1&&(t^=Gv[n]);return t}function Yv(r,e,t=1){const n=r.length;let o=1;for(let i=0;i<n;i++){const a=r.charCodeAt(i);if(a<33||a>126)throw new Error(`Invalid prefix (${r})`);o=wl(o)^a>>5}o=wl(o);for(let i=0;i<n;i++)o=wl(o)^r.charCodeAt(i)&31;for(let i of e)o=wl(o)^i;for(let i=0;i<6;i++)o=wl(o);return o^=t,Pp.encode(Cp([o%2**30],30,5,!1))}function l3(r){const e=r==="bech32"?1:734539939,t=is(5),n=t.decode,o=t.encode,i=Vv(n);function a(m,v,_=90){if(typeof m!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof m}`);if(!Array.isArray(v)||v.length&&typeof v[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof v}`);const $=m.length+7+v.length;if(_!==!1&&$>_)throw new TypeError(`Length ${$} exceeds limit ${_}`);return m=m.toLowerCase(),`${m}1${Pp.encode(v)}${Yv(m,v,e)}`}function f(m,v=90){if(typeof m!="string")throw new Error(`bech32.decode input should be string, not ${typeof m}`);if(m.length<8||v!==!1&&m.length>v)throw new TypeError(`Wrong string length: ${m.length} (${m}). Expected (8..${v})`);const _=m.toLowerCase();if(m!==_&&m!==m.toUpperCase())throw new Error("String must be lowercase or uppercase");m=_;const $=m.lastIndexOf("1");if($===0||$===-1)throw new Error('Letter "1" must be present between prefix and data only');const k=m.slice(0,$),S=m.slice($+1);if(S.length<6)throw new Error("Data must be at least 6 characters long");const A=Pp.decode(S).slice(0,-6),R=Yv(k,A,e);if(!S.endsWith(R))throw new Error(`Invalid checksum in ${m}: expected "${R}"`);return{prefix:k,words:A}}const c=Vv(f);function d(m){const{prefix:v,words:_}=f(m,!1);return{prefix:v,words:_,bytes:n(_)}}return{encode:a,decode:f,decodeToBytes:d,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:i,toWords:o}}const $n=l3("bech32"),Ox=l3("bech32m"),zh={encode:r=>new TextDecoder().decode(r),decode:r=>new TextEncoder().encode(r)},u3=Qi(is(4),Co("0123456789abcdef"),Po(""),e3(r=>{if(typeof r!="string"||r.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof r} with length ${r.length}`);return r.toLowerCase()})),nu={utf8:zh,hex:u3,base16:i3,base32:o3,base64:bf,base64url:s3,base58:ru,base58xmr:a3},c3=`Invalid encoding type. Available types: ${Object.keys(nu).join(", ")}`,h3=(r,e)=>{if(typeof r!="string"||!nu.hasOwnProperty(r))throw new TypeError(c3);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return nu[r].encode(e)},Ix=h3,d3=(r,e)=>{if(!nu.hasOwnProperty(r))throw new TypeError(c3);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return nu[r].decode(e)},Lx=d3,Nx=Object.freeze(Object.defineProperty({__proto__:null,assertNumber:Us,utils:Bx,base16:i3,base32:o3,base32hex:Rx,base32crockford:Cx,base64:bf,base64url:s3,base58:ru,base58flickr:Px,base58xrp:Tx,base58xmr:a3,base58check:f3,bech32:$n,bech32m:Ox,utf8:zh,hex:u3,bytesToString:h3,str:Ix,stringToBytes:d3,bytes:Lx},Symbol.toStringTag,{value:"Module"}));function qh(r,e,t){var n=t||{},o=n.noTrailing,i=o===void 0?!1:o,a=n.noLeading,f=a===void 0?!1:a,c=n.debounceMode,d=c===void 0?void 0:c,m,v=!1,_=0;function $(){m&&clearTimeout(m)}function k(A){var R=A||{},C=R.upcomingOnly,T=C===void 0?!1:C;$(),v=!T}function S(){for(var A=arguments.length,R=new Array(A),C=0;C<A;C++)R[C]=arguments[C];var T=this,B=Date.now()-_;if(v)return;function L(){_=Date.now(),e.apply(T,R)}function j(){m=void 0}!f&&d&&!m&&L(),$(),d===void 0&&B>r?f?(_=Date.now(),i||(m=setTimeout(d?j:L,r))):L():i!==!0&&(m=setTimeout(d?j:L,d===void 0?r-B:r))}return S.cancel=k,S}function Dx(r,e,t){var n=t||{},o=n.atBegin,i=o===void 0?!1:o;return qh(r,e,{debounceMode:i!==!1})}var p3={exports:{}};(function(r,e){var t;t=function(){function n(ve,ie){var se=Object.keys(ve);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(ve);ie&&(Ee=Ee.filter(function(ce){return Object.getOwnPropertyDescriptor(ve,ce).enumerable})),se.push.apply(se,Ee)}return se}function o(ve){for(var ie=1;ie<arguments.length;ie++){var se=arguments[ie]!=null?arguments[ie]:{};ie%2?n(Object(se),!0).forEach(function(Ee){d(ve,Ee,se[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(se)):n(Object(se)).forEach(function(Ee){Object.defineProperty(ve,Ee,Object.getOwnPropertyDescriptor(se,Ee))})}return ve}function i(ve){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},i(ve)}function a(ve,ie){if(!(ve instanceof ie))throw new TypeError("Cannot call a class as a function")}function f(ve,ie){for(var se=0;se<ie.length;se++){var Ee=ie[se];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ve,Ee.key,Ee)}}function c(ve,ie,se){return ie&&f(ve.prototype,ie),se&&f(ve,se),Object.defineProperty(ve,"prototype",{writable:!1}),ve}function d(ve,ie,se){return ie in ve?Object.defineProperty(ve,ie,{value:se,enumerable:!0,configurable:!0,writable:!0}):ve[ie]=se,ve}function m(ve,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(ve,"prototype",{value:Object.create(ie&&ie.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),writable:!1}),ie&&_(ve,ie)}function v(ve){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},v(ve)}function _(ve,ie){return _=Object.setPrototypeOf||function(se,Ee){return se.__proto__=Ee,se},_(ve,ie)}function $(ve,ie){if(ie&&(typeof ie=="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}(ve)}function k(ve){var ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var se,Ee=v(ve);if(ie){var ce=v(this).constructor;se=Reflect.construct(Ee,arguments,ce)}else se=Ee.apply(this,arguments);return $(this,se)}}function S(ve){return function(ie){if(Array.isArray(ie))return A(ie)}(ve)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(ve)||function(ie,se){if(ie){if(typeof ie=="string")return A(ie,se);var Ee=Object.prototype.toString.call(ie).slice(8,-1);return Ee==="Object"&&ie.constructor&&(Ee=ie.constructor.name),Ee==="Map"||Ee==="Set"?Array.from(ie):Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee)?A(ie,se):void 0}}(ve)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(ve,ie){(ie==null||ie>ve.length)&&(ie=ve.length);for(var se=0,Ee=new Array(ie);se<ie;se++)Ee[se]=ve[se];return Ee}function R(ve){return Array.isArray?Array.isArray(ve):Z(ve)==="[object Array]"}function C(ve){return typeof ve=="string"}function T(ve){return typeof ve=="number"}function B(ve){return ve===!0||ve===!1||function(ie){return L(ie)&&ie!==null}(ve)&&Z(ve)=="[object Boolean]"}function L(ve){return i(ve)==="object"}function j(ve){return ve!=null}function V(ve){return!ve.trim().length}function Z(ve){return ve==null?ve===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(ve)}var Q=function(ve){return"Invalid value for key ".concat(ve)},ne=function(ve){return"Pattern length exceeds max of ".concat(ve,".")},w=Object.prototype.hasOwnProperty,s=function(){function ve(ie){var se=this;a(this,ve),this._keys=[],this._keyMap={};var Ee=0;ie.forEach(function(ce){var be=u(ce);Ee+=be.weight,se._keys.push(be),se._keyMap[be.id]=be,Ee+=be.weight}),this._keys.forEach(function(ce){ce.weight/=Ee})}return c(ve,[{key:"get",value:function(ie){return this._keyMap[ie]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),ve}();function u(ve){var ie=null,se=null,Ee=null,ce=1,be=null;if(C(ve)||R(ve))Ee=ve,ie=h(ve),se=p(ve);else{if(!w.call(ve,"name"))throw new Error(function(Ae){return"Missing ".concat(Ae," property in key")}("name"));var Qe=ve.name;if(Ee=Qe,w.call(ve,"weight")&&(ce=ve.weight)<=0)throw new Error(function(Ae){return"Property 'weight' in key '".concat(Ae,"' must be a positive integer")}(Qe));ie=h(Qe),se=p(Qe),be=ve.getFn}return{path:ie,id:se,weight:ce,src:Ee,getFn:be}}function h(ve){return R(ve)?ve:ve.split(".")}function p(ve){return R(ve)?ve.join("."):ve}var g={useExtendedSearch:!1,getFn:function(ve,ie){var se=[],Ee=!1;return function ce(be,Qe,Ae){if(j(be))if(Qe[Ae]){var Te=be[Qe[Ae]];if(!j(Te))return;if(Ae===Qe.length-1&&(C(Te)||T(Te)||B(Te)))se.push(function(pe){return pe==null?"":function(et){if(typeof et=="string")return et;var Ce=et+"";return Ce=="0"&&1/et==-1/0?"-0":Ce}(pe)}(Te));else if(R(Te)){Ee=!0;for(var it=0,Oe=Te.length;it<Oe;it+=1)ce(Te[it],Qe,Ae+1)}else Qe.length&&ce(Te,Qe,Ae+1)}else se.push(be)}(ve,C(ie)?ie.split("."):ie,0),Ee?se:se[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},M=o(o(o(o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(ve,ie){return ve.score===ie.score?ve.idx<ie.idx?-1:1:ve.score<ie.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),g),x=/[^ ]+/g;function y(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,se=new Map,Ee=Math.pow(10,ie);return{get:function(ce){var be=ce.match(x).length;if(se.has(be))return se.get(be);var Qe=1/Math.pow(be,.5*ve),Ae=parseFloat(Math.round(Qe*Ee)/Ee);return se.set(be,Ae),Ae},clear:function(){se.clear()}}}var l=function(){function ve(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=ie.getFn,Ee=se===void 0?M.getFn:se,ce=ie.fieldNormWeight,be=ce===void 0?M.fieldNormWeight:ce;a(this,ve),this.norm=y(be,3),this.getFn=Ee,this.isCreated=!1,this.setIndexRecords()}return c(ve,[{key:"setSources",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=ie}},{key:"setIndexRecords",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=ie}},{key:"setKeys",value:function(){var ie=this,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=se,this._keysMap={},se.forEach(function(Ee,ce){ie._keysMap[Ee.id]=ce})}},{key:"create",value:function(){var ie=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,C(this.docs[0])?this.docs.forEach(function(se,Ee){ie._addString(se,Ee)}):this.docs.forEach(function(se,Ee){ie._addObject(se,Ee)}),this.norm.clear())}},{key:"add",value:function(ie){var se=this.size();C(ie)?this._addString(ie,se):this._addObject(ie,se)}},{key:"removeAt",value:function(ie){this.records.splice(ie,1);for(var se=ie,Ee=this.size();se<Ee;se+=1)this.records[se].i-=1}},{key:"getValueForItemAtKeyId",value:function(ie,se){return ie[this._keysMap[se]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(ie,se){if(j(ie)&&!V(ie)){var Ee={v:ie,i:se,n:this.norm.get(ie)};this.records.push(Ee)}}},{key:"_addObject",value:function(ie,se){var Ee=this,ce={i:se,$:{}};this.keys.forEach(function(be,Qe){var Ae=be.getFn?be.getFn(ie):Ee.getFn(ie,be.path);if(j(Ae)){if(R(Ae))(function(){for(var it=[],Oe=[{nestedArrIndex:-1,value:Ae}];Oe.length;){var pe=Oe.pop(),et=pe.nestedArrIndex,Ce=pe.value;if(j(Ce))if(C(Ce)&&!V(Ce)){var He={v:Ce,i:et,n:Ee.norm.get(Ce)};it.push(He)}else R(Ce)&&Ce.forEach(function(mt,Ue){Oe.push({nestedArrIndex:Ue,value:mt})})}ce.$[Qe]=it})();else if(C(Ae)&&!V(Ae)){var Te={v:Ae,n:Ee.norm.get(Ae)};ce.$[Qe]=Te}}}),this.records.push(ce)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),ve}();function b(ve,ie){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee=se.getFn,ce=Ee===void 0?M.getFn:Ee,be=se.fieldNormWeight,Qe=be===void 0?M.fieldNormWeight:be,Ae=new l({getFn:ce,fieldNormWeight:Qe});return Ae.setKeys(ve.map(u)),Ae.setSources(ie),Ae.create(),Ae}function E(ve){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=ie.errors,Ee=se===void 0?0:se,ce=ie.currentLocation,be=ce===void 0?0:ce,Qe=ie.expectedLocation,Ae=Qe===void 0?0:Qe,Te=ie.distance,it=Te===void 0?M.distance:Te,Oe=ie.ignoreLocation,pe=Oe===void 0?M.ignoreLocation:Oe,et=Ee/ve.length;if(pe)return et;var Ce=Math.abs(Ae-be);return it?et+Ce/it:Ce?1:et}function P(){for(var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.minMatchCharLength,se=[],Ee=-1,ce=-1,be=0,Qe=ve.length;be<Qe;be+=1){var Ae=ve[be];Ae&&Ee===-1?Ee=be:Ae||Ee===-1||((ce=be-1)-Ee+1>=ie&&se.push([Ee,ce]),Ee=-1)}return ve[be-1]&&be-Ee>=ie&&se.push([Ee,be-1]),se}var H=32;function ee(ve){for(var ie={},se=0,Ee=ve.length;se<Ee;se+=1){var ce=ve.charAt(se);ie[ce]=(ie[ce]||0)|1<<Ee-se-1}return ie}var Y=function(){function ve(ie){var se=this,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=Ee.location,be=ce===void 0?M.location:ce,Qe=Ee.threshold,Ae=Qe===void 0?M.threshold:Qe,Te=Ee.distance,it=Te===void 0?M.distance:Te,Oe=Ee.includeMatches,pe=Oe===void 0?M.includeMatches:Oe,et=Ee.findAllMatches,Ce=et===void 0?M.findAllMatches:et,He=Ee.minMatchCharLength,mt=He===void 0?M.minMatchCharLength:He,Ue=Ee.isCaseSensitive,Ve=Ue===void 0?M.isCaseSensitive:Ue,bt=Ee.ignoreLocation,$e=bt===void 0?M.ignoreLocation:bt;if(a(this,ve),this.options={location:be,threshold:Ae,distance:it,includeMatches:pe,findAllMatches:Ce,minMatchCharLength:mt,isCaseSensitive:Ve,ignoreLocation:$e},this.pattern=Ve?ie:ie.toLowerCase(),this.chunks=[],this.pattern.length){var Se=function(qt,hr){se.chunks.push({pattern:qt,alphabet:ee(qt),startIndex:hr})},Et=this.pattern.length;if(Et>H){for(var Ze=0,Je=Et%H,Pt=Et-Je;Ze<Pt;)Se(this.pattern.substr(Ze,H),Ze),Ze+=H;if(Je){var Bt=Et-H;Se(this.pattern.substr(Bt),Bt)}}else Se(this.pattern,0)}}return c(ve,[{key:"searchIn",value:function(ie){var se=this.options,Ee=se.isCaseSensitive,ce=se.includeMatches;if(Ee||(ie=ie.toLowerCase()),this.pattern===ie){var be={isMatch:!0,score:0};return ce&&(be.indices=[[0,ie.length-1]]),be}var Qe=this.options,Ae=Qe.location,Te=Qe.distance,it=Qe.threshold,Oe=Qe.findAllMatches,pe=Qe.minMatchCharLength,et=Qe.ignoreLocation,Ce=[],He=0,mt=!1;this.chunks.forEach(function(Ve){var bt=Ve.pattern,$e=Ve.alphabet,Se=Ve.startIndex,Et=function(Bt,qt,hr){var Zt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},dr=Zt.location,wr=dr===void 0?M.location:dr,Mr=Zt.distance,sr=Mr===void 0?M.distance:Mr,$r=Zt.threshold,xr=$r===void 0?M.threshold:$r,rr=Zt.findAllMatches,pr=rr===void 0?M.findAllMatches:rr,or=Zt.minMatchCharLength,mr=or===void 0?M.minMatchCharLength:or,vr=Zt.includeMatches,kr=vr===void 0?M.includeMatches:vr,gr=Zt.ignoreLocation,ar=gr===void 0?M.ignoreLocation:gr;if(qt.length>H)throw new Error(ne(H));for(var Hi,hi=qt.length,Zs=Bt.length,Wn=Math.max(0,Math.min(wr,Zs)),as=xr,fs=Wn,Oa=mr>1||kr,hl=Oa?Array(Zs):[];(Hi=Bt.indexOf(qt,fs))>-1;){var tc=E(qt,{currentLocation:Hi,expectedLocation:Wn,distance:sr,ignoreLocation:ar});if(as=Math.min(tc,as),fs=Hi+hi,Oa)for(var dl=0;dl<hi;)hl[Hi+dl]=1,dl+=1}fs=-1;for(var Gs=[],Ia=1,La=hi+Zs,pl=1<<hi-1,oo=0;oo<hi;oo+=1){for(var Na=0,so=La;Na<so;)E(qt,{errors:oo,currentLocation:Wn+so,expectedLocation:Wn,distance:sr,ignoreLocation:ar})<=as?Na=so:La=so,so=Math.floor((La-Na)/2+Na);La=so;var ml=Math.max(1,Wn-so+1),vl=pr?Zs:Math.min(Wn+so,Zs)+hi,Fo=Array(vl+2);Fo[vl+1]=(1<<oo)-1;for(var Fn=vl;Fn>=ml;Fn-=1){var Da=Fn-1,gl=hr[Bt.charAt(Da)];if(Oa&&(hl[Da]=+!!gl),Fo[Fn]=(Fo[Fn+1]<<1|1)&gl,oo&&(Fo[Fn]|=(Gs[Fn+1]|Gs[Fn])<<1|1|Gs[Fn+1]),Fo[Fn]&pl&&(Ia=E(qt,{errors:oo,currentLocation:Da,expectedLocation:Wn,distance:sr,ignoreLocation:ar}))<=as){if(as=Ia,(fs=Da)<=Wn)break;ml=Math.max(1,2*Wn-fs)}}if(E(qt,{errors:oo+1,currentLocation:Wn,expectedLocation:Wn,distance:sr,ignoreLocation:ar})>as)break;Gs=Fo}var Fa={isMatch:fs>=0,score:Math.max(.001,Ia)};if(Oa){var Uo=P(hl,mr);Uo.length?kr&&(Fa.indices=Uo):Fa.isMatch=!1}return Fa}(ie,bt,$e,{location:Ae+Se,distance:Te,threshold:it,findAllMatches:Oe,minMatchCharLength:pe,includeMatches:ce,ignoreLocation:et}),Ze=Et.isMatch,Je=Et.score,Pt=Et.indices;Ze&&(mt=!0),He+=Je,Ze&&Pt&&(Ce=[].concat(S(Ce),S(Pt)))});var Ue={isMatch:mt,score:mt?He/this.chunks.length:1};return mt&&ce&&(Ue.indices=Ce),Ue}}]),ve}(),re=function(){function ve(ie){a(this,ve),this.pattern=ie}return c(ve,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(ie){return Me(ie,this.multiRegex)}},{key:"isSingleMatch",value:function(ie){return Me(ie,this.singleRegex)}}]),ve}();function Me(ve,ie){var se=ve.match(ie);return se?se[1]:null}var de=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=Ee===this.pattern;return{isMatch:ce,score:ce?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),se}(re),_e=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=Ee.indexOf(this.pattern)===-1;return{isMatch:ce,score:ce?0:1,indices:[0,Ee.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),se}(re),te=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=Ee.startsWith(this.pattern);return{isMatch:ce,score:ce?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),se}(re),X=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=!Ee.startsWith(this.pattern);return{isMatch:ce,score:ce?0:1,indices:[0,Ee.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),se}(re),ye=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=Ee.endsWith(this.pattern);return{isMatch:ce,score:ce?0:1,indices:[Ee.length-this.pattern.length,Ee.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),se}(re),Ge=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){var ce=!Ee.endsWith(this.pattern);return{isMatch:ce,score:ce?0:1,indices:[0,Ee.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),se}(re),Pe=function(ve){m(se,ve);var ie=k(se);function se(Ee){var ce,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qe=be.location,Ae=Qe===void 0?M.location:Qe,Te=be.threshold,it=Te===void 0?M.threshold:Te,Oe=be.distance,pe=Oe===void 0?M.distance:Oe,et=be.includeMatches,Ce=et===void 0?M.includeMatches:et,He=be.findAllMatches,mt=He===void 0?M.findAllMatches:He,Ue=be.minMatchCharLength,Ve=Ue===void 0?M.minMatchCharLength:Ue,bt=be.isCaseSensitive,$e=bt===void 0?M.isCaseSensitive:bt,Se=be.ignoreLocation,Et=Se===void 0?M.ignoreLocation:Se;return a(this,se),(ce=ie.call(this,Ee))._bitapSearch=new Y(Ee,{location:Ae,threshold:it,distance:pe,includeMatches:Ce,findAllMatches:mt,minMatchCharLength:Ve,isCaseSensitive:$e,ignoreLocation:Et}),ce}return c(se,[{key:"search",value:function(Ee){return this._bitapSearch.searchIn(Ee)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),se}(re),W=function(ve){m(se,ve);var ie=k(se);function se(Ee){return a(this,se),ie.call(this,Ee)}return c(se,[{key:"search",value:function(Ee){for(var ce,be=0,Qe=[],Ae=this.pattern.length;(ce=Ee.indexOf(this.pattern,be))>-1;)be=ce+Ae,Qe.push([ce,be-1]);var Te=!!Qe.length;return{isMatch:Te,score:Te?0:1,indices:Qe}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),se}(re),U=[de,W,te,X,Ge,ye,_e,Pe],N=U.length,G=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;function ke(ve){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ve.split("|").map(function(se){for(var Ee=se.trim().split(G).filter(function(He){return He&&!!He.trim()}),ce=[],be=0,Qe=Ee.length;be<Qe;be+=1){for(var Ae=Ee[be],Te=!1,it=-1;!Te&&++it<N;){var Oe=U[it],pe=Oe.isMultiMatch(Ae);pe&&(ce.push(new Oe(pe,ie)),Te=!0)}if(!Te)for(it=-1;++it<N;){var et=U[it],Ce=et.isSingleMatch(Ae);if(Ce){ce.push(new et(Ce,ie));break}}}return ce})}var ge=new Set([Pe.type,W.type]),xe=function(){function ve(ie){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=se.isCaseSensitive,ce=Ee===void 0?M.isCaseSensitive:Ee,be=se.includeMatches,Qe=be===void 0?M.includeMatches:be,Ae=se.minMatchCharLength,Te=Ae===void 0?M.minMatchCharLength:Ae,it=se.ignoreLocation,Oe=it===void 0?M.ignoreLocation:it,pe=se.findAllMatches,et=pe===void 0?M.findAllMatches:pe,Ce=se.location,He=Ce===void 0?M.location:Ce,mt=se.threshold,Ue=mt===void 0?M.threshold:mt,Ve=se.distance,bt=Ve===void 0?M.distance:Ve;a(this,ve),this.query=null,this.options={isCaseSensitive:ce,includeMatches:Qe,minMatchCharLength:Te,findAllMatches:et,ignoreLocation:Oe,location:He,threshold:Ue,distance:bt},this.pattern=ce?ie:ie.toLowerCase(),this.query=ke(this.pattern,this.options)}return c(ve,[{key:"searchIn",value:function(ie){var se=this.query;if(!se)return{isMatch:!1,score:1};var Ee=this.options,ce=Ee.includeMatches;ie=Ee.isCaseSensitive?ie:ie.toLowerCase();for(var be=0,Qe=[],Ae=0,Te=0,it=se.length;Te<it;Te+=1){var Oe=se[Te];Qe.length=0,be=0;for(var pe=0,et=Oe.length;pe<et;pe+=1){var Ce=Oe[pe],He=Ce.search(ie),mt=He.isMatch,Ue=He.indices,Ve=He.score;if(!mt){Ae=0,be=0,Qe.length=0;break}if(be+=1,Ae+=Ve,ce){var bt=Ce.constructor.type;ge.has(bt)?Qe=[].concat(S(Qe),S(Ue)):Qe.push(Ue)}}if(be){var $e={isMatch:!0,score:Ae/be};return ce&&($e.indices=Qe),$e}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(ie,se){return se.useExtendedSearch}}]),ve}(),ot=[];function Ie(ve,ie){for(var se=0,Ee=ot.length;se<Ee;se+=1){var ce=ot[se];if(ce.condition(ve,ie))return new ce(ve,ie)}return new Y(ve,ie)}var je="$and",ht="$or",De="$path",ze="$val",xt=function(ve){return!(!ve[je]&&!ve[ht])},qe=function(ve){return!!ve[De]},Ye=function(ve){return!R(ve)&&L(ve)&&!xt(ve)},St=function(ve){return d({},je,Object.keys(ve).map(function(ie){return d({},ie,ve[ie])}))};function Ke(ve,ie){var se=ie.ignoreFieldNorm,Ee=se===void 0?M.ignoreFieldNorm:se;ve.forEach(function(ce){var be=1;ce.matches.forEach(function(Qe){var Ae=Qe.key,Te=Qe.norm,it=Qe.score,Oe=Ae?Ae.weight:null;be*=Math.pow(it===0&&Oe?Number.EPSILON:it,(Oe||1)*(Ee?1:Te))}),ce.score=be})}function we(ve,ie){var se=ve.matches;ie.matches=[],j(se)&&se.forEach(function(Ee){if(j(Ee.indices)&&Ee.indices.length){var ce={indices:Ee.indices,value:Ee.value};Ee.key&&(ce.key=Ee.key.src),Ee.idx>-1&&(ce.refIndex=Ee.idx),ie.matches.push(ce)}})}function nt(ve,ie){ie.score=ve.score}function Ne(ve,ie){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee=se.includeMatches,ce=Ee===void 0?M.includeMatches:Ee,be=se.includeScore,Qe=be===void 0?M.includeScore:be,Ae=[];return ce&&Ae.push(we),Qe&&Ae.push(nt),ve.map(function(Te){var it=Te.idx,Oe={item:ie[it],refIndex:it};return Ae.length&&Ae.forEach(function(pe){pe(Te,Oe)}),Oe})}var Re=function(){function ve(ie){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=arguments.length>2?arguments[2]:void 0;a(this,ve),this.options=o(o({},M),se),this.options.useExtendedSearch,this._keyStore=new s(this.options.keys),this.setCollection(ie,Ee)}return c(ve,[{key:"setCollection",value:function(ie,se){if(this._docs=ie,se&&!(se instanceof l))throw new Error("Incorrect 'index' type");this._myIndex=se||b(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(ie){j(ie)&&(this._docs.push(ie),this._myIndex.add(ie))}},{key:"remove",value:function(){for(var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},se=[],Ee=0,ce=this._docs.length;Ee<ce;Ee+=1){var be=this._docs[Ee];ie(be,Ee)&&(this.removeAt(Ee),Ee-=1,ce-=1,se.push(be))}return se}},{key:"removeAt",value:function(ie){this._docs.splice(ie,1),this._myIndex.removeAt(ie)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(ie){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=se.limit,ce=Ee===void 0?-1:Ee,be=this.options,Qe=be.includeMatches,Ae=be.includeScore,Te=be.shouldSort,it=be.sortFn,Oe=be.ignoreFieldNorm,pe=C(ie)?C(this._docs[0])?this._searchStringList(ie):this._searchObjectList(ie):this._searchLogical(ie);return Ke(pe,{ignoreFieldNorm:Oe}),Te&&pe.sort(it),T(ce)&&ce>-1&&(pe=pe.slice(0,ce)),Ne(pe,this._docs,{includeMatches:Qe,includeScore:Ae})}},{key:"_searchStringList",value:function(ie){var se=Ie(ie,this.options),Ee=this._myIndex.records,ce=[];return Ee.forEach(function(be){var Qe=be.v,Ae=be.i,Te=be.n;if(j(Qe)){var it=se.searchIn(Qe),Oe=it.isMatch,pe=it.score,et=it.indices;Oe&&ce.push({item:Qe,idx:Ae,matches:[{score:pe,value:Qe,norm:Te,indices:et}]})}}),ce}},{key:"_searchLogical",value:function(ie){var se=this,Ee=function(Te,it){var Oe=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).auto,pe=Oe===void 0||Oe,et=function Ce(He){var mt=Object.keys(He),Ue=qe(He);if(!Ue&&mt.length>1&&!xt(He))return Ce(St(He));if(Ye(He)){var Ve=Ue?He[De]:mt[0],bt=Ue?He[ze]:He[Ve];if(!C(bt))throw new Error(Q(Ve));var $e={keyId:p(Ve),pattern:bt};return pe&&($e.searcher=Ie(bt,it)),$e}var Se={children:[],operator:mt[0]};return mt.forEach(function(Et){var Ze=He[Et];R(Ze)&&Ze.forEach(function(Je){Se.children.push(Ce(Je))})}),Se};return xt(Te)||(Te=St(Te)),et(Te)}(ie,this.options),ce=function Te(it,Oe,pe){if(!it.children){var et=it.keyId,Ce=it.searcher,He=se._findMatches({key:se._keyStore.get(et),value:se._myIndex.getValueForItemAtKeyId(Oe,et),searcher:Ce});return He&&He.length?[{idx:pe,item:Oe,matches:He}]:[]}for(var mt=[],Ue=0,Ve=it.children.length;Ue<Ve;Ue+=1){var bt=Te(it.children[Ue],Oe,pe);if(bt.length)mt.push.apply(mt,S(bt));else if(it.operator===je)return[]}return mt},be=this._myIndex.records,Qe={},Ae=[];return be.forEach(function(Te){var it=Te.$,Oe=Te.i;if(j(it)){var pe=ce(Ee,it,Oe);pe.length&&(Qe[Oe]||(Qe[Oe]={idx:Oe,item:it,matches:[]},Ae.push(Qe[Oe])),pe.forEach(function(et){var Ce,He=et.matches;(Ce=Qe[Oe].matches).push.apply(Ce,S(He))}))}}),Ae}},{key:"_searchObjectList",value:function(ie){var se=this,Ee=Ie(ie,this.options),ce=this._myIndex,be=ce.keys,Qe=ce.records,Ae=[];return Qe.forEach(function(Te){var it=Te.$,Oe=Te.i;if(j(it)){var pe=[];be.forEach(function(et,Ce){pe.push.apply(pe,S(se._findMatches({key:et,value:it[Ce],searcher:Ee})))}),pe.length&&Ae.push({idx:Oe,item:it,matches:pe})}}),Ae}},{key:"_findMatches",value:function(ie){var se=ie.key,Ee=ie.value,ce=ie.searcher;if(!j(Ee))return[];var be=[];if(R(Ee))Ee.forEach(function(et){var Ce=et.v,He=et.i,mt=et.n;if(j(Ce)){var Ue=ce.searchIn(Ce),Ve=Ue.isMatch,bt=Ue.score,$e=Ue.indices;Ve&&be.push({score:bt,key:se,value:Ce,idx:He,norm:mt,indices:$e})}});else{var Qe=Ee.v,Ae=Ee.n,Te=ce.searchIn(Qe),it=Te.isMatch,Oe=Te.score,pe=Te.indices;it&&be.push({score:Oe,key:se,value:Qe,norm:Ae,indices:pe})}return be}}]),ve}();return Re.version="6.6.2",Re.createIndex=b,Re.parseIndex=function(ve){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=ie.getFn,Ee=se===void 0?M.getFn:se,ce=ie.fieldNormWeight,be=ce===void 0?M.fieldNormWeight:ce,Qe=ve.keys,Ae=ve.records,Te=new l({getFn:Ee,fieldNormWeight:be});return Te.setKeys(Qe),Te.setIndexRecords(Ae),Te},Re.config=M,function(){ot.push.apply(ot,arguments)}(xe),Re},r.exports=t()})(p3);const Fx=p3.exports,Sa=(r,e={})=>{const t=new Fx(r,e);return n=>n?Ar("item",t.search(n.slice(0,32))):r},m3=r=>Math.abs(r.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0)),Jv=r=>{try{return JSON.parse(localStorage.getItem(r))}catch(e){return Ei(`Unable to parse ${r}: ${e}`),null}},Ux=(r,e)=>{try{localStorage.setItem(r,JSON.stringify(e))}catch(t){Ei(`Unable to set ${r}: ${t}`)}},dn=()=>Math.round(new Date().valueOf()/1e3),Hs=(r,e="seconds")=>{switch(e){case"seconds":case"second":return r;case"minutes":case"minute":return r*60;case"hours":case"hour":return r*60*60;case"days":case"day":return r*60*60*24;default:throw new Error(`Invalid unit ${e}`)}},Os=r=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(r*1e3)),Vo=r=>new Promise(e=>setTimeout(e,r)),R1=(r,e)=>{let t=!0;return(async()=>{for(;t;)e(),await Vo(r)})(),()=>{t=!1}},C1=(r,{reverse:e=!1}={})=>{let n=!1;const o=async()=>{const{scrollY:i,innerHeight:a}=window,{scrollHeight:f}=document.body;(e?i<2e3:i+a+2e3>f)&&await r(),await Vo(500),n||requestAnimationFrame(o)};return requestAnimationFrame(o),{check:o,stop:()=>{n=!0}}};class v3{constructor({limit:e=50,delta:t=void 0}={}){Gt(this,"delta");Gt(this,"since");Gt(this,"until");Gt(this,"limit");Gt(this,"count");this.delta=t,this.since=t?dn()-t:void 0,this.until=dn(),this.limit=e,this.count=0}getFilter(){return Gf(oi,{since:this.since,until:this.until,limit:this.limit})}prune(e){const t=Xv(e.map(n=>this.until-n.created_at))*4;return e.filter(n=>this.until-n.created_at<t)}update(e){if(e.length>2){this.count+=1;const t=tn(oi,Ar("created_at",e)),n=z7(2,t).map(([f,c])=>c-f),o=qx(n,.5),i=Xv(n.filter(V9(o))),a=Math.min(1,Math.log10(e.length))*Math.min(1,Math.log10(this.count+1));this.until-=Math.round(i*a*this.limit)}this.since&&(this.since=Math.min(this.since,this.until)-this.delta)}}const Jf=(r,e=null)=>{const t=Gn(kt.exports.isObject(e)?px(e,Jv(r)||{}):Jv(r)||e);return t.subscribe(Dx(1e3,n=>Ux(r,n))),t},Xf=tn(()=>Math.random()>.5),g3=(r,e)=>{const t=[],n=qh(r,()=>t.length>0&&e(t.splice(0)));return o=>{t.push(o),n()}},Xv=r=>Jw(r)/r.length,Qv=r=>T7(Object.entries(r).map(([e,t])=>{let[n,o="eq"]=e.split(":"),i,a=oi,f=n.split(".");if(o.startsWith("!")&&(o=o.slice(1),a=o9),o==="eq"&&yu(Array,t))i=c=>t.includes(c);else if(o==="eq")i=jh(t);else if(o==="lt")i=c=>(c||0)<t;else if(o==="lte")i=c=>(c||0)<=t;else if(o==="gt")i=c=>(c||0)>t;else if(o==="gte")i=c=>(c||0)>=t;else if(o==="nil")i=eu;else throw new Error(`Invalid operator ${o}`);return tu(Yw(f),a(i))})),_f=r=>{let e=0;for(let t=0;t<r.length;t++)e=r.charCodeAt(t)+((e<<5)-e),e=e&e;return e%360},va=(r,{saturation:e=100,lightness:t=50,opacity:n=1}={})=>`hsl(${r}, ${e}%, ${t}%, ${n})`,P1=(r,e=null)=>{try{const t=r();return yu(Promise,t)?t.catch(n=>{(!e||!n.toString().includes(e))&&Ei(n)}):t}catch(t){(!e||!t.toString().includes(e))&&Ei(t)}},js=r=>P1(r,"JSON"),Hx=r=>P1(r,"fetch"),jx=(...r)=>new Set(r.flatMap(e=>Array.from(e))),zx=(r,e)=>new Set(Array.from(r).filter(t=>!e.has(t))),qx=(r,e)=>{const t=tn(oi,r),n=(t.length-1)*e,o=Math.floor(n),i=n-o;return eu(t[o+1])?t[o]:t[o]+i*(t[o+1]-t[o])},Kh=async(r,e={})=>(e.headers||(e.headers={}),e.headers.Accept="application/json",await(await fetch(r,e)).json()),Kx=async(r,e,t={})=>(t.method||(t.method="POST"),t.headers||(t.headers={}),t.headers["Content-Type"]="application/json",t.body=JSON.stringify(e),Kh(r,t)),Wx=(r,e)=>{const t=new FormData;return t.append("file",e),Kh(r,{method:"POST",body:t})},y3=(r,e)=>$n.encode(r,$n.toWords(zh.decode(e)),!1),b3=r=>zh.encode($n.fromWords($n.decode(r,!1).words)),Ya=new Intl.NumberFormat,eg=r=>r<1e3?Ya.format(r):r<1e6?Ya.format(kt.exports.round(1,r/1e3))+"K":r<1e8?Ya.format(kt.exports.round(1,r/1e6))+"MM":Ya.format(kt.exports.round(2,r/1e8))+"BTC";var Ht={},Is={exports:{}},zt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,e){var t=Dt,n=t.Buffer;function o(a,f){for(var c in a)f[c]=a[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(o(t,e),e.Buffer=i);function i(a,f,c){return n(a,f,c)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(a,f,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,f,c)},i.alloc=function(a,f,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=n(a);return f!==void 0?typeof c=="string"?d.fill(f,c):d.fill(f):d.fill(0),d},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(a)}})(zt,zt.exports);var vd=65536,Vx=4294967295;function Zx(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Gx=zt.exports.Buffer,sh=Jt.crypto||Jt.msCrypto;sh&&sh.getRandomValues?Is.exports=Yx:Is.exports=Zx;function Yx(r,e){if(r>Vx)throw new RangeError("requested too many random bytes");var t=Gx.allocUnsafe(r);if(r>0)if(r>vd)for(var n=0;n<r;n+=vd)sh.getRandomValues(t.slice(n,n+vd));else sh.getRandomValues(t);return typeof e=="function"?It.exports.nextTick(function(){e(null,t)}):t}var Ut={exports:{}};typeof Object.create=="function"?Ut.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ut.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var ah={exports:{}},_u={exports:{}},rf=typeof Reflect=="object"?Reflect:null,tg=rf&&typeof rf.apply=="function"?rf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Pc;rf&&typeof rf.ownKeys=="function"?Pc=rf.ownKeys:Object.getOwnPropertySymbols?Pc=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Pc=function(e){return Object.getOwnPropertyNames(e)};function Jx(r){console&&console.warn&&console.warn(r)}var _3=Number.isNaN||function(e){return e!==e};function Fr(){Fr.init.call(this)}_u.exports=Fr;_u.exports.once=tk;Fr.EventEmitter=Fr;Fr.prototype._events=void 0;Fr.prototype._eventsCount=0;Fr.prototype._maxListeners=void 0;var rg=10;function Wh(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Fr,"defaultMaxListeners",{enumerable:!0,get:function(){return rg},set:function(r){if(typeof r!="number"||r<0||_3(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");rg=r}});Fr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Fr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||_3(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function w3(r){return r._maxListeners===void 0?Fr.defaultMaxListeners:r._maxListeners}Fr.prototype.getMaxListeners=function(){return w3(this)};Fr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o=e==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var f=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw f.context=a,f}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")tg(c,this,t);else for(var d=c.length,m=S3(c,d),n=0;n<d;++n)tg(m[n],this,t);return!0};function M3(r,e,t,n){var o,i,a;if(Wh(t),i=r._events,i===void 0?(i=r._events=Object.create(null),r._eventsCount=0):(i.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),i=r._events),a=i[e]),a===void 0)a=i[e]=t,++r._eventsCount;else if(typeof a=="function"?a=i[e]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),o=w3(r),o>0&&a.length>o&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=r,f.type=e,f.count=a.length,Jx(f)}return r}Fr.prototype.addListener=function(e,t){return M3(this,e,t,!1)};Fr.prototype.on=Fr.prototype.addListener;Fr.prototype.prependListener=function(e,t){return M3(this,e,t,!0)};function Xx(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $3(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},o=Xx.bind(n);return o.listener=t,n.wrapFn=o,o}Fr.prototype.once=function(e,t){return Wh(t),this.on(e,$3(this,e,t)),this};Fr.prototype.prependOnceListener=function(e,t){return Wh(t),this.prependListener(e,$3(this,e,t)),this};Fr.prototype.removeListener=function(e,t){var n,o,i,a,f;if(Wh(t),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){f=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():Qx(n,i),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,f||t)}return this};Fr.prototype.off=Fr.prototype.removeListener;Fr.prototype.removeAllListeners=function(e){var t,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),a;for(o=0;o<i.length;++o)a=i[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this};function x3(r,e,t){var n=r._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?t?[o.listener||o]:[o]:t?ek(o):S3(o,o.length)}Fr.prototype.listeners=function(e){return x3(this,e,!0)};Fr.prototype.rawListeners=function(e){return x3(this,e,!1)};Fr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):k3.call(r,e)};Fr.prototype.listenerCount=k3;function k3(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Fr.prototype.eventNames=function(){return this._eventsCount>0?Pc(this._events):[]};function S3(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function Qx(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function ek(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function tk(r,e){return new Promise(function(t,n){function o(a){r.removeListener(e,i),n(a)}function i(){typeof r.removeListener=="function"&&r.removeListener("error",o),t([].slice.call(arguments))}E3(r,e,i,{once:!0}),e!=="error"&&rk(r,o,{once:!0})})}function rk(r,e,t){typeof r.on=="function"&&E3(r,"error",e,t)}function E3(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function o(i){n.once&&r.removeEventListener(e,o),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var A3=_u.exports.EventEmitter,T1={},B3={},R3=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==o||a.enumerable!==!0)return!1}return!0},nk=R3,Vh=function(){return nk()&&!!Symbol.toStringTag},ng=typeof Symbol<"u"&&Symbol,ik=R3,ok=function(){return typeof ng!="function"||typeof Symbol!="function"||typeof ng("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ik()},sk="Function.prototype.bind called on incompatible ",gd=Array.prototype.slice,ak=Object.prototype.toString,fk="[object Function]",lk=function(e){var t=this;if(typeof t!="function"||ak.call(t)!==fk)throw new TypeError(sk+t);for(var n=gd.call(arguments,1),o,i=function(){if(this instanceof o){var m=t.apply(this,n.concat(gd.call(arguments)));return Object(m)===m?m:this}else return t.apply(e,n.concat(gd.call(arguments)))},a=Math.max(0,t.length-n.length),f=[],c=0;c<a;c++)f.push("$"+c);if(o=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var d=function(){};d.prototype=t.prototype,o.prototype=new d,d.prototype=null}return o},uk=lk,O1=Function.prototype.bind||uk,ck=O1,hk=ck.call(Function.call,Object.prototype.hasOwnProperty),fr,wf=SyntaxError,C3=Function,nf=TypeError,yd=function(r){try{return C3('"use strict"; return ('+r+").constructor;")()}catch{}},da=Object.getOwnPropertyDescriptor;if(da)try{da({},"")}catch{da=null}var bd=function(){throw new nf},dk=da?function(){try{return arguments.callee,bd}catch{try{return da(arguments,"callee").get}catch{return bd}}}():bd,za=ok(),Ms=Object.getPrototypeOf||function(r){return r.__proto__},Wa={},pk=typeof Uint8Array>"u"?fr:Ms(Uint8Array),of={"%AggregateError%":typeof AggregateError>"u"?fr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fr:ArrayBuffer,"%ArrayIteratorPrototype%":za?Ms([][Symbol.iterator]()):fr,"%AsyncFromSyncIteratorPrototype%":fr,"%AsyncFunction%":Wa,"%AsyncGenerator%":Wa,"%AsyncGeneratorFunction%":Wa,"%AsyncIteratorPrototype%":Wa,"%Atomics%":typeof Atomics>"u"?fr:Atomics,"%BigInt%":typeof BigInt>"u"?fr:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?fr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fr:FinalizationRegistry,"%Function%":C3,"%GeneratorFunction%":Wa,"%Int8Array%":typeof Int8Array>"u"?fr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":za?Ms(Ms([][Symbol.iterator]())):fr,"%JSON%":typeof JSON=="object"?JSON:fr,"%Map%":typeof Map>"u"?fr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!za?fr:Ms(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fr:Promise,"%Proxy%":typeof Proxy>"u"?fr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?fr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!za?fr:Ms(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":za?Ms(""[Symbol.iterator]()):fr,"%Symbol%":za?Symbol:fr,"%SyntaxError%":wf,"%ThrowTypeError%":dk,"%TypedArray%":pk,"%TypeError%":nf,"%Uint8Array%":typeof Uint8Array>"u"?fr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?fr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fr:WeakSet},mk=function r(e){var t;if(e==="%AsyncFunction%")t=yd("async function () {}");else if(e==="%GeneratorFunction%")t=yd("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=yd("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&(t=Ms(o.prototype))}return of[e]=t,t},ig={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wu=O1,fh=hk,vk=wu.call(Function.call,Array.prototype.concat),gk=wu.call(Function.apply,Array.prototype.splice),og=wu.call(Function.call,String.prototype.replace),lh=wu.call(Function.call,String.prototype.slice),yk=wu.call(Function.call,RegExp.prototype.exec),bk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_k=/\\(\\)?/g,wk=function(e){var t=lh(e,0,1),n=lh(e,-1);if(t==="%"&&n!=="%")throw new wf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new wf("invalid intrinsic syntax, expected opening `%`");var o=[];return og(e,bk,function(i,a,f,c){o[o.length]=f?og(c,_k,"$1"):a||i}),o},Mk=function(e,t){var n=e,o;if(fh(ig,n)&&(o=ig[n],n="%"+o[0]+"%"),fh(of,n)){var i=of[n];if(i===Wa&&(i=mk(n)),typeof i>"u"&&!t)throw new nf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new wf("intrinsic "+e+" does not exist!")},I1=function(e,t){if(typeof e!="string"||e.length===0)throw new nf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new nf('"allowMissing" argument must be a boolean');if(yk(/^%?[^%]*%?$/,e)===null)throw new wf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wk(e),o=n.length>0?n[0]:"",i=Mk("%"+o+"%",t),a=i.name,f=i.value,c=!1,d=i.alias;d&&(o=d[0],gk(n,vk([0,1],d)));for(var m=1,v=!0;m<n.length;m+=1){var _=n[m],$=lh(_,0,1),k=lh(_,-1);if(($==='"'||$==="'"||$==="`"||k==='"'||k==="'"||k==="`")&&$!==k)throw new wf("property names with quotes must have matching quotes");if((_==="constructor"||!v)&&(c=!0),o+="."+_,a="%"+o+"%",fh(of,a))f=of[a];else if(f!=null){if(!(_ in f)){if(!t)throw new nf("base intrinsic for "+e+" exists, but the property is not available.");return}if(da&&m+1>=n.length){var S=da(f,_);v=!!S,v&&"get"in S&&!("originalValue"in S.get)?f=S.get:f=f[_]}else v=fh(f,_),f=f[_];v&&!c&&(of[a]=f)}}return f},P3={exports:{}};(function(r){var e=O1,t=I1,n=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(o,n),a=t("%Object.getOwnPropertyDescriptor%",!0),f=t("%Object.defineProperty%",!0),c=t("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}r.exports=function(v){var _=i(e,o,arguments);if(a&&f){var $=a(_,"length");$.configurable&&f(_,"length",{value:1+c(0,v.length-(arguments.length-1))})}return _};var d=function(){return i(e,n,arguments)};f?f(r.exports,"apply",{value:d}):r.exports.apply=d})(P3);var T3=I1,O3=P3.exports,$k=O3(T3("String.prototype.indexOf")),L1=function(e,t){var n=T3(e,!!t);return typeof n=="function"&&$k(e,".prototype.")>-1?O3(n):n},xk=Vh(),kk=L1,Tp=kk("Object.prototype.toString"),Zh=function(e){return xk&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Tp(e)==="[object Arguments]"},I3=function(e){return Zh(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Tp(e)!=="[object Array]"&&Tp(e.callee)==="[object Function]"},Sk=function(){return Zh(arguments)}();Zh.isLegacyArguments=I3;var Ek=Sk?Zh:I3,Ak=Object.prototype.toString,Bk=Function.prototype.toString,Rk=/^\s*(?:function)?\*/,L3=Vh(),_d=Object.getPrototypeOf,Ck=function(){if(!L3)return!1;try{return Function("return function*() {}")()}catch{}},wd,Pk=function(e){if(typeof e!="function")return!1;if(Rk.test(Bk.call(e)))return!0;if(!L3){var t=Ak.call(e);return t==="[object GeneratorFunction]"}if(!_d)return!1;if(typeof wd>"u"){var n=Ck();wd=n?_d(n):!1}return _d(e)===wd},N3=Function.prototype.toString,Ja=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Op,Tc;if(typeof Ja=="function"&&typeof Object.defineProperty=="function")try{Op=Object.defineProperty({},"length",{get:function(){throw Tc}}),Tc={},Ja(function(){throw 42},null,Op)}catch(r){r!==Tc&&(Ja=null)}else Ja=null;var Tk=/^\s*class\b/,Ip=function(e){try{var t=N3.call(e);return Tk.test(t)}catch{return!1}},Md=function(e){try{return Ip(e)?!1:(N3.call(e),!0)}catch{return!1}},Oc=Object.prototype.toString,Ok="[object Object]",Ik="[object Function]",Lk="[object GeneratorFunction]",Nk="[object HTMLAllCollection]",Dk="[object HTML document.all class]",Fk="[object HTMLCollection]",Uk=typeof Symbol=="function"&&!!Symbol.toStringTag,Hk=!(0 in[,]),Lp=function(){return!1};if(typeof document=="object"){var jk=document.all;Oc.call(jk)===Oc.call(document.all)&&(Lp=function(e){if((Hk||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Oc.call(e);return(t===Nk||t===Dk||t===Fk||t===Ok)&&e("")==null}catch{}return!1})}var zk=Ja?function(e){if(Lp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ja(e,null,Op)}catch(t){if(t!==Tc)return!1}return!Ip(e)&&Md(e)}:function(e){if(Lp(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Uk)return Md(e);if(Ip(e))return!1;var t=Oc.call(e);return t!==Ik&&t!==Lk&&!/^\[object HTML/.test(t)?!1:Md(e)},qk=zk,Kk=Object.prototype.toString,D3=Object.prototype.hasOwnProperty,Wk=function(e,t,n){for(var o=0,i=e.length;o<i;o++)D3.call(e,o)&&(n==null?t(e[o],o,e):t.call(n,e[o],o,e))},Vk=function(e,t,n){for(var o=0,i=e.length;o<i;o++)n==null?t(e.charAt(o),o,e):t.call(n,e.charAt(o),o,e)},Zk=function(e,t,n){for(var o in e)D3.call(e,o)&&(n==null?t(e[o],o,e):t.call(n,e[o],o,e))},Gk=function(e,t,n){if(!qk(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),Kk.call(e)==="[object Array]"?Wk(e,t,o):typeof e=="string"?Vk(e,t,o):Zk(e,t,o)},F3=Gk,$d=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Yk=typeof globalThis>"u"?Jt:globalThis,U3=function(){for(var e=[],t=0;t<$d.length;t++)typeof Yk[$d[t]]=="function"&&(e[e.length]=$d[t]);return e},Jk=I1,Ic=Jk("%Object.getOwnPropertyDescriptor%",!0);if(Ic)try{Ic([],"length")}catch{Ic=null}var H3=Ic,j3=F3,Xk=U3,N1=L1,Qk=N1("Object.prototype.toString"),z3=Vh(),Lc=H3,eS=typeof globalThis>"u"?Jt:globalThis,q3=Xk(),tS=N1("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},rS=N1("String.prototype.slice"),K3={},xd=Object.getPrototypeOf;z3&&Lc&&xd&&j3(q3,function(r){var e=new eS[r];if(Symbol.toStringTag in e){var t=xd(e),n=Lc(t,Symbol.toStringTag);if(!n){var o=xd(t);n=Lc(o,Symbol.toStringTag)}K3[r]=n.get}});var nS=function(e){var t=!1;return j3(K3,function(n,o){if(!t)try{t=n.call(e)===o}catch{}}),t},W3=function(e){if(!e||typeof e!="object")return!1;if(!z3||!(Symbol.toStringTag in e)){var t=rS(Qk(e),8,-1);return tS(q3,t)>-1}return Lc?nS(e):!1},V3=F3,iS=U3,Z3=L1,kd=H3,oS=Z3("Object.prototype.toString"),G3=Vh(),sg=typeof globalThis>"u"?Jt:globalThis,sS=iS(),aS=Z3("String.prototype.slice"),Y3={},Sd=Object.getPrototypeOf;G3&&kd&&Sd&&V3(sS,function(r){if(typeof sg[r]=="function"){var e=new sg[r];if(Symbol.toStringTag in e){var t=Sd(e),n=kd(t,Symbol.toStringTag);if(!n){var o=Sd(t);n=kd(o,Symbol.toStringTag)}Y3[r]=n.get}}});var fS=function(e){var t=!1;return V3(Y3,function(n,o){if(!t)try{var i=n.call(e);i===o&&(t=i)}catch{}}),t},lS=W3,uS=function(e){return lS(e)?!G3||!(Symbol.toStringTag in e)?aS(oS(e),8,-1):fS(e):!1};(function(r){var e=Ek,t=Pk,n=uS,o=W3;function i(G){return G.call.bind(G)}var a=typeof BigInt<"u",f=typeof Symbol<"u",c=i(Object.prototype.toString),d=i(Number.prototype.valueOf),m=i(String.prototype.valueOf),v=i(Boolean.prototype.valueOf);if(a)var _=i(BigInt.prototype.valueOf);if(f)var $=i(Symbol.prototype.valueOf);function k(G,ke){if(typeof G!="object")return!1;try{return ke(G),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=o;function S(G){return typeof Promise<"u"&&G instanceof Promise||G!==null&&typeof G=="object"&&typeof G.then=="function"&&typeof G.catch=="function"}r.isPromise=S;function A(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):o(G)||P(G)}r.isArrayBufferView=A;function R(G){return n(G)==="Uint8Array"}r.isUint8Array=R;function C(G){return n(G)==="Uint8ClampedArray"}r.isUint8ClampedArray=C;function T(G){return n(G)==="Uint16Array"}r.isUint16Array=T;function B(G){return n(G)==="Uint32Array"}r.isUint32Array=B;function L(G){return n(G)==="Int8Array"}r.isInt8Array=L;function j(G){return n(G)==="Int16Array"}r.isInt16Array=j;function V(G){return n(G)==="Int32Array"}r.isInt32Array=V;function Z(G){return n(G)==="Float32Array"}r.isFloat32Array=Z;function Q(G){return n(G)==="Float64Array"}r.isFloat64Array=Q;function ne(G){return n(G)==="BigInt64Array"}r.isBigInt64Array=ne;function w(G){return n(G)==="BigUint64Array"}r.isBigUint64Array=w;function s(G){return c(G)==="[object Map]"}s.working=typeof Map<"u"&&s(new Map);function u(G){return typeof Map>"u"?!1:s.working?s(G):G instanceof Map}r.isMap=u;function h(G){return c(G)==="[object Set]"}h.working=typeof Set<"u"&&h(new Set);function p(G){return typeof Set>"u"?!1:h.working?h(G):G instanceof Set}r.isSet=p;function g(G){return c(G)==="[object WeakMap]"}g.working=typeof WeakMap<"u"&&g(new WeakMap);function M(G){return typeof WeakMap>"u"?!1:g.working?g(G):G instanceof WeakMap}r.isWeakMap=M;function x(G){return c(G)==="[object WeakSet]"}x.working=typeof WeakSet<"u"&&x(new WeakSet);function y(G){return x(G)}r.isWeakSet=y;function l(G){return c(G)==="[object ArrayBuffer]"}l.working=typeof ArrayBuffer<"u"&&l(new ArrayBuffer);function b(G){return typeof ArrayBuffer>"u"?!1:l.working?l(G):G instanceof ArrayBuffer}r.isArrayBuffer=b;function E(G){return c(G)==="[object DataView]"}E.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&E(new DataView(new ArrayBuffer(1),0,1));function P(G){return typeof DataView>"u"?!1:E.working?E(G):G instanceof DataView}r.isDataView=P;var H=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(G){return c(G)==="[object SharedArrayBuffer]"}function Y(G){return typeof H>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new H)),ee.working?ee(G):G instanceof H)}r.isSharedArrayBuffer=Y;function re(G){return c(G)==="[object AsyncFunction]"}r.isAsyncFunction=re;function Me(G){return c(G)==="[object Map Iterator]"}r.isMapIterator=Me;function de(G){return c(G)==="[object Set Iterator]"}r.isSetIterator=de;function _e(G){return c(G)==="[object Generator]"}r.isGeneratorObject=_e;function te(G){return c(G)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=te;function X(G){return k(G,d)}r.isNumberObject=X;function ye(G){return k(G,m)}r.isStringObject=ye;function Ge(G){return k(G,v)}r.isBooleanObject=Ge;function Pe(G){return a&&k(G,_)}r.isBigIntObject=Pe;function W(G){return f&&k(G,$)}r.isSymbolObject=W;function U(G){return X(G)||ye(G)||Ge(G)||Pe(G)||W(G)}r.isBoxedPrimitive=U;function N(G){return typeof Uint8Array<"u"&&(b(G)||Y(G))}r.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(G){Object.defineProperty(r,G,{enumerable:!1,value:function(){throw new Error(G+" is not supported in userland")}})})})(B3);var cS=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(r){var e=Object.getOwnPropertyDescriptors||function(P){for(var H=Object.keys(P),ee={},Y=0;Y<H.length;Y++)ee[H[Y]]=Object.getOwnPropertyDescriptor(P,H[Y]);return ee},t=/%[sdj%]/g;r.format=function(E){if(!L(E)){for(var P=[],H=0;H<arguments.length;H++)P.push(a(arguments[H]));return P.join(" ")}for(var H=1,ee=arguments,Y=ee.length,re=String(E).replace(t,function(de){if(de==="%%")return"%";if(H>=Y)return de;switch(de){case"%s":return String(ee[H++]);case"%d":return Number(ee[H++]);case"%j":try{return JSON.stringify(ee[H++])}catch{return"[Circular]"}default:return de}}),Me=ee[H];H<Y;Me=ee[++H])C(Me)||!Q(Me)?re+=" "+Me:re+=" "+a(Me);return re},r.deprecate=function(E,P){if(typeof It.exports<"u"&&It.exports.noDeprecation===!0)return E;if(typeof It.exports>"u")return function(){return r.deprecate(E,P).apply(this,arguments)};var H=!1;function ee(){if(!H){if(It.exports.throwDeprecation)throw new Error(P);It.exports.traceDeprecation?console.trace(P):console.error(P),H=!0}return E.apply(this,arguments)}return ee};var n={},o=/^$/;if(It.exports.env.NODE_DEBUG){var i=It.exports.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}r.debuglog=function(E){if(E=E.toUpperCase(),!n[E])if(o.test(E)){var P=It.exports.pid;n[E]=function(){var H=r.format.apply(r,arguments);console.error("%s %d: %s",E,P,H)}}else n[E]=function(){};return n[E]};function a(E,P){var H={seen:[],stylize:c};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),R(P)?H.showHidden=P:P&&r._extend(H,P),V(H.showHidden)&&(H.showHidden=!1),V(H.depth)&&(H.depth=2),V(H.colors)&&(H.colors=!1),V(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=f),m(H,E,H.depth)}r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(E,P){var H=a.styles[P];return H?"\x1B["+a.colors[H][0]+"m"+E+"\x1B["+a.colors[H][1]+"m":E}function c(E,P){return E}function d(E){var P={};return E.forEach(function(H,ee){P[H]=!0}),P}function m(E,P,H){if(E.customInspect&&P&&s(P.inspect)&&P.inspect!==r.inspect&&!(P.constructor&&P.constructor.prototype===P)){var ee=P.inspect(H,E);return L(ee)||(ee=m(E,ee,H)),ee}var Y=v(E,P);if(Y)return Y;var re=Object.keys(P),Me=d(re);if(E.showHidden&&(re=Object.getOwnPropertyNames(P)),w(P)&&(re.indexOf("message")>=0||re.indexOf("description")>=0))return _(P);if(re.length===0){if(s(P)){var de=P.name?": "+P.name:"";return E.stylize("[Function"+de+"]","special")}if(Z(P))return E.stylize(RegExp.prototype.toString.call(P),"regexp");if(ne(P))return E.stylize(Date.prototype.toString.call(P),"date");if(w(P))return _(P)}var _e="",te=!1,X=["{","}"];if(A(P)&&(te=!0,X=["[","]"]),s(P)){var ye=P.name?": "+P.name:"";_e=" [Function"+ye+"]"}if(Z(P)&&(_e=" "+RegExp.prototype.toString.call(P)),ne(P)&&(_e=" "+Date.prototype.toUTCString.call(P)),w(P)&&(_e=" "+_(P)),re.length===0&&(!te||P.length==0))return X[0]+_e+X[1];if(H<0)return Z(P)?E.stylize(RegExp.prototype.toString.call(P),"regexp"):E.stylize("[Object]","special");E.seen.push(P);var Ge;return te?Ge=$(E,P,H,Me,re):Ge=re.map(function(Pe){return k(E,P,H,Me,Pe,te)}),E.seen.pop(),S(Ge,_e,X)}function v(E,P){if(V(P))return E.stylize("undefined","undefined");if(L(P)){var H="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return E.stylize(H,"string")}if(B(P))return E.stylize(""+P,"number");if(R(P))return E.stylize(""+P,"boolean");if(C(P))return E.stylize("null","null")}function _(E){return"["+Error.prototype.toString.call(E)+"]"}function $(E,P,H,ee,Y){for(var re=[],Me=0,de=P.length;Me<de;++Me)x(P,String(Me))?re.push(k(E,P,H,ee,String(Me),!0)):re.push("");return Y.forEach(function(_e){_e.match(/^\d+$/)||re.push(k(E,P,H,ee,_e,!0))}),re}function k(E,P,H,ee,Y,re){var Me,de,_e;if(_e=Object.getOwnPropertyDescriptor(P,Y)||{value:P[Y]},_e.get?_e.set?de=E.stylize("[Getter/Setter]","special"):de=E.stylize("[Getter]","special"):_e.set&&(de=E.stylize("[Setter]","special")),x(ee,Y)||(Me="["+Y+"]"),de||(E.seen.indexOf(_e.value)<0?(C(H)?de=m(E,_e.value,null):de=m(E,_e.value,H-1),de.indexOf(`
`)>-1&&(re?de=de.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):de=`
`+de.split(`
`).map(function(te){return"   "+te}).join(`
`))):de=E.stylize("[Circular]","special")),V(Me)){if(re&&Y.match(/^\d+$/))return de;Me=JSON.stringify(""+Y),Me.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Me=Me.slice(1,-1),Me=E.stylize(Me,"name")):(Me=Me.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Me=E.stylize(Me,"string"))}return Me+": "+de}function S(E,P,H){var ee=E.reduce(function(Y,re){return re.indexOf(`
`)>=0,Y+re.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?H[0]+(P===""?"":P+`
 `)+" "+E.join(`,
  `)+" "+H[1]:H[0]+P+" "+E.join(", ")+" "+H[1]}r.types=B3;function A(E){return Array.isArray(E)}r.isArray=A;function R(E){return typeof E=="boolean"}r.isBoolean=R;function C(E){return E===null}r.isNull=C;function T(E){return E==null}r.isNullOrUndefined=T;function B(E){return typeof E=="number"}r.isNumber=B;function L(E){return typeof E=="string"}r.isString=L;function j(E){return typeof E=="symbol"}r.isSymbol=j;function V(E){return E===void 0}r.isUndefined=V;function Z(E){return Q(E)&&h(E)==="[object RegExp]"}r.isRegExp=Z,r.types.isRegExp=Z;function Q(E){return typeof E=="object"&&E!==null}r.isObject=Q;function ne(E){return Q(E)&&h(E)==="[object Date]"}r.isDate=ne,r.types.isDate=ne;function w(E){return Q(E)&&(h(E)==="[object Error]"||E instanceof Error)}r.isError=w,r.types.isNativeError=w;function s(E){return typeof E=="function"}r.isFunction=s;function u(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}r.isPrimitive=u,r.isBuffer=cS;function h(E){return Object.prototype.toString.call(E)}function p(E){return E<10?"0"+E.toString(10):E.toString(10)}var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var E=new Date,P=[p(E.getHours()),p(E.getMinutes()),p(E.getSeconds())].join(":");return[E.getDate(),g[E.getMonth()],P].join(" ")}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))},r.inherits=Ut.exports,r._extend=function(E,P){if(!P||!Q(P))return E;for(var H=Object.keys(P),ee=H.length;ee--;)E[H[ee]]=P[H[ee]];return E};function x(E,P){return Object.prototype.hasOwnProperty.call(E,P)}var y=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(y&&P[y]){var H=P[y];if(typeof H!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(H,y,{value:H,enumerable:!1,writable:!1,configurable:!0}),H}function H(){for(var ee,Y,re=new Promise(function(_e,te){ee=_e,Y=te}),Me=[],de=0;de<arguments.length;de++)Me.push(arguments[de]);Me.push(function(_e,te){_e?Y(_e):ee(te)});try{P.apply(this,Me)}catch(_e){Y(_e)}return re}return Object.setPrototypeOf(H,Object.getPrototypeOf(P)),y&&Object.defineProperty(H,y,{value:H,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(H,e(P))},r.promisify.custom=y;function l(E,P){if(!E){var H=new Error("Promise was rejected with a falsy value");H.reason=E,E=H}return P(E)}function b(E){if(typeof E!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var H=[],ee=0;ee<arguments.length;ee++)H.push(arguments[ee]);var Y=H.pop();if(typeof Y!="function")throw new TypeError("The last argument must be of type Function");var re=this,Me=function(){return Y.apply(re,arguments)};E.apply(this,H).then(function(de){It.exports.nextTick(Me.bind(null,null,de))},function(de){It.exports.nextTick(l.bind(null,de,Me))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(E)),Object.defineProperties(P,e(E)),P}r.callbackify=b})(T1);var Ed,ag;function hS(){if(ag)return Ed;ag=1;function r(_,$){var k=Object.keys(_);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(_);$&&(S=S.filter(function(A){return Object.getOwnPropertyDescriptor(_,A).enumerable})),k.push.apply(k,S)}return k}function e(_){for(var $=1;$<arguments.length;$++){var k=arguments[$]!=null?arguments[$]:{};$%2?r(Object(k),!0).forEach(function(S){t(_,S,k[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(k)):r(Object(k)).forEach(function(S){Object.defineProperty(_,S,Object.getOwnPropertyDescriptor(k,S))})}return _}function t(_,$,k){return $ in _?Object.defineProperty(_,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):_[$]=k,_}function n(_,$){if(!(_ instanceof $))throw new TypeError("Cannot call a class as a function")}function o(_,$){for(var k=0;k<$.length;k++){var S=$[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}function i(_,$,k){return $&&o(_.prototype,$),k&&o(_,k),_}var a=Dt,f=a.Buffer,c=T1,d=c.inspect,m=d&&d.custom||"inspect";function v(_,$,k){f.prototype.copy.call(_,$,k)}return Ed=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return i(_,[{key:"push",value:function(k){var S={data:k,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(k){var S={data:k,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var S=this.head,A=""+S.data;S=S.next;)A+=k+S.data;return A}},{key:"concat",value:function(k){if(this.length===0)return f.alloc(0);for(var S=f.allocUnsafe(k>>>0),A=this.head,R=0;A;)v(A.data,S,R),R+=A.data.length,A=A.next;return S}},{key:"consume",value:function(k,S){var A;return k<this.head.data.length?(A=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?A=this.shift():A=S?this._getString(k):this._getBuffer(k),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var S=this.head,A=1,R=S.data;for(k-=R.length;S=S.next;){var C=S.data,T=k>C.length?C.length:k;if(T===C.length?R+=C:R+=C.slice(0,k),k-=T,k===0){T===C.length?(++A,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=C.slice(T));break}++A}return this.length-=A,R}},{key:"_getBuffer",value:function(k){var S=f.allocUnsafe(k),A=this.head,R=1;for(A.data.copy(S),k-=A.data.length;A=A.next;){var C=A.data,T=k>C.length?C.length:k;if(C.copy(S,S.length-k,0,T),k-=T,k===0){T===C.length?(++R,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=C.slice(T));break}++R}return this.length-=R,S}},{key:m,value:function(k,S){return d(this,e({},S,{depth:0,customInspect:!1}))}}]),_}(),Ed}function dS(r,e){var t=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,It.exports.nextTick(Np,this,r)):It.exports.nextTick(Np,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(i){!e&&i?t._writableState?t._writableState.errorEmitted?It.exports.nextTick(Nc,t):(t._writableState.errorEmitted=!0,It.exports.nextTick(fg,t,i)):It.exports.nextTick(fg,t,i):e?(It.exports.nextTick(Nc,t),e(i)):It.exports.nextTick(Nc,t)}),this)}function fg(r,e){Np(r,e),Nc(r)}function Nc(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function pS(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Np(r,e){r.emit("error",e)}function mS(r,e){var t=r._readableState,n=r._writableState;t&&t.autoDestroy||n&&n.autoDestroy?r.destroy(e):r.emit("error",e)}var J3={destroy:dS,undestroy:pS,errorOrDestroy:mS},Ea={};function vS(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var X3={};function Ti(r,e,t){t||(t=Error);function n(i,a,f){return typeof e=="string"?e:e(i,a,f)}var o=function(i){vS(a,i);function a(f,c,d){return i.call(this,n(f,c,d))||this}return a}(t);o.prototype.name=t.name,o.prototype.code=r,X3[r]=o}function lg(r,e){if(Array.isArray(r)){var t=r.length;return r=r.map(function(n){return String(n)}),t>2?"one of ".concat(e," ").concat(r.slice(0,t-1).join(", "),", or ")+r[t-1]:t===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}else return"of ".concat(e," ").concat(String(r))}function gS(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function yS(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function bS(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}Ti("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError);Ti("ERR_INVALID_ARG_TYPE",function(r,e,t){var n;typeof e=="string"&&gS(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var o;if(yS(r," argument"))o="The ".concat(r," ").concat(n," ").concat(lg(e,"type"));else{var i=bS(r,".")?"property":"argument";o='The "'.concat(r,'" ').concat(i," ").concat(n," ").concat(lg(e,"type"))}return o+=". Received type ".concat(typeof t),o},TypeError);Ti("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ti("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});Ti("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ti("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});Ti("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ti("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ti("ERR_STREAM_WRITE_AFTER_END","write after end");Ti("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ti("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);Ti("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ea.codes=X3;var _S=Ea.codes.ERR_INVALID_OPT_VALUE;function wS(r,e,t){return r.highWaterMark!=null?r.highWaterMark:e?r[t]:null}function MS(r,e,t,n){var o=wS(e,n,t);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?t:"highWaterMark";throw new _S(i,o)}return Math.floor(o)}return r.objectMode?16:16*1024}var Q3={getHighWaterMark:MS},$S=xS;function xS(r,e){if(Ad("noDeprecation"))return r;var t=!1;function n(){if(!t){if(Ad("throwDeprecation"))throw new Error(e);Ad("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}return n}function Ad(r){try{if(!Jt.localStorage)return!1}catch{return!1}var e=Jt.localStorage[r];return e==null?!1:String(e).toLowerCase()==="true"}var Bd,ug;function D1(){if(ug)return Bd;ug=1,Bd=Z;function r(Y){var re=this;this.next=null,this.entry=null,this.finish=function(){ee(re,Y)}}var e;Z.WritableState=j;var t={deprecate:$S},n=A3,o=Dt.Buffer,i=Jt.Uint8Array||function(){};function a(Y){return o.from(Y)}function f(Y){return o.isBuffer(Y)||Y instanceof i}var c=J3,d=Q3,m=d.getHighWaterMark,v=Ea.codes,_=v.ERR_INVALID_ARG_TYPE,$=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_MULTIPLE_CALLBACK,S=v.ERR_STREAM_CANNOT_PIPE,A=v.ERR_STREAM_DESTROYED,R=v.ERR_STREAM_NULL_VALUES,C=v.ERR_STREAM_WRITE_AFTER_END,T=v.ERR_UNKNOWN_ENCODING,B=c.errorOrDestroy;Ut.exports(Z,n);function L(){}function j(Y,re,Me){e=e||ga(),Y=Y||{},typeof Me!="boolean"&&(Me=re instanceof e),this.objectMode=!!Y.objectMode,Me&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=m(this,Y,"writableHighWaterMark",Me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var de=Y.decodeStrings===!1;this.decodeStrings=!de,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){g(re,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}j.prototype.getBuffer=function(){for(var re=this.bufferedRequest,Me=[];re;)Me.push(re),re=re.next;return Me},function(){try{Object.defineProperty(j.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(Z,Symbol.hasInstance,{value:function(re){return V.call(this,re)?!0:this!==Z?!1:re&&re._writableState instanceof j}})):V=function(re){return re instanceof this};function Z(Y){e=e||ga();var re=this instanceof e;if(!re&&!V.call(Z,this))return new Z(Y);this._writableState=new j(Y,this,re),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),n.call(this)}Z.prototype.pipe=function(){B(this,new S)};function Q(Y,re){var Me=new C;B(Y,Me),It.exports.nextTick(re,Me)}function ne(Y,re,Me,de){var _e;return Me===null?_e=new R:typeof Me!="string"&&!re.objectMode&&(_e=new _("chunk",["string","Buffer"],Me)),_e?(B(Y,_e),It.exports.nextTick(de,_e),!1):!0}Z.prototype.write=function(Y,re,Me){var de=this._writableState,_e=!1,te=!de.objectMode&&f(Y);return te&&!o.isBuffer(Y)&&(Y=a(Y)),typeof re=="function"&&(Me=re,re=null),te?re="buffer":re||(re=de.defaultEncoding),typeof Me!="function"&&(Me=L),de.ending?Q(this,Me):(te||ne(this,de,Y,Me))&&(de.pendingcb++,_e=s(this,de,te,Y,re,Me)),_e},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&y(this,Y))},Z.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new T(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(Z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(Y,re,Me){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof re=="string"&&(re=o.from(re,Me)),re}Object.defineProperty(Z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(Y,re,Me,de,_e,te){if(!Me){var X=w(re,de,_e);de!==X&&(Me=!0,_e="buffer",de=X)}var ye=re.objectMode?1:de.length;re.length+=ye;var Ge=re.length<re.highWaterMark;if(Ge||(re.needDrain=!0),re.writing||re.corked){var Pe=re.lastBufferedRequest;re.lastBufferedRequest={chunk:de,encoding:_e,isBuf:Me,callback:te,next:null},Pe?Pe.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else u(Y,re,!1,ye,de,_e,te);return Ge}function u(Y,re,Me,de,_e,te,X){re.writelen=de,re.writecb=X,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new A("write")):Me?Y._writev(_e,re.onwrite):Y._write(_e,te,re.onwrite),re.sync=!1}function h(Y,re,Me,de,_e){--re.pendingcb,Me?(It.exports.nextTick(_e,de),It.exports.nextTick(P,Y,re),Y._writableState.errorEmitted=!0,B(Y,de)):(_e(de),Y._writableState.errorEmitted=!0,B(Y,de),P(Y,re))}function p(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function g(Y,re){var Me=Y._writableState,de=Me.sync,_e=Me.writecb;if(typeof _e!="function")throw new k;if(p(Me),re)h(Y,Me,de,re,_e);else{var te=l(Me)||Y.destroyed;!te&&!Me.corked&&!Me.bufferProcessing&&Me.bufferedRequest&&y(Y,Me),de?It.exports.nextTick(M,Y,Me,te,_e):M(Y,Me,te,_e)}}function M(Y,re,Me,de){Me||x(Y,re),re.pendingcb--,de(),P(Y,re)}function x(Y,re){re.length===0&&re.needDrain&&(re.needDrain=!1,Y.emit("drain"))}function y(Y,re){re.bufferProcessing=!0;var Me=re.bufferedRequest;if(Y._writev&&Me&&Me.next){var de=re.bufferedRequestCount,_e=new Array(de),te=re.corkedRequestsFree;te.entry=Me;for(var X=0,ye=!0;Me;)_e[X]=Me,Me.isBuf||(ye=!1),Me=Me.next,X+=1;_e.allBuffers=ye,u(Y,re,!0,re.length,_e,"",te.finish),re.pendingcb++,re.lastBufferedRequest=null,te.next?(re.corkedRequestsFree=te.next,te.next=null):re.corkedRequestsFree=new r(re),re.bufferedRequestCount=0}else{for(;Me;){var Ge=Me.chunk,Pe=Me.encoding,W=Me.callback,U=re.objectMode?1:Ge.length;if(u(Y,re,!1,U,Ge,Pe,W),Me=Me.next,re.bufferedRequestCount--,re.writing)break}Me===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=Me,re.bufferProcessing=!1}Z.prototype._write=function(Y,re,Me){Me(new $("_write()"))},Z.prototype._writev=null,Z.prototype.end=function(Y,re,Me){var de=this._writableState;return typeof Y=="function"?(Me=Y,Y=null,re=null):typeof re=="function"&&(Me=re,re=null),Y!=null&&this.write(Y,re),de.corked&&(de.corked=1,this.uncork()),de.ending||H(this,de,Me),this},Object.defineProperty(Z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function b(Y,re){Y._final(function(Me){re.pendingcb--,Me&&B(Y,Me),re.prefinished=!0,Y.emit("prefinish"),P(Y,re)})}function E(Y,re){!re.prefinished&&!re.finalCalled&&(typeof Y._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,It.exports.nextTick(b,Y,re)):(re.prefinished=!0,Y.emit("prefinish")))}function P(Y,re){var Me=l(re);if(Me&&(E(Y,re),re.pendingcb===0&&(re.finished=!0,Y.emit("finish"),re.autoDestroy))){var de=Y._readableState;(!de||de.autoDestroy&&de.endEmitted)&&Y.destroy()}return Me}function H(Y,re,Me){re.ending=!0,P(Y,re),Me&&(re.finished?It.exports.nextTick(Me):Y.once("finish",Me)),re.ended=!0,Y.writable=!1}function ee(Y,re,Me){var de=Y.entry;for(Y.entry=null;de;){var _e=de.callback;re.pendingcb--,_e(Me),de=de.next}re.corkedRequestsFree.next=Y}return Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){!this._writableState||(this._writableState.destroyed=re)}}),Z.prototype.destroy=c.destroy,Z.prototype._undestroy=c.undestroy,Z.prototype._destroy=function(Y,re){re(Y)},Bd}var Rd,cg;function ga(){if(cg)return Rd;cg=1;var r=Object.keys||function(d){var m=[];for(var v in d)m.push(v);return m};Rd=a;var e=U1(),t=D1();Ut.exports(a,e);for(var n=r(t.prototype),o=0;o<n.length;o++){var i=n[o];a.prototype[i]||(a.prototype[i]=t.prototype[i])}function a(d){if(!(this instanceof a))return new a(d);e.call(this,d),t.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||It.exports.nextTick(c,this)}function c(d){d.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),Rd}var uh={},F1=zt.exports.Buffer,hg=F1.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function kS(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function SS(r){var e=kS(r);if(typeof e!="string"&&(F1.isEncoding===hg||!hg(r)))throw new Error("Unknown encoding: "+r);return e||r}uh.StringDecoder=Mu;function Mu(r){this.encoding=SS(r);var e;switch(this.encoding){case"utf16le":this.text=PS,this.end=TS,e=4;break;case"utf8":this.fillLast=BS,e=4;break;case"base64":this.text=OS,this.end=IS,e=3;break;default:this.write=LS,this.end=NS;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=F1.allocUnsafe(e)}Mu.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};Mu.prototype.end=CS;Mu.prototype.text=RS;Mu.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function Cd(r){return r<=127?0:r>>5===6?2:r>>4===14?3:r>>3===30?4:r>>6===2?-1:-2}function ES(r,e,t){var n=e.length-1;if(n<t)return 0;var o=Cd(e[n]);return o>=0?(o>0&&(r.lastNeed=o-1),o):--n<t||o===-2?0:(o=Cd(e[n]),o>=0?(o>0&&(r.lastNeed=o-2),o):--n<t||o===-2?0:(o=Cd(e[n]),o>=0?(o>0&&(o===2?o=0:r.lastNeed=o-3),o):0))}function AS(r,e,t){if((e[0]&192)!==128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return r.lastNeed=2,"\uFFFD"}}function BS(r){var e=this.lastTotal-this.lastNeed,t=AS(this,r);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function RS(r,e){var t=ES(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var n=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,n),r.toString("utf8",e,n)}function CS(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function PS(r,e){if((r.length-e)%2===0){var t=r.toString("utf16le",e);if(t){var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function TS(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function OS(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function IS(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function LS(r){return r.toString(this.encoding)}function NS(r){return r&&r.length?this.write(r):""}var dg=Ea.codes.ERR_STREAM_PREMATURE_CLOSE;function DS(r){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];r.apply(this,n)}}}function FS(){}function US(r){return r.setHeader&&typeof r.abort=="function"}function e6(r,e,t){if(typeof e=="function")return e6(r,null,e);e||(e={}),t=DS(t||FS);var n=e.readable||e.readable!==!1&&r.readable,o=e.writable||e.writable!==!1&&r.writable,i=function(){r.writable||f()},a=r._writableState&&r._writableState.finished,f=function(){o=!1,a=!0,n||t.call(r)},c=r._readableState&&r._readableState.endEmitted,d=function(){n=!1,c=!0,o||t.call(r)},m=function(k){t.call(r,k)},v=function(){var k;if(n&&!c)return(!r._readableState||!r._readableState.ended)&&(k=new dg),t.call(r,k);if(o&&!a)return(!r._writableState||!r._writableState.ended)&&(k=new dg),t.call(r,k)},_=function(){r.req.on("finish",f)};return US(r)?(r.on("complete",f),r.on("abort",v),r.req?_():r.on("request",_)):o&&!r._writableState&&(r.on("end",i),r.on("close",i)),r.on("end",d),r.on("finish",f),e.error!==!1&&r.on("error",m),r.on("close",v),function(){r.removeListener("complete",f),r.removeListener("abort",v),r.removeListener("request",_),r.req&&r.req.removeListener("finish",f),r.removeListener("end",i),r.removeListener("close",i),r.removeListener("finish",f),r.removeListener("end",d),r.removeListener("error",m),r.removeListener("close",v)}}var Gh=e6,Pd,pg;function HS(){if(pg)return Pd;pg=1;var r;function e(R,C,T){return C in R?Object.defineProperty(R,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[C]=T,R}var t=Gh,n=Symbol("lastResolve"),o=Symbol("lastReject"),i=Symbol("error"),a=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),d=Symbol("stream");function m(R,C){return{value:R,done:C}}function v(R){var C=R[n];if(C!==null){var T=R[d].read();T!==null&&(R[f]=null,R[n]=null,R[o]=null,C(m(T,!1)))}}function _(R){It.exports.nextTick(v,R)}function $(R,C){return function(T,B){R.then(function(){if(C[a]){T(m(void 0,!0));return}C[c](T,B)},B)}}var k=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var C=this,T=this[i];if(T!==null)return Promise.reject(T);if(this[a])return Promise.resolve(m(void 0,!0));if(this[d].destroyed)return new Promise(function(V,Z){It.exports.nextTick(function(){C[i]?Z(C[i]):V(m(void 0,!0))})});var B=this[f],L;if(B)L=new Promise($(B,this));else{var j=this[d].read();if(j!==null)return Promise.resolve(m(j,!1));L=new Promise(this[c])}return this[f]=L,L}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var C=this;return new Promise(function(T,B){C[d].destroy(null,function(L){if(L){B(L);return}T(m(void 0,!0))})})}),r),k),A=function(C){var T,B=Object.create(S,(T={},e(T,d,{value:C,writable:!0}),e(T,n,{value:null,writable:!0}),e(T,o,{value:null,writable:!0}),e(T,i,{value:null,writable:!0}),e(T,a,{value:C._readableState.endEmitted,writable:!0}),e(T,c,{value:function(j,V){var Z=B[d].read();Z?(B[f]=null,B[n]=null,B[o]=null,j(m(Z,!1))):(B[n]=j,B[o]=V)},writable:!0}),T));return B[f]=null,t(C,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=B[o];j!==null&&(B[f]=null,B[n]=null,B[o]=null,j(L)),B[i]=L;return}var V=B[n];V!==null&&(B[f]=null,B[n]=null,B[o]=null,V(m(void 0,!0))),B[a]=!0}),C.on("readable",_.bind(null,B)),B};return Pd=A,Pd}var Td,mg;function jS(){return mg||(mg=1,Td=function(){throw new Error("Readable.from is not available in the browser")}),Td}var Od,vg;function U1(){if(vg)return Od;vg=1,Od=Q;var r;Q.ReadableState=Z,_u.exports.EventEmitter;var e=function(X,ye){return X.listeners(ye).length},t=A3,n=Dt.Buffer,o=Jt.Uint8Array||function(){};function i(te){return n.from(te)}function a(te){return n.isBuffer(te)||te instanceof o}var f=T1,c;f&&f.debuglog?c=f.debuglog("stream"):c=function(){};var d=hS(),m=J3,v=Q3,_=v.getHighWaterMark,$=Ea.codes,k=$.ERR_INVALID_ARG_TYPE,S=$.ERR_STREAM_PUSH_AFTER_EOF,A=$.ERR_METHOD_NOT_IMPLEMENTED,R=$.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,T,B;Ut.exports(Q,t);var L=m.errorOrDestroy,j=["error","close","destroy","pause","resume"];function V(te,X,ye){if(typeof te.prependListener=="function")return te.prependListener(X,ye);!te._events||!te._events[X]?te.on(X,ye):Array.isArray(te._events[X])?te._events[X].unshift(ye):te._events[X]=[ye,te._events[X]]}function Z(te,X,ye){r=r||ga(),te=te||{},typeof ye!="boolean"&&(ye=X instanceof r),this.objectMode=!!te.objectMode,ye&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=_(this,te,"readableHighWaterMark",ye),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(C||(C=uh.StringDecoder),this.decoder=new C(te.encoding),this.encoding=te.encoding)}function Q(te){if(r=r||ga(),!(this instanceof Q))return new Q(te);var X=this instanceof r;this._readableState=new Z(te,this,X),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),t.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){!this._readableState||(this._readableState.destroyed=X)}}),Q.prototype.destroy=m.destroy,Q.prototype._undestroy=m.undestroy,Q.prototype._destroy=function(te,X){X(te)},Q.prototype.push=function(te,X){var ye=this._readableState,Ge;return ye.objectMode?Ge=!0:typeof te=="string"&&(X=X||ye.defaultEncoding,X!==ye.encoding&&(te=n.from(te,X),X=""),Ge=!0),ne(this,te,X,!1,Ge)},Q.prototype.unshift=function(te){return ne(this,te,null,!0,!1)};function ne(te,X,ye,Ge,Pe){c("readableAddChunk",X);var W=te._readableState;if(X===null)W.reading=!1,g(te,W);else{var U;if(Pe||(U=s(W,X)),U)L(te,U);else if(W.objectMode||X&&X.length>0)if(typeof X!="string"&&!W.objectMode&&Object.getPrototypeOf(X)!==n.prototype&&(X=i(X)),Ge)W.endEmitted?L(te,new R):w(te,W,X,!0);else if(W.ended)L(te,new S);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!ye?(X=W.decoder.write(X),W.objectMode||X.length!==0?w(te,W,X,!1):y(te,W)):w(te,W,X,!1)}else Ge||(W.reading=!1,y(te,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function w(te,X,ye,Ge){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,te.emit("data",ye)):(X.length+=X.objectMode?1:ye.length,Ge?X.buffer.unshift(ye):X.buffer.push(ye),X.needReadable&&M(te)),y(te,X)}function s(te,X){var ye;return!a(X)&&typeof X!="string"&&X!==void 0&&!te.objectMode&&(ye=new k("chunk",["string","Buffer","Uint8Array"],X)),ye}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(te){C||(C=uh.StringDecoder);var X=new C(te);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var ye=this._readableState.buffer.head,Ge="";ye!==null;)Ge+=X.write(ye.data),ye=ye.next;return this._readableState.buffer.clear(),Ge!==""&&this._readableState.buffer.push(Ge),this._readableState.length=Ge.length,this};var u=1073741824;function h(te){return te>=u?te=u:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function p(te,X){return te<=0||X.length===0&&X.ended?0:X.objectMode?1:te!==te?X.flowing&&X.length?X.buffer.head.data.length:X.length:(te>X.highWaterMark&&(X.highWaterMark=h(te)),te<=X.length?te:X.ended?X.length:(X.needReadable=!0,0))}Q.prototype.read=function(te){c("read",te),te=parseInt(te,10);var X=this._readableState,ye=te;if(te!==0&&(X.emittedReadable=!1),te===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return c("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Me(this):M(this),null;if(te=p(te,X),te===0&&X.ended)return X.length===0&&Me(this),null;var Ge=X.needReadable;c("need readable",Ge),(X.length===0||X.length-te<X.highWaterMark)&&(Ge=!0,c("length less than watermark",Ge)),X.ended||X.reading?(Ge=!1,c("reading or ended",Ge)):Ge&&(c("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(te=p(ye,X)));var Pe;return te>0?Pe=re(te,X):Pe=null,Pe===null?(X.needReadable=X.length<=X.highWaterMark,te=0):(X.length-=te,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),ye!==te&&X.ended&&Me(this)),Pe!==null&&this.emit("data",Pe),Pe};function g(te,X){if(c("onEofChunk"),!X.ended){if(X.decoder){var ye=X.decoder.end();ye&&ye.length&&(X.buffer.push(ye),X.length+=X.objectMode?1:ye.length)}X.ended=!0,X.sync?M(te):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,x(te)))}}function M(te){var X=te._readableState;c("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(c("emitReadable",X.flowing),X.emittedReadable=!0,It.exports.nextTick(x,te))}function x(te){var X=te._readableState;c("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(te.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,Y(te)}function y(te,X){X.readingMore||(X.readingMore=!0,It.exports.nextTick(l,te,X))}function l(te,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var ye=X.length;if(c("maybeReadMore read 0"),te.read(0),ye===X.length)break}X.readingMore=!1}Q.prototype._read=function(te){L(this,new A("_read()"))},Q.prototype.pipe=function(te,X){var ye=this,Ge=this._readableState;switch(Ge.pipesCount){case 0:Ge.pipes=te;break;case 1:Ge.pipes=[Ge.pipes,te];break;default:Ge.pipes.push(te);break}Ge.pipesCount+=1,c("pipe count=%d opts=%j",Ge.pipesCount,X);var Pe=(!X||X.end!==!1)&&te!==It.exports.stdout&&te!==It.exports.stderr,W=Pe?N:ht;Ge.endEmitted?It.exports.nextTick(W):ye.once("end",W),te.on("unpipe",U);function U(De,ze){c("onunpipe"),De===ye&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,ge())}function N(){c("onend"),te.end()}var G=b(ye);te.on("drain",G);var ke=!1;function ge(){c("cleanup"),te.removeListener("close",Ie),te.removeListener("finish",je),te.removeListener("drain",G),te.removeListener("error",ot),te.removeListener("unpipe",U),ye.removeListener("end",N),ye.removeListener("end",ht),ye.removeListener("data",xe),ke=!0,Ge.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&G()}ye.on("data",xe);function xe(De){c("ondata");var ze=te.write(De);c("dest.write",ze),ze===!1&&((Ge.pipesCount===1&&Ge.pipes===te||Ge.pipesCount>1&&_e(Ge.pipes,te)!==-1)&&!ke&&(c("false write response, pause",Ge.awaitDrain),Ge.awaitDrain++),ye.pause())}function ot(De){c("onerror",De),ht(),te.removeListener("error",ot),e(te,"error")===0&&L(te,De)}V(te,"error",ot);function Ie(){te.removeListener("finish",je),ht()}te.once("close",Ie);function je(){c("onfinish"),te.removeListener("close",Ie),ht()}te.once("finish",je);function ht(){c("unpipe"),ye.unpipe(te)}return te.emit("pipe",ye),Ge.flowing||(c("pipe resume"),ye.resume()),te};function b(te){return function(){var ye=te._readableState;c("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&e(te,"data")&&(ye.flowing=!0,Y(te))}}Q.prototype.unpipe=function(te){var X=this._readableState,ye={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return te&&te!==X.pipes?this:(te||(te=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,te&&te.emit("unpipe",this,ye),this);if(!te){var Ge=X.pipes,Pe=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var W=0;W<Pe;W++)Ge[W].emit("unpipe",this,{hasUnpiped:!1});return this}var U=_e(X.pipes,te);return U===-1?this:(X.pipes.splice(U,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),te.emit("unpipe",this,ye),this)},Q.prototype.on=function(te,X){var ye=t.prototype.on.call(this,te,X),Ge=this._readableState;return te==="data"?(Ge.readableListening=this.listenerCount("readable")>0,Ge.flowing!==!1&&this.resume()):te==="readable"&&!Ge.endEmitted&&!Ge.readableListening&&(Ge.readableListening=Ge.needReadable=!0,Ge.flowing=!1,Ge.emittedReadable=!1,c("on readable",Ge.length,Ge.reading),Ge.length?M(this):Ge.reading||It.exports.nextTick(P,this)),ye},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(te,X){var ye=t.prototype.removeListener.call(this,te,X);return te==="readable"&&It.exports.nextTick(E,this),ye},Q.prototype.removeAllListeners=function(te){var X=t.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&It.exports.nextTick(E,this),X};function E(te){var X=te._readableState;X.readableListening=te.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:te.listenerCount("data")>0&&te.resume()}function P(te){c("readable nexttick read 0"),te.read(0)}Q.prototype.resume=function(){var te=this._readableState;return te.flowing||(c("resume"),te.flowing=!te.readableListening,H(this,te)),te.paused=!1,this};function H(te,X){X.resumeScheduled||(X.resumeScheduled=!0,It.exports.nextTick(ee,te,X))}function ee(te,X){c("resume",X.reading),X.reading||te.read(0),X.resumeScheduled=!1,te.emit("resume"),Y(te),X.flowing&&!X.reading&&te.read(0)}Q.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(te){var X=te._readableState;for(c("flow",X.flowing);X.flowing&&te.read()!==null;);}Q.prototype.wrap=function(te){var X=this,ye=this._readableState,Ge=!1;te.on("end",function(){if(c("wrapped end"),ye.decoder&&!ye.ended){var U=ye.decoder.end();U&&U.length&&X.push(U)}X.push(null)}),te.on("data",function(U){if(c("wrapped data"),ye.decoder&&(U=ye.decoder.write(U)),!(ye.objectMode&&U==null)&&!(!ye.objectMode&&(!U||!U.length))){var N=X.push(U);N||(Ge=!0,te.pause())}});for(var Pe in te)this[Pe]===void 0&&typeof te[Pe]=="function"&&(this[Pe]=function(N){return function(){return te[N].apply(te,arguments)}}(Pe));for(var W=0;W<j.length;W++)te.on(j[W],this.emit.bind(this,j[W]));return this._read=function(U){c("wrapped _read",U),Ge&&(Ge=!1,te.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=HS()),T(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),Q._fromList=re,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(te,X){if(X.length===0)return null;var ye;return X.objectMode?ye=X.buffer.shift():!te||te>=X.length?(X.decoder?ye=X.buffer.join(""):X.buffer.length===1?ye=X.buffer.first():ye=X.buffer.concat(X.length),X.buffer.clear()):ye=X.buffer.consume(te,X.decoder),ye}function Me(te){var X=te._readableState;c("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,It.exports.nextTick(de,X,te))}function de(te,X){if(c("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,X.readable=!1,X.emit("end"),te.autoDestroy)){var ye=X._writableState;(!ye||ye.autoDestroy&&ye.finished)&&X.destroy()}}typeof Symbol=="function"&&(Q.from=function(te,X){return B===void 0&&(B=jS()),B(Q,te,X)});function _e(te,X){for(var ye=0,Ge=te.length;ye<Ge;ye++)if(te[ye]===X)return ye;return-1}return Od}var H1=Jo,Yh=Ea.codes,zS=Yh.ERR_METHOD_NOT_IMPLEMENTED,qS=Yh.ERR_MULTIPLE_CALLBACK,KS=Yh.ERR_TRANSFORM_ALREADY_TRANSFORMING,WS=Yh.ERR_TRANSFORM_WITH_LENGTH_0,Jh=ga();Ut.exports(Jo,Jh);function VS(r,e){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(n===null)return this.emit("error",new qS);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),n(r);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Jo(r){if(!(this instanceof Jo))return new Jo(r);Jh.call(this,r),this._transformState={afterTransform:VS.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",ZS)}function ZS(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){gg(r,e,t)}):gg(this,null,null)}Jo.prototype.push=function(r,e){return this._transformState.needTransform=!1,Jh.prototype.push.call(this,r,e)};Jo.prototype._transform=function(r,e,t){t(new zS("_transform()"))};Jo.prototype._write=function(r,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=r,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Jo.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Jo.prototype._destroy=function(r,e){Jh.prototype._destroy.call(this,r,function(t){e(t)})};function gg(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new WS;if(r._transformState.transforming)throw new KS;return r.push(null)}var t6=iu,r6=H1;Ut.exports(iu,r6);function iu(r){if(!(this instanceof iu))return new iu(r);r6.call(this,r)}iu.prototype._transform=function(r,e,t){t(null,r)};var Id;function GS(r){var e=!1;return function(){e||(e=!0,r.apply(void 0,arguments))}}var n6=Ea.codes,YS=n6.ERR_MISSING_ARGS,JS=n6.ERR_STREAM_DESTROYED;function yg(r){if(r)throw r}function XS(r){return r.setHeader&&typeof r.abort=="function"}function QS(r,e,t,n){n=GS(n);var o=!1;r.on("close",function(){o=!0}),Id===void 0&&(Id=Gh),Id(r,{readable:e,writable:t},function(a){if(a)return n(a);o=!0,n()});var i=!1;return function(a){if(!o&&!i){if(i=!0,XS(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();n(a||new JS("pipe"))}}}function bg(r){r()}function eE(r,e){return r.pipe(e)}function tE(r){return!r.length||typeof r[r.length-1]!="function"?yg:r.pop()}function rE(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var n=tE(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new YS("streams");var o,i=e.map(function(a,f){var c=f<e.length-1,d=f>0;return QS(a,c,d,function(m){o||(o=m),m&&i.forEach(bg),!c&&(i.forEach(bg),n(o))})});return e.reduce(eE)}var i6=rE;(function(r,e){e=r.exports=U1(),e.Stream=e,e.Readable=e,e.Writable=D1(),e.Duplex=ga(),e.Transform=H1,e.PassThrough=t6,e.finished=Gh,e.pipeline=i6})(ah,ah.exports);var ch=zt.exports.Buffer,o6=ah.exports.Transform,nE=Ut.exports;function iE(r,e){if(!ch.isBuffer(r)&&typeof r!="string")throw new TypeError(e+" must be a string or a buffer")}function zs(r){o6.call(this),this._block=ch.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}nE(zs,o6);zs.prototype._transform=function(r,e,t){var n=null;try{this.update(r,e)}catch(o){n=o}t(n)};zs.prototype._flush=function(r){var e=null;try{this.push(this.digest())}catch(t){e=t}r(e)};zs.prototype.update=function(r,e){if(iE(r,"Data"),this._finalized)throw new Error("Digest already called");ch.isBuffer(r)||(r=ch.from(r,e));for(var t=this._block,n=0;this._blockOffset+r.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)t[o++]=r[n++];this._update(),this._blockOffset=0}for(;n<r.length;)t[this._blockOffset++]=r[n++];for(var i=0,a=r.length*8;a>0;++i)this._length[i]+=a,a=this._length[i]/4294967296|0,a>0&&(this._length[i]-=4294967296*a);return this};zs.prototype._update=function(){throw new Error("_update is not implemented")};zs.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();r!==void 0&&(e=e.toString(r)),this._block.fill(0),this._blockOffset=0;for(var t=0;t<4;++t)this._length[t]=0;return e};zs.prototype._digest=function(){throw new Error("_digest is not implemented")};var s6=zs,oE=Ut.exports,a6=s6,sE=zt.exports.Buffer,aE=new Array(16);function Xh(){a6.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}oE(Xh,a6);Xh.prototype._update=function(){for(var r=aE,e=0;e<16;++e)r[e]=this._block.readInt32LE(e*4);var t=this._a,n=this._b,o=this._c,i=this._d;t=Tn(t,n,o,i,r[0],3614090360,7),i=Tn(i,t,n,o,r[1],3905402710,12),o=Tn(o,i,t,n,r[2],606105819,17),n=Tn(n,o,i,t,r[3],3250441966,22),t=Tn(t,n,o,i,r[4],4118548399,7),i=Tn(i,t,n,o,r[5],1200080426,12),o=Tn(o,i,t,n,r[6],2821735955,17),n=Tn(n,o,i,t,r[7],4249261313,22),t=Tn(t,n,o,i,r[8],1770035416,7),i=Tn(i,t,n,o,r[9],2336552879,12),o=Tn(o,i,t,n,r[10],4294925233,17),n=Tn(n,o,i,t,r[11],2304563134,22),t=Tn(t,n,o,i,r[12],1804603682,7),i=Tn(i,t,n,o,r[13],4254626195,12),o=Tn(o,i,t,n,r[14],2792965006,17),n=Tn(n,o,i,t,r[15],1236535329,22),t=On(t,n,o,i,r[1],4129170786,5),i=On(i,t,n,o,r[6],3225465664,9),o=On(o,i,t,n,r[11],643717713,14),n=On(n,o,i,t,r[0],3921069994,20),t=On(t,n,o,i,r[5],3593408605,5),i=On(i,t,n,o,r[10],38016083,9),o=On(o,i,t,n,r[15],3634488961,14),n=On(n,o,i,t,r[4],3889429448,20),t=On(t,n,o,i,r[9],568446438,5),i=On(i,t,n,o,r[14],3275163606,9),o=On(o,i,t,n,r[3],4107603335,14),n=On(n,o,i,t,r[8],1163531501,20),t=On(t,n,o,i,r[13],2850285829,5),i=On(i,t,n,o,r[2],4243563512,9),o=On(o,i,t,n,r[7],1735328473,14),n=On(n,o,i,t,r[12],2368359562,20),t=In(t,n,o,i,r[5],4294588738,4),i=In(i,t,n,o,r[8],2272392833,11),o=In(o,i,t,n,r[11],1839030562,16),n=In(n,o,i,t,r[14],4259657740,23),t=In(t,n,o,i,r[1],2763975236,4),i=In(i,t,n,o,r[4],1272893353,11),o=In(o,i,t,n,r[7],4139469664,16),n=In(n,o,i,t,r[10],3200236656,23),t=In(t,n,o,i,r[13],681279174,4),i=In(i,t,n,o,r[0],3936430074,11),o=In(o,i,t,n,r[3],3572445317,16),n=In(n,o,i,t,r[6],76029189,23),t=In(t,n,o,i,r[9],3654602809,4),i=In(i,t,n,o,r[12],3873151461,11),o=In(o,i,t,n,r[15],530742520,16),n=In(n,o,i,t,r[2],3299628645,23),t=Ln(t,n,o,i,r[0],4096336452,6),i=Ln(i,t,n,o,r[7],1126891415,10),o=Ln(o,i,t,n,r[14],2878612391,15),n=Ln(n,o,i,t,r[5],4237533241,21),t=Ln(t,n,o,i,r[12],1700485571,6),i=Ln(i,t,n,o,r[3],2399980690,10),o=Ln(o,i,t,n,r[10],4293915773,15),n=Ln(n,o,i,t,r[1],2240044497,21),t=Ln(t,n,o,i,r[8],1873313359,6),i=Ln(i,t,n,o,r[15],4264355552,10),o=Ln(o,i,t,n,r[6],2734768916,15),n=Ln(n,o,i,t,r[13],1309151649,21),t=Ln(t,n,o,i,r[4],4149444226,6),i=Ln(i,t,n,o,r[11],3174756917,10),o=Ln(o,i,t,n,r[2],718787259,15),n=Ln(n,o,i,t,r[9],3951481745,21),this._a=this._a+t|0,this._b=this._b+n|0,this._c=this._c+o|0,this._d=this._d+i|0};Xh.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=sE.allocUnsafe(16);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r};function Qh(r,e){return r<<e|r>>>32-e}function Tn(r,e,t,n,o,i,a){return Qh(r+(e&t|~e&n)+o+i|0,a)+e|0}function On(r,e,t,n,o,i,a){return Qh(r+(e&n|t&~n)+o+i|0,a)+e|0}function In(r,e,t,n,o,i,a){return Qh(r+(e^t^n)+o+i|0,a)+e|0}function Ln(r,e,t,n,o,i,a){return Qh(r+(t^(e|~n))+o+i|0,a)+e|0}var j1=Xh,Ld=Dt.Buffer,fE=Ut.exports,f6=s6,lE=new Array(16),Ml=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],$l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kl=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Sl=[0,1518500249,1859775393,2400959708,2840853838],El=[1352829926,1548603684,1836072691,2053994217,0];function e0(){f6.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}fE(e0,f6);e0.prototype._update=function(){for(var r=lE,e=0;e<16;++e)r[e]=this._block.readInt32LE(e*4);for(var t=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,a=this._e|0,f=this._a|0,c=this._b|0,d=this._c|0,m=this._d|0,v=this._e|0,_=0;_<80;_+=1){var $,k;_<16?($=_g(t,n,o,i,a,r[Ml[_]],Sl[0],xl[_]),k=xg(f,c,d,m,v,r[$l[_]],El[0],kl[_])):_<32?($=wg(t,n,o,i,a,r[Ml[_]],Sl[1],xl[_]),k=$g(f,c,d,m,v,r[$l[_]],El[1],kl[_])):_<48?($=Mg(t,n,o,i,a,r[Ml[_]],Sl[2],xl[_]),k=Mg(f,c,d,m,v,r[$l[_]],El[2],kl[_])):_<64?($=$g(t,n,o,i,a,r[Ml[_]],Sl[3],xl[_]),k=wg(f,c,d,m,v,r[$l[_]],El[3],kl[_])):($=xg(t,n,o,i,a,r[Ml[_]],Sl[4],xl[_]),k=_g(f,c,d,m,v,r[$l[_]],El[4],kl[_])),t=a,a=i,i=ya(o,10),o=n,n=$,f=v,v=m,m=ya(d,10),d=c,c=k}var S=this._b+o+m|0;this._b=this._c+i+v|0,this._c=this._d+a+f|0,this._d=this._e+t+c|0,this._e=this._a+n+d|0,this._a=S};e0.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=Ld.alloc?Ld.alloc(20):new Ld(20);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r.writeInt32LE(this._e,16),r};function ya(r,e){return r<<e|r>>>32-e}function _g(r,e,t,n,o,i,a,f){return ya(r+(e^t^n)+i+a|0,f)+o|0}function wg(r,e,t,n,o,i,a,f){return ya(r+(e&t|~e&n)+i+a|0,f)+o|0}function Mg(r,e,t,n,o,i,a,f){return ya(r+((e|~t)^n)+i+a|0,f)+o|0}function $g(r,e,t,n,o,i,a,f){return ya(r+(e&n|t&~n)+i+a|0,f)+o|0}function xg(r,e,t,n,o,i,a,f){return ya(r+(e^(t|~n))+i+a|0,f)+o|0}var z1=e0,t0={exports:{}},l6=zt.exports.Buffer;function r0(r,e){this._block=l6.alloc(r),this._finalSize=e,this._blockSize=r,this._len=0}r0.prototype.update=function(r,e){typeof r=="string"&&(e=e||"utf8",r=l6.from(r,e));for(var t=this._block,n=this._blockSize,o=r.length,i=this._len,a=0;a<o;){for(var f=i%n,c=Math.min(o-a,n-f),d=0;d<c;d++)t[f+d]=r[a+d];i+=c,a+=c,i%n===0&&this._update(t)}return this._len+=o,this};r0.prototype.digest=function(r){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var n=(t&4294967295)>>>0,o=(t-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return r?i.toString(r):i};r0.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Qf=r0,uE=Ut.exports,u6=Qf,cE=zt.exports.Buffer,hE=[1518500249,1859775393,-1894007588,-899497514],dE=new Array(80);function $u(){this.init(),this._w=dE,u6.call(this,64,56)}uE($u,u6);$u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function pE(r){return r<<5|r>>>27}function mE(r){return r<<30|r>>>2}function vE(r,e,t,n){return r===0?e&t|~e&n:r===2?e&t|e&n|t&n:e^t^n}$u.prototype._update=function(r){for(var e=this._w,t=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=r.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var c=0;c<80;++c){var d=~~(c/20),m=pE(t)+vE(d,n,o,i)+a+e[c]+hE[d]|0;a=i,i=o,o=mE(n),n=t,t=m}this._a=t+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=a+this._e|0};$u.prototype._hash=function(){var r=cE.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};var gE=$u,yE=Ut.exports,c6=Qf,bE=zt.exports.Buffer,_E=[1518500249,1859775393,-1894007588,-899497514],wE=new Array(80);function xu(){this.init(),this._w=wE,c6.call(this,64,56)}yE(xu,c6);xu.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ME(r){return r<<1|r>>>31}function $E(r){return r<<5|r>>>27}function xE(r){return r<<30|r>>>2}function kE(r,e,t,n){return r===0?e&t|~e&n:r===2?e&t|e&n|t&n:e^t^n}xu.prototype._update=function(r){for(var e=this._w,t=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,a=this._e|0,f=0;f<16;++f)e[f]=r.readInt32BE(f*4);for(;f<80;++f)e[f]=ME(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var c=0;c<80;++c){var d=~~(c/20),m=$E(t)+kE(d,n,o,i)+a+e[c]+_E[d]|0;a=i,i=o,o=xE(n),n=t,t=m}this._a=t+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=a+this._e|0};xu.prototype._hash=function(){var r=bE.allocUnsafe(20);return r.writeInt32BE(this._a|0,0),r.writeInt32BE(this._b|0,4),r.writeInt32BE(this._c|0,8),r.writeInt32BE(this._d|0,12),r.writeInt32BE(this._e|0,16),r};var SE=xu,EE=Ut.exports,h6=Qf,AE=zt.exports.Buffer,BE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],RE=new Array(64);function ku(){this.init(),this._w=RE,h6.call(this,64,56)}EE(ku,h6);ku.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function CE(r,e,t){return t^r&(e^t)}function PE(r,e,t){return r&e|t&(r|e)}function TE(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function OE(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function IE(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function LE(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}ku.prototype._update=function(r){for(var e=this._w,t=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,a=this._e|0,f=this._f|0,c=this._g|0,d=this._h|0,m=0;m<16;++m)e[m]=r.readInt32BE(m*4);for(;m<64;++m)e[m]=LE(e[m-2])+e[m-7]+IE(e[m-15])+e[m-16]|0;for(var v=0;v<64;++v){var _=d+OE(a)+CE(a,f,c)+BE[v]+e[v]|0,$=TE(t)+PE(t,n,o)|0;d=c,c=f,f=a,a=i+_|0,i=o,o=n,n=t,t=_+$|0}this._a=t+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=a+this._e|0,this._f=f+this._f|0,this._g=c+this._g|0,this._h=d+this._h|0};ku.prototype._hash=function(){var r=AE.allocUnsafe(32);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r.writeInt32BE(this._h,28),r};var d6=ku,NE=Ut.exports,DE=d6,FE=Qf,UE=zt.exports.Buffer,HE=new Array(64);function n0(){this.init(),this._w=HE,FE.call(this,64,56)}NE(n0,DE);n0.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};n0.prototype._hash=function(){var r=UE.allocUnsafe(28);return r.writeInt32BE(this._a,0),r.writeInt32BE(this._b,4),r.writeInt32BE(this._c,8),r.writeInt32BE(this._d,12),r.writeInt32BE(this._e,16),r.writeInt32BE(this._f,20),r.writeInt32BE(this._g,24),r};var jE=n0,zE=Ut.exports,p6=Qf,qE=zt.exports.Buffer,kg=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],KE=new Array(160);function Su(){this.init(),this._w=KE,p6.call(this,128,112)}zE(Su,p6);Su.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Sg(r,e,t){return t^r&(e^t)}function Eg(r,e,t){return r&e|t&(r|e)}function Ag(r,e){return(r>>>28|e<<4)^(e>>>2|r<<30)^(e>>>7|r<<25)}function Bg(r,e){return(r>>>14|e<<18)^(r>>>18|e<<14)^(e>>>9|r<<23)}function WE(r,e){return(r>>>1|e<<31)^(r>>>8|e<<24)^r>>>7}function VE(r,e){return(r>>>1|e<<31)^(r>>>8|e<<24)^(r>>>7|e<<25)}function ZE(r,e){return(r>>>19|e<<13)^(e>>>29|r<<3)^r>>>6}function GE(r,e){return(r>>>19|e<<13)^(e>>>29|r<<3)^(r>>>6|e<<26)}function un(r,e){return r>>>0<e>>>0?1:0}Su.prototype._update=function(r){for(var e=this._w,t=this._ah|0,n=this._bh|0,o=this._ch|0,i=this._dh|0,a=this._eh|0,f=this._fh|0,c=this._gh|0,d=this._hh|0,m=this._al|0,v=this._bl|0,_=this._cl|0,$=this._dl|0,k=this._el|0,S=this._fl|0,A=this._gl|0,R=this._hl|0,C=0;C<32;C+=2)e[C]=r.readInt32BE(C*4),e[C+1]=r.readInt32BE(C*4+4);for(;C<160;C+=2){var T=e[C-30],B=e[C-15*2+1],L=WE(T,B),j=VE(B,T);T=e[C-2*2],B=e[C-2*2+1];var V=ZE(T,B),Z=GE(B,T),Q=e[C-7*2],ne=e[C-7*2+1],w=e[C-16*2],s=e[C-16*2+1],u=j+ne|0,h=L+Q+un(u,j)|0;u=u+Z|0,h=h+V+un(u,Z)|0,u=u+s|0,h=h+w+un(u,s)|0,e[C]=h,e[C+1]=u}for(var p=0;p<160;p+=2){h=e[p],u=e[p+1];var g=Eg(t,n,o),M=Eg(m,v,_),x=Ag(t,m),y=Ag(m,t),l=Bg(a,k),b=Bg(k,a),E=kg[p],P=kg[p+1],H=Sg(a,f,c),ee=Sg(k,S,A),Y=R+b|0,re=d+l+un(Y,R)|0;Y=Y+ee|0,re=re+H+un(Y,ee)|0,Y=Y+P|0,re=re+E+un(Y,P)|0,Y=Y+u|0,re=re+h+un(Y,u)|0;var Me=y+M|0,de=x+g+un(Me,y)|0;d=c,R=A,c=f,A=S,f=a,S=k,k=$+Y|0,a=i+re+un(k,$)|0,i=o,$=_,o=n,_=v,n=t,v=m,m=Y+Me|0,t=re+de+un(m,Y)|0}this._al=this._al+m|0,this._bl=this._bl+v|0,this._cl=this._cl+_|0,this._dl=this._dl+$|0,this._el=this._el+k|0,this._fl=this._fl+S|0,this._gl=this._gl+A|0,this._hl=this._hl+R|0,this._ah=this._ah+t+un(this._al,m)|0,this._bh=this._bh+n+un(this._bl,v)|0,this._ch=this._ch+o+un(this._cl,_)|0,this._dh=this._dh+i+un(this._dl,$)|0,this._eh=this._eh+a+un(this._el,k)|0,this._fh=this._fh+f+un(this._fl,S)|0,this._gh=this._gh+c+un(this._gl,A)|0,this._hh=this._hh+d+un(this._hl,R)|0};Su.prototype._hash=function(){var r=qE.allocUnsafe(64);function e(t,n,o){r.writeInt32BE(t,o),r.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),r};var m6=Su,YE=Ut.exports,JE=m6,XE=Qf,QE=zt.exports.Buffer,eA=new Array(160);function i0(){this.init(),this._w=eA,XE.call(this,128,112)}YE(i0,JE);i0.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};i0.prototype._hash=function(){var r=QE.allocUnsafe(48);function e(t,n,o){r.writeInt32BE(t,o),r.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),r};var tA=i0,os=t0.exports=function(e){e=e.toLowerCase();var t=os[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};os.sha=gE;os.sha1=SE;os.sha224=jE;os.sha256=d6;os.sha384=tA;os.sha512=m6;var rA=Ai,q1=_u.exports.EventEmitter,nA=Ut.exports;nA(Ai,q1);Ai.Readable=U1();Ai.Writable=D1();Ai.Duplex=ga();Ai.Transform=H1;Ai.PassThrough=t6;Ai.finished=Gh;Ai.pipeline=i6;Ai.Stream=Ai;function Ai(){q1.call(this)}Ai.prototype.pipe=function(r,e){var t=this;function n(m){r.writable&&r.write(m)===!1&&t.pause&&t.pause()}t.on("data",n);function o(){t.readable&&t.resume&&t.resume()}r.on("drain",o),!r._isStdio&&(!e||e.end!==!1)&&(t.on("end",a),t.on("close",f));var i=!1;function a(){i||(i=!0,r.end())}function f(){i||(i=!0,typeof r.destroy=="function"&&r.destroy())}function c(m){if(d(),q1.listenerCount(this,"error")===0)throw m}t.on("error",c),r.on("error",c);function d(){t.removeListener("data",n),r.removeListener("drain",o),t.removeListener("end",a),t.removeListener("close",f),t.removeListener("error",c),r.removeListener("error",c),t.removeListener("end",d),t.removeListener("close",d),r.removeListener("close",d)}return t.on("end",d),t.on("close",d),r.on("close",d),r.emit("pipe",t),r};var v6=zt.exports.Buffer,g6=rA.Transform,iA=uh.StringDecoder,oA=Ut.exports;function eo(r){g6.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}oA(eo,g6);eo.prototype.update=function(r,e,t){typeof r=="string"&&(r=v6.from(r,e));var n=this._update(r);return this.hashMode?this:(t&&(n=this._toString(n,t)),n)};eo.prototype.setAutoPadding=function(){};eo.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};eo.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};eo.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};eo.prototype._transform=function(r,e,t){var n;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(o){n=o}finally{t(n)}};eo.prototype._flush=function(r){var e;try{this.push(this.__final())}catch(t){e=t}r(e)};eo.prototype._finalOrDigest=function(r){var e=this.__final()||v6.alloc(0);return r&&(e=this._toString(e,r,!0)),e};eo.prototype._toString=function(r,e,t){if(this._decoder||(this._decoder=new iA(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(r);return t&&(n+=this._decoder.end()),n};var qs=eo,sA=Ut.exports,aA=j1,fA=z1,lA=t0.exports,y6=qs;function o0(r){y6.call(this,"digest"),this._hash=r}sA(o0,y6);o0.prototype._update=function(r){this._hash.update(r)};o0.prototype._final=function(){return this._hash.digest()};var Eu=function(e){return e=e.toLowerCase(),e==="md5"?new aA:e==="rmd160"||e==="ripemd160"?new fA:new o0(lA(e))},uA=Ut.exports,sa=zt.exports.Buffer,b6=qs,cA=sa.alloc(128),qa=64;function s0(r,e){b6.call(this,"digest"),typeof e=="string"&&(e=sa.from(e)),this._alg=r,this._key=e,e.length>qa?e=r(e):e.length<qa&&(e=sa.concat([e,cA],qa));for(var t=this._ipad=sa.allocUnsafe(qa),n=this._opad=sa.allocUnsafe(qa),o=0;o<qa;o++)t[o]=e[o]^54,n[o]=e[o]^92;this._hash=[t]}uA(s0,b6);s0.prototype._update=function(r){this._hash.push(r)};s0.prototype._final=function(){var r=this._alg(sa.concat(this._hash));return this._alg(sa.concat([this._opad,r]))};var hA=s0,dA=j1,_6=function(r){return new dA().update(r).digest()},pA=Ut.exports,mA=hA,w6=qs,Il=zt.exports.Buffer,vA=_6,Dp=z1,Fp=t0.exports,gA=Il.alloc(128);function ou(r,e){w6.call(this,"digest"),typeof e=="string"&&(e=Il.from(e));var t=r==="sha512"||r==="sha384"?128:64;if(this._alg=r,this._key=e,e.length>t){var n=r==="rmd160"?new Dp:Fp(r);e=n.update(e).digest()}else e.length<t&&(e=Il.concat([e,gA],t));for(var o=this._ipad=Il.allocUnsafe(t),i=this._opad=Il.allocUnsafe(t),a=0;a<t;a++)o[a]=e[a]^54,i[a]=e[a]^92;this._hash=r==="rmd160"?new Dp:Fp(r),this._hash.update(o)}pA(ou,w6);ou.prototype._update=function(r){this._hash.update(r)};ou.prototype._final=function(){var r=this._hash.digest(),e=this._alg==="rmd160"?new Dp:Fp(this._alg);return e.update(this._opad).update(r).digest()};var M6=function(e,t){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new ou("rmd160",t):e==="md5"?new mA(vA,t):new ou(e,t)},$6={exports:{}};const yA={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},bA={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},_A={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},wA={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},MA={sign:"ecdsa",hash:"sha256",id:""},$A={sign:"ecdsa",hash:"sha224",id:""},xA={sign:"ecdsa",hash:"sha384",id:""},kA={sign:"ecdsa",hash:"sha512",id:""},SA={sign:"dsa",hash:"sha1",id:""},EA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},AA={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},x6={sha224WithRSAEncryption:yA,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:bA,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:_A,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:wA,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:MA,sha224:$A,sha384:xA,sha512:kA,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:SA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:EA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:AA,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};(function(r){r.exports=x6})($6);var a0={},BA=Math.pow(2,30)-1,k6=function(r,e){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>BA||e!==e)throw new TypeError("Bad key length")},Dc;if(Jt.process&&Jt.process.browser)Dc="utf-8";else if(Jt.process&&Jt.process.version){var RA=parseInt(It.exports.version.split(".")[0].slice(1),10);Dc=RA>=6?"utf-8":"binary"}else Dc="utf-8";var S6=Dc,Nd=zt.exports.Buffer,E6=function(r,e,t){if(Nd.isBuffer(r))return r;if(typeof r=="string")return Nd.from(r,e);if(ArrayBuffer.isView(r))return Nd.from(r.buffer);throw new TypeError(t+" must be a string, a Buffer, a typed array or a DataView")},CA=_6,PA=z1,TA=t0.exports,aa=zt.exports.Buffer,OA=k6,Rg=S6,Cg=E6,IA=aa.alloc(128),Fc={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function A6(r,e,t){var n=LA(r),o=r==="sha512"||r==="sha384"?128:64;e.length>o?e=n(e):e.length<o&&(e=aa.concat([e,IA],o));for(var i=aa.allocUnsafe(o+Fc[r]),a=aa.allocUnsafe(o+Fc[r]),f=0;f<o;f++)i[f]=e[f]^54,a[f]=e[f]^92;var c=aa.allocUnsafe(o+t+4);i.copy(c,0,0,o),this.ipad1=c,this.ipad2=i,this.opad=a,this.alg=r,this.blocksize=o,this.hash=n,this.size=Fc[r]}A6.prototype.run=function(r,e){r.copy(e,this.blocksize);var t=this.hash(e);return t.copy(this.opad,this.blocksize),this.hash(this.opad)};function LA(r){function e(n){return TA(r).update(n).digest()}function t(n){return new PA().update(n).digest()}return r==="rmd160"||r==="ripemd160"?t:r==="md5"?CA:e}function NA(r,e,t,n,o){OA(t,n),r=Cg(r,Rg,"Password"),e=Cg(e,Rg,"Salt"),o=o||"sha1";var i=new A6(o,r,e.length),a=aa.allocUnsafe(n),f=aa.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var c=0,d=Fc[o],m=Math.ceil(n/d),v=1;v<=m;v++){f.writeUInt32BE(v,e.length);for(var _=i.run(f,i.ipad1),$=_,k=1;k<t;k++){$=i.run($,i.ipad2);for(var S=0;S<d;S++)_[S]^=$[S]}_.copy(a,c),c+=d}return a}var B6=NA,R6=zt.exports.Buffer,DA=k6,Pg=S6,Tg=B6,Og=E6,oc,Hl=Jt.crypto&&Jt.crypto.subtle,FA={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Dd=[];function UA(r){if(Jt.process&&!Jt.process.browser||!Hl||!Hl.importKey||!Hl.deriveBits)return Promise.resolve(!1);if(Dd[r]!==void 0)return Dd[r];oc=oc||R6.alloc(8);var e=C6(oc,oc,10,128,r).then(function(){return!0}).catch(function(){return!1});return Dd[r]=e,e}var Js;function Up(){return Js||(Jt.process&&Jt.process.nextTick?Js=Jt.process.nextTick:Jt.queueMicrotask?Js=Jt.queueMicrotask:Jt.setImmediate?Js=Jt.setImmediate:Js=Jt.setTimeout,Js)}function C6(r,e,t,n,o){return Hl.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i){return Hl.deriveBits({name:"PBKDF2",salt:e,iterations:t,hash:{name:o}},i,n<<3)}).then(function(i){return R6.from(i)})}function HA(r,e){r.then(function(t){Up()(function(){e(null,t)})},function(t){Up()(function(){e(t)})})}var jA=function(r,e,t,n,o,i){typeof o=="function"&&(i=o,o=void 0),o=o||"sha1";var a=FA[o.toLowerCase()];if(!a||typeof Jt.Promise!="function"){Up()(function(){var f;try{f=Tg(r,e,t,n,o)}catch(c){return i(c)}i(null,f)});return}if(DA(t,n),r=Og(r,Pg,"Password"),e=Og(e,Pg,"Salt"),typeof i!="function")throw new Error("No callback provided to pbkdf2");HA(UA(a).then(function(f){return f?C6(r,e,t,n,a):Tg(r,e,t,n,o)}),i)};a0.pbkdf2=jA;a0.pbkdf2Sync=B6;var Zi={},el={},fi={};fi.readUInt32BE=function(e,t){var n=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return n>>>0};fi.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=t&255};fi.ip=function(e,t,n,o){for(var i=0,a=0,f=6;f>=0;f-=2){for(var c=0;c<=24;c+=8)i<<=1,i|=t>>>c+f&1;for(var c=0;c<=24;c+=8)i<<=1,i|=e>>>c+f&1}for(var f=6;f>=0;f-=2){for(var c=1;c<=25;c+=8)a<<=1,a|=t>>>c+f&1;for(var c=1;c<=25;c+=8)a<<=1,a|=e>>>c+f&1}n[o+0]=i>>>0,n[o+1]=a>>>0};fi.rip=function(e,t,n,o){for(var i=0,a=0,f=0;f<4;f++)for(var c=24;c>=0;c-=8)i<<=1,i|=t>>>c+f&1,i<<=1,i|=e>>>c+f&1;for(var f=4;f<8;f++)for(var c=24;c>=0;c-=8)a<<=1,a|=t>>>c+f&1,a<<=1,a|=e>>>c+f&1;n[o+0]=i>>>0,n[o+1]=a>>>0};fi.pc1=function(e,t,n,o){for(var i=0,a=0,f=7;f>=5;f--){for(var c=0;c<=24;c+=8)i<<=1,i|=t>>c+f&1;for(var c=0;c<=24;c+=8)i<<=1,i|=e>>c+f&1}for(var c=0;c<=24;c+=8)i<<=1,i|=t>>c+f&1;for(var f=1;f<=3;f++){for(var c=0;c<=24;c+=8)a<<=1,a|=t>>c+f&1;for(var c=0;c<=24;c+=8)a<<=1,a|=e>>c+f&1}for(var c=0;c<=24;c+=8)a<<=1,a|=e>>c+f&1;n[o+0]=i>>>0,n[o+1]=a>>>0};fi.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var sc=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];fi.pc2=function(e,t,n,o){for(var i=0,a=0,f=sc.length>>>1,c=0;c<f;c++)i<<=1,i|=e>>>sc[c]&1;for(var c=f;c<sc.length;c++)a<<=1,a|=t>>>sc[c]&1;n[o+0]=i>>>0,n[o+1]=a>>>0};fi.expand=function(e,t,n){var o=0,i=0;o=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)o<<=6,o|=e>>>a&63;for(var a=11;a>=3;a-=4)i|=e>>>a&63,i<<=6;i|=(e&31)<<1|e>>>31,t[n+0]=o>>>0,t[n+1]=i>>>0};var Ig=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];fi.substitute=function(e,t){for(var n=0,o=0;o<4;o++){var i=e>>>18-o*6&63,a=Ig[o*64+i];n<<=4,n|=a}for(var o=0;o<4;o++){var i=t>>>18-o*6&63,a=Ig[4*64+o*64+i];n<<=4,n|=a}return n>>>0};var Lg=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];fi.permute=function(e){for(var t=0,n=0;n<Lg.length;n++)t<<=1,t|=e>>>Lg[n]&1;return t>>>0};fi.padSplit=function(e,t,n){for(var o=e.toString(2);o.length<t;)o="0"+o;for(var i=[],a=0;a<t;a+=n)i.push(o.slice(a,a+n));return i.join(" ")};var Oi=P6;function P6(r,e){if(!r)throw new Error(e||"Assertion failed")}P6.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var zA=Oi;function Ii(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var K1=Ii;Ii.prototype._init=function(){};Ii.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Ii.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),o=0;o<n;o++)this.buffer[this.bufferOff+o]=e[t+o];return this.bufferOff+=n,n};Ii.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize};Ii.prototype._updateEncrypt=function(e){var t=0,n=0,o=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(o*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i};Ii.prototype._updateDecrypt=function(e){for(var t=0,n=0,o=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(o*this.blockSize);o>0;o--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i};Ii.prototype.final=function(e){var t;e&&(t=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),t?t.concat(n):n};Ii.prototype._pad=function(e,t){if(t===0)return!1;for(;t<e.length;)e[t++]=0;return!0};Ii.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Ii.prototype._unpad=function(e){return e};Ii.prototype._finalDecrypt=function(){zA.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var T6=Oi,qA=Ut.exports,ln=fi,O6=K1;function KA(){this.tmp=new Array(2),this.keys=null}function xo(r){O6.call(this,r);var e=new KA;this._desState=e,this.deriveKeys(e,r.key)}qA(xo,O6);var I6=xo;xo.create=function(e){return new xo(e)};var WA=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];xo.prototype.deriveKeys=function(e,t){e.keys=new Array(16*2),T6.equal(t.length,this.blockSize,"Invalid key length");var n=ln.readUInt32BE(t,0),o=ln.readUInt32BE(t,4);ln.pc1(n,o,e.tmp,0),n=e.tmp[0],o=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var a=WA[i>>>1];n=ln.r28shl(n,a),o=ln.r28shl(o,a),ln.pc2(n,o,e.keys,i)}};xo.prototype._update=function(e,t,n,o){var i=this._desState,a=ln.readUInt32BE(e,t),f=ln.readUInt32BE(e,t+4);ln.ip(a,f,i.tmp,0),a=i.tmp[0],f=i.tmp[1],this.type==="encrypt"?this._encrypt(i,a,f,i.tmp,0):this._decrypt(i,a,f,i.tmp,0),a=i.tmp[0],f=i.tmp[1],ln.writeUInt32BE(n,a,o),ln.writeUInt32BE(n,f,o+4)};xo.prototype._pad=function(e,t){for(var n=e.length-t,o=t;o<e.length;o++)e[o]=n;return!0};xo.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)T6.equal(e[n],t);return e.slice(0,e.length-t)};xo.prototype._encrypt=function(e,t,n,o,i){for(var a=t,f=n,c=0;c<e.keys.length;c+=2){var d=e.keys[c],m=e.keys[c+1];ln.expand(f,e.tmp,0),d^=e.tmp[0],m^=e.tmp[1];var v=ln.substitute(d,m),_=ln.permute(v),$=f;f=(a^_)>>>0,a=$}ln.rip(f,a,o,i)};xo.prototype._decrypt=function(e,t,n,o,i){for(var a=n,f=t,c=e.keys.length-2;c>=0;c-=2){var d=e.keys[c],m=e.keys[c+1];ln.expand(a,e.tmp,0),d^=e.tmp[0],m^=e.tmp[1];var v=ln.substitute(d,m),_=ln.permute(v),$=a;a=(f^_)>>>0,f=$}ln.rip(a,f,o,i)};var L6={},VA=Oi,ZA=Ut.exports,hh={};function GA(r){VA.equal(r.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=r[e]}function YA(r){function e(i){r.call(this,i),this._cbcInit()}ZA(e,r);for(var t=Object.keys(hh),n=0;n<t.length;n++){var o=t[n];e.prototype[o]=hh[o]}return e.create=function(a){return new e(a)},e}L6.instantiate=YA;hh._cbcInit=function(){var e=new GA(this.options.iv);this._cbcState=e};hh._update=function(e,t,n,o){var i=this._cbcState,a=this.constructor.super_.prototype,f=i.iv;if(this.type==="encrypt"){for(var c=0;c<this.blockSize;c++)f[c]^=e[t+c];a._update.call(this,f,0,n,o);for(var c=0;c<this.blockSize;c++)f[c]=n[o+c]}else{a._update.call(this,e,t,n,o);for(var c=0;c<this.blockSize;c++)n[o+c]^=f[c];for(var c=0;c<this.blockSize;c++)f[c]=e[t+c]}};var JA=Oi,XA=Ut.exports,N6=K1,$s=I6;function QA(r,e){JA.equal(e.length,24,"Invalid key length");var t=e.slice(0,8),n=e.slice(8,16),o=e.slice(16,24);r==="encrypt"?this.ciphers=[$s.create({type:"encrypt",key:t}),$s.create({type:"decrypt",key:n}),$s.create({type:"encrypt",key:o})]:this.ciphers=[$s.create({type:"decrypt",key:o}),$s.create({type:"encrypt",key:n}),$s.create({type:"decrypt",key:t})]}function ba(r){N6.call(this,r);var e=new QA(this.type,this.options.key);this._edeState=e}XA(ba,N6);var eB=ba;ba.create=function(e){return new ba(e)};ba.prototype._update=function(e,t,n,o){var i=this._edeState;i.ciphers[0]._update(e,t,n,o),i.ciphers[1]._update(n,o,n,o),i.ciphers[2]._update(n,o,n,o)};ba.prototype._pad=$s.prototype._pad;ba.prototype._unpad=$s.prototype._unpad;el.utils=fi;el.Cipher=K1;el.DES=I6;el.CBC=L6;el.EDE=eB;var D6=qs,Ho=el,tB=Ut.exports,ra=zt.exports.Buffer,su={"des-ede3-cbc":Ho.CBC.instantiate(Ho.EDE),"des-ede3":Ho.EDE,"des-ede-cbc":Ho.CBC.instantiate(Ho.EDE),"des-ede":Ho.EDE,"des-cbc":Ho.CBC.instantiate(Ho.DES),"des-ecb":Ho.DES};su.des=su["des-cbc"];su.des3=su["des-ede3-cbc"];var rB=f0;tB(f0,D6);function f0(r){D6.call(this);var e=r.mode.toLowerCase(),t=su[e],n;r.decrypt?n="decrypt":n="encrypt";var o=r.key;ra.isBuffer(o)||(o=ra.from(o)),(e==="des-ede"||e==="des-ede-cbc")&&(o=ra.concat([o,o.slice(0,8)]));var i=r.iv;ra.isBuffer(i)||(i=ra.from(i)),this._des=t.create({key:o,iv:i,type:n})}f0.prototype._update=function(r){return ra.from(this._des.update(r))};f0.prototype._final=function(){return ra.from(this._des.final())};var si={},W1={},V1={};V1.encrypt=function(r,e){return r._cipher.encryptBlock(e)};V1.decrypt=function(r,e){return r._cipher.decryptBlock(e)};var Z1={},Au=function(e,t){for(var n=Math.min(e.length,t.length),o=new Dt.Buffer(n),i=0;i<n;++i)o[i]=e[i]^t[i];return o},F6=Au;Z1.encrypt=function(r,e){var t=F6(e,r._prev);return r._prev=r._cipher.encryptBlock(t),r._prev};Z1.decrypt=function(r,e){var t=r._prev;r._prev=e;var n=r._cipher.decryptBlock(e);return F6(n,t)};var U6={},Ll=zt.exports.Buffer,nB=Au;function Ng(r,e,t){var n=e.length,o=nB(e,r._cache);return r._cache=r._cache.slice(n),r._prev=Ll.concat([r._prev,t?e:o]),o}U6.encrypt=function(r,e,t){for(var n=Ll.allocUnsafe(0),o;e.length;)if(r._cache.length===0&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=Ll.allocUnsafe(0)),r._cache.length<=e.length)o=r._cache.length,n=Ll.concat([n,Ng(r,e.slice(0,o),t)]),e=e.slice(o);else{n=Ll.concat([n,Ng(r,e,t)]);break}return n};var H6={},Hp=zt.exports.Buffer;function iB(r,e,t){var n=r._cipher.encryptBlock(r._prev),o=n[0]^e;return r._prev=Hp.concat([r._prev.slice(1),Hp.from([t?e:o])]),o}H6.encrypt=function(r,e,t){for(var n=e.length,o=Hp.allocUnsafe(n),i=-1;++i<n;)o[i]=iB(r,e[i],t);return o};var j6={},Uc=zt.exports.Buffer;function oB(r,e,t){for(var n,o=-1,i=8,a=0,f,c;++o<i;)n=r._cipher.encryptBlock(r._prev),f=e&1<<7-o?128:0,c=n[0]^f,a+=(c&128)>>o%8,r._prev=sB(r._prev,t?f:c);return a}function sB(r,e){var t=r.length,n=-1,o=Uc.allocUnsafe(r.length);for(r=Uc.concat([r,Uc.from([e])]);++n<t;)o[n]=r[n]<<1|r[n+1]>>7;return o}j6.encrypt=function(r,e,t){for(var n=e.length,o=Uc.allocUnsafe(n),i=-1;++i<n;)o[i]=oB(r,e[i],t);return o};var z6={},aB=Au;function fB(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}z6.encrypt=function(r,e){for(;r._cache.length<e.length;)r._cache=Dt.Buffer.concat([r._cache,fB(r)]);var t=r._cache.slice(0,e.length);return r._cache=r._cache.slice(e.length),aB(e,t)};var jp={};function lB(r){for(var e=r.length,t;e--;)if(t=r.readUInt8(e),t===255)r.writeUInt8(0,e);else{t++,r.writeUInt8(t,e);break}}var q6=lB,uB=Au,Dg=zt.exports.Buffer,cB=q6;function hB(r){var e=r._cipher.encryptBlockRaw(r._prev);return cB(r._prev),e}var Fd=16;jp.encrypt=function(r,e){var t=Math.ceil(e.length/Fd),n=r._cache.length;r._cache=Dg.concat([r._cache,Dg.allocUnsafe(t*Fd)]);for(var o=0;o<t;o++){var i=hB(r),a=n+o*Fd;r._cache.writeUInt32BE(i[0],a+0),r._cache.writeUInt32BE(i[1],a+4),r._cache.writeUInt32BE(i[2],a+8),r._cache.writeUInt32BE(i[3],a+12)}var f=r._cache.slice(0,e.length);return r._cache=r._cache.slice(e.length),uB(e,f)};const dB={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},pB={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},mB={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},K6={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:dB,aes192:pB,aes256:mB,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var vB={ECB:V1,CBC:Z1,CFB:U6,CFB8:H6,CFB1:j6,OFB:z6,CTR:jp,GCM:jp},Hc=K6;for(var Fg in Hc)Hc[Fg].module=vB[Hc[Fg].mode];var G1=Hc,Bu={},dh=zt.exports.Buffer;function Y1(r){dh.isBuffer(r)||(r=dh.from(r));for(var e=r.length/4|0,t=new Array(e),n=0;n<e;n++)t[n]=r.readUInt32BE(n*4);return t}function Ud(r){for(var e=0;e<r.length;r++)r[e]=0}function W6(r,e,t,n,o){for(var i=t[0],a=t[1],f=t[2],c=t[3],d=r[0]^e[0],m=r[1]^e[1],v=r[2]^e[2],_=r[3]^e[3],$,k,S,A,R=4,C=1;C<o;C++)$=i[d>>>24]^a[m>>>16&255]^f[v>>>8&255]^c[_&255]^e[R++],k=i[m>>>24]^a[v>>>16&255]^f[_>>>8&255]^c[d&255]^e[R++],S=i[v>>>24]^a[_>>>16&255]^f[d>>>8&255]^c[m&255]^e[R++],A=i[_>>>24]^a[d>>>16&255]^f[m>>>8&255]^c[v&255]^e[R++],d=$,m=k,v=S,_=A;return $=(n[d>>>24]<<24|n[m>>>16&255]<<16|n[v>>>8&255]<<8|n[_&255])^e[R++],k=(n[m>>>24]<<24|n[v>>>16&255]<<16|n[_>>>8&255]<<8|n[d&255])^e[R++],S=(n[v>>>24]<<24|n[_>>>16&255]<<16|n[d>>>8&255]<<8|n[m&255])^e[R++],A=(n[_>>>24]<<24|n[d>>>16&255]<<16|n[m>>>8&255]<<8|n[v&255])^e[R++],$=$>>>0,k=k>>>0,S=S>>>0,A=A>>>0,[$,k,S,A]}var gB=[0,1,2,4,8,16,32,64,128,27,54],nn=function(){for(var r=new Array(256),e=0;e<256;e++)e<128?r[e]=e<<1:r[e]=e<<1^283;for(var t=[],n=[],o=[[],[],[],[]],i=[[],[],[],[]],a=0,f=0,c=0;c<256;++c){var d=f^f<<1^f<<2^f<<3^f<<4;d=d>>>8^d&255^99,t[a]=d,n[d]=a;var m=r[a],v=r[m],_=r[v],$=r[d]*257^d*16843008;o[0][a]=$<<24|$>>>8,o[1][a]=$<<16|$>>>16,o[2][a]=$<<8|$>>>24,o[3][a]=$,$=_*16843009^v*65537^m*257^a*16843008,i[0][d]=$<<24|$>>>8,i[1][d]=$<<16|$>>>16,i[2][d]=$<<8|$>>>24,i[3][d]=$,a===0?a=f=1:(a=m^r[r[r[_^m]]],f^=r[r[f]])}return{SBOX:t,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:i}}();function Bi(r){this._key=Y1(r),this._reset()}Bi.blockSize=4*4;Bi.keySize=256/8;Bi.prototype.blockSize=Bi.blockSize;Bi.prototype.keySize=Bi.keySize;Bi.prototype._reset=function(){for(var r=this._key,e=r.length,t=e+6,n=(t+1)*4,o=[],i=0;i<e;i++)o[i]=r[i];for(i=e;i<n;i++){var a=o[i-1];i%e===0?(a=a<<8|a>>>24,a=nn.SBOX[a>>>24]<<24|nn.SBOX[a>>>16&255]<<16|nn.SBOX[a>>>8&255]<<8|nn.SBOX[a&255],a^=gB[i/e|0]<<24):e>6&&i%e===4&&(a=nn.SBOX[a>>>24]<<24|nn.SBOX[a>>>16&255]<<16|nn.SBOX[a>>>8&255]<<8|nn.SBOX[a&255]),o[i]=o[i-e]^a}for(var f=[],c=0;c<n;c++){var d=n-c,m=o[d-(c%4?0:4)];c<4||d<=4?f[c]=m:f[c]=nn.INV_SUB_MIX[0][nn.SBOX[m>>>24]]^nn.INV_SUB_MIX[1][nn.SBOX[m>>>16&255]]^nn.INV_SUB_MIX[2][nn.SBOX[m>>>8&255]]^nn.INV_SUB_MIX[3][nn.SBOX[m&255]]}this._nRounds=t,this._keySchedule=o,this._invKeySchedule=f};Bi.prototype.encryptBlockRaw=function(r){return r=Y1(r),W6(r,this._keySchedule,nn.SUB_MIX,nn.SBOX,this._nRounds)};Bi.prototype.encryptBlock=function(r){var e=this.encryptBlockRaw(r),t=dh.allocUnsafe(16);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[1],4),t.writeUInt32BE(e[2],8),t.writeUInt32BE(e[3],12),t};Bi.prototype.decryptBlock=function(r){r=Y1(r);var e=r[1];r[1]=r[3],r[3]=e;var t=W6(r,this._invKeySchedule,nn.INV_SUB_MIX,nn.INV_SBOX,this._nRounds),n=dh.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[3],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[1],12),n};Bi.prototype.scrub=function(){Ud(this._keySchedule),Ud(this._invKeySchedule),Ud(this._key)};Bu.AES=Bi;var Mf=zt.exports.Buffer,yB=Mf.alloc(16,0);function bB(r){return[r.readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)]}function V6(r){var e=Mf.allocUnsafe(16);return e.writeUInt32BE(r[0]>>>0,0),e.writeUInt32BE(r[1]>>>0,4),e.writeUInt32BE(r[2]>>>0,8),e.writeUInt32BE(r[3]>>>0,12),e}function Ru(r){this.h=r,this.state=Mf.alloc(16,0),this.cache=Mf.allocUnsafe(0)}Ru.prototype.ghash=function(r){for(var e=-1;++e<r.length;)this.state[e]^=r[e];this._multiply()};Ru.prototype._multiply=function(){for(var r=bB(this.h),e=[0,0,0,0],t,n,o,i=-1;++i<128;){for(n=(this.state[~~(i/8)]&1<<7-i%8)!==0,n&&(e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3]),o=(r[3]&1)!==0,t=3;t>0;t--)r[t]=r[t]>>>1|(r[t-1]&1)<<31;r[0]=r[0]>>>1,o&&(r[0]=r[0]^225<<24)}this.state=V6(e)};Ru.prototype.update=function(r){this.cache=Mf.concat([this.cache,r]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Ru.prototype.final=function(r,e){return this.cache.length&&this.ghash(Mf.concat([this.cache,yB],16)),this.ghash(V6([0,r,0,e])),this.state};var _B=Ru,wB=Bu,Zn=zt.exports.Buffer,Z6=qs,MB=Ut.exports,G6=_B,$B=Au,xB=q6;function kB(r,e){var t=0;r.length!==e.length&&t++;for(var n=Math.min(r.length,e.length),o=0;o<n;++o)t+=r[o]^e[o];return t}function SB(r,e,t){if(e.length===12)return r._finID=Zn.concat([e,Zn.from([0,0,0,1])]),Zn.concat([e,Zn.from([0,0,0,2])]);var n=new G6(t),o=e.length,i=o%16;n.update(e),i&&(i=16-i,n.update(Zn.alloc(i,0))),n.update(Zn.alloc(8,0));var a=o*8,f=Zn.alloc(8);f.writeUIntBE(a,0,8),n.update(f),r._finID=n.state;var c=Zn.from(r._finID);return xB(c),c}function Aa(r,e,t,n){Z6.call(this);var o=Zn.alloc(4,0);this._cipher=new wB.AES(e);var i=this._cipher.encryptBlock(o);this._ghash=new G6(i),t=SB(this,t,i),this._prev=Zn.from(t),this._cache=Zn.allocUnsafe(0),this._secCache=Zn.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=r,this._authTag=null,this._called=!1}MB(Aa,Z6);Aa.prototype._update=function(r){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Zn.alloc(e,0),this._ghash.update(e))}this._called=!0;var t=this._mode.encrypt(this,r);return this._decrypt?this._ghash.update(r):this._ghash.update(t),this._len+=r.length,t};Aa.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var r=$B(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&kB(r,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=r,this._cipher.scrub()};Aa.prototype.getAuthTag=function(){if(this._decrypt||!Zn.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Aa.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Aa.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var Y6=Aa,EB=Bu,Hd=zt.exports.Buffer,J6=qs,AB=Ut.exports;function l0(r,e,t,n){J6.call(this),this._cipher=new EB.AES(e),this._prev=Hd.from(t),this._cache=Hd.allocUnsafe(0),this._secCache=Hd.allocUnsafe(0),this._decrypt=n,this._mode=r}AB(l0,J6);l0.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)};l0.prototype._final=function(){this._cipher.scrub()};var X6=l0,Xs=zt.exports.Buffer,BB=j1;function RB(r,e,t,n){if(Xs.isBuffer(r)||(r=Xs.from(r,"binary")),e&&(Xs.isBuffer(e)||(e=Xs.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=t/8,i=Xs.alloc(o),a=Xs.alloc(n||0),f=Xs.alloc(0);o>0||n>0;){var c=new BB;c.update(f),c.update(r),e&&c.update(e),f=c.digest();var d=0;if(o>0){var m=i.length-o;d=Math.min(o,f.length),f.copy(i,m,0,d),o-=d}if(d<f.length&&n>0){var v=a.length-n,_=Math.min(n,f.length-d);f.copy(a,v,d,d+_),n-=_}}return f.fill(0),{key:i,iv:a}}var u0=RB,Q6=G1,CB=Y6,Xo=zt.exports.Buffer,PB=X6,e4=qs,TB=Bu,OB=u0,IB=Ut.exports;function Cu(r,e,t){e4.call(this),this._cache=new c0,this._cipher=new TB.AES(e),this._prev=Xo.from(t),this._mode=r,this._autopadding=!0}IB(Cu,e4);Cu.prototype._update=function(r){this._cache.add(r);for(var e,t,n=[];e=this._cache.get();)t=this._mode.encrypt(this,e),n.push(t);return Xo.concat(n)};var LB=Xo.alloc(16,16);Cu.prototype._final=function(){var r=this._cache.flush();if(this._autopadding)return r=this._mode.encrypt(this,r),this._cipher.scrub(),r;if(!r.equals(LB))throw this._cipher.scrub(),new Error("data not multiple of block length")};Cu.prototype.setAutoPadding=function(r){return this._autopadding=!!r,this};function c0(){this.cache=Xo.allocUnsafe(0)}c0.prototype.add=function(r){this.cache=Xo.concat([this.cache,r])};c0.prototype.get=function(){if(this.cache.length>15){var r=this.cache.slice(0,16);return this.cache=this.cache.slice(16),r}return null};c0.prototype.flush=function(){for(var r=16-this.cache.length,e=Xo.allocUnsafe(r),t=-1;++t<r;)e.writeUInt8(r,t);return Xo.concat([this.cache,e])};function t4(r,e,t){var n=Q6[r.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Xo.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof t=="string"&&(t=Xo.from(t)),n.mode!=="GCM"&&t.length!==n.iv)throw new TypeError("invalid iv length "+t.length);return n.type==="stream"?new PB(n.module,e,t):n.type==="auth"?new CB(n.module,e,t):new Cu(n.module,e,t)}function NB(r,e){var t=Q6[r.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var n=OB(e,!1,t.key,t.iv);return t4(r,n.key,n.iv)}W1.createCipheriv=t4;W1.createCipher=NB;var J1={},DB=Y6,$f=zt.exports.Buffer,r4=G1,FB=X6,n4=qs,UB=Bu,HB=u0,jB=Ut.exports;function Pu(r,e,t){n4.call(this),this._cache=new h0,this._last=void 0,this._cipher=new UB.AES(e),this._prev=$f.from(t),this._mode=r,this._autopadding=!0}jB(Pu,n4);Pu.prototype._update=function(r){this._cache.add(r);for(var e,t,n=[];e=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,e),n.push(t);return $f.concat(n)};Pu.prototype._final=function(){var r=this._cache.flush();if(this._autopadding)return zB(this._mode.decrypt(this,r));if(r)throw new Error("data not multiple of block length")};Pu.prototype.setAutoPadding=function(r){return this._autopadding=!!r,this};function h0(){this.cache=$f.allocUnsafe(0)}h0.prototype.add=function(r){this.cache=$f.concat([this.cache,r])};h0.prototype.get=function(r){var e;if(r){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};h0.prototype.flush=function(){if(this.cache.length)return this.cache};function zB(r){var e=r[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var t=-1;++t<e;)if(r[t+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return r.slice(0,16-e)}function i4(r,e,t){var n=r4[r.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=$f.from(t)),n.mode!=="GCM"&&t.length!==n.iv)throw new TypeError("invalid iv length "+t.length);if(typeof e=="string"&&(e=$f.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new FB(n.module,e,t,!0):n.type==="auth"?new DB(n.module,e,t,!0):new Pu(n.module,e,t)}function qB(r,e){var t=r4[r.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var n=HB(e,!1,t.key,t.iv);return i4(r,n.key,n.iv)}J1.createDecipher=qB;J1.createDecipheriv=i4;var o4=W1,s4=J1,KB=K6;function WB(){return Object.keys(KB)}si.createCipher=si.Cipher=o4.createCipher;si.createCipheriv=si.Cipheriv=o4.createCipheriv;si.createDecipher=si.Decipher=s4.createDecipher;si.createDecipheriv=si.Decipheriv=s4.createDecipheriv;si.listCiphers=si.getCiphers=WB;var a4={};(function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}})(a4);var f4=rB,X1=si,Rs=G1,Zo=a4,l4=u0;function VB(r,e){r=r.toLowerCase();var t,n;if(Rs[r])t=Rs[r].key,n=Rs[r].iv;else if(Zo[r])t=Zo[r].key*8,n=Zo[r].iv;else throw new TypeError("invalid suite type");var o=l4(e,!1,t,n);return u4(r,o.key,o.iv)}function ZB(r,e){r=r.toLowerCase();var t,n;if(Rs[r])t=Rs[r].key,n=Rs[r].iv;else if(Zo[r])t=Zo[r].key*8,n=Zo[r].iv;else throw new TypeError("invalid suite type");var o=l4(e,!1,t,n);return c4(r,o.key,o.iv)}function u4(r,e,t){if(r=r.toLowerCase(),Rs[r])return X1.createCipheriv(r,e,t);if(Zo[r])return new f4({key:e,iv:t,mode:r});throw new TypeError("invalid suite type")}function c4(r,e,t){if(r=r.toLowerCase(),Rs[r])return X1.createDecipheriv(r,e,t);if(Zo[r])return new f4({key:e,iv:t,mode:r,decrypt:!0});throw new TypeError("invalid suite type")}function GB(){return Object.keys(Zo).concat(X1.getCiphers())}Zi.createCipher=Zi.Cipher=VB;Zi.createCipheriv=Zi.Cipheriv=u4;Zi.createDecipher=Zi.Decipher=ZB;Zi.createDecipheriv=Zi.Decipheriv=c4;Zi.listCiphers=Zi.getCiphers=GB;var Qs={},Q1={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(Q1);var h4={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(h4);var ac={exports:{}},Ug;function em(){if(Ug)return ac.exports;Ug=1;var r;ac.exports=function(o){return r||(r=new e(null)),r.generate(o)};function e(n){this.rand=n}if(ac.exports.Rand=e,e.prototype.generate=function(o){return this._rand(o)},e.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var i=new Uint8Array(o),a=0;a<i.length;a++)i[a]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(o){var i=new Uint8Array(o);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(o){var i=new Uint8Array(o);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=h8();if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(o){return t.randomBytes(o)}}catch{}return ac.exports}var jd,Hg;function d4(){if(Hg)return jd;Hg=1;var r=h4.exports,e=em();function t(n){this.rand=n||new e.Rand}return jd=t,t.create=function(o){return new t(o)},t.prototype._randbelow=function(o){var i=o.bitLength(),a=Math.ceil(i/8);do var f=new r(this.rand.generate(a));while(f.cmp(o)>=0);return f},t.prototype._randrange=function(o,i){var a=i.sub(o);return o.add(this._randbelow(a))},t.prototype.test=function(o,i,a){var f=o.bitLength(),c=r.mont(o),d=new r(1).toRed(c);i||(i=Math.max(1,f/48|0));for(var m=o.subn(1),v=0;!m.testn(v);v++);for(var _=o.shrn(v),$=m.toRed(c),k=!0;i>0;i--){var S=this._randrange(new r(2),m);a&&a(S);var A=S.toRed(c).redPow(_);if(!(A.cmp(d)===0||A.cmp($)===0)){for(var R=1;R<v;R++){if(A=A.redSqr(),A.cmp(d)===0)return!1;if(A.cmp($)===0)break}if(R===v)return!1}}return k},t.prototype.getDivisor=function(o,i){var a=o.bitLength(),f=r.mont(o),c=new r(1).toRed(f);i||(i=Math.max(1,a/48|0));for(var d=o.subn(1),m=0;!d.testn(m);m++);for(var v=o.shrn(m),_=d.toRed(f);i>0;i--){var $=this._randrange(new r(2),d),k=o.gcd($);if(k.cmpn(1)!==0)return k;var S=$.toRed(f).redPow(v);if(!(S.cmp(c)===0||S.cmp(_)===0)){for(var A=1;A<m;A++){if(S=S.redSqr(),S.cmp(c)===0)return S.fromRed().subn(1).gcd(o);if(S.cmp(_)===0)break}if(A===m)return S=S.redSqr(),S.fromRed().subn(1).gcd(o)}}return!1},jd}var zd,jg;function p4(){if(jg)return zd;jg=1;var r=Is.exports;zd=A,A.simpleSieve=k,A.fermatTest=S;var e=Q1.exports,t=new e(24),n=d4(),o=new n,i=new e(1),a=new e(2),f=new e(5);new e(16),new e(8);var c=new e(10),d=new e(3);new e(7);var m=new e(11),v=new e(4);new e(12);var _=null;function $(){if(_!==null)return _;var R=1048576,C=[];C[0]=2;for(var T=1,B=3;B<R;B+=2){for(var L=Math.ceil(Math.sqrt(B)),j=0;j<T&&C[j]<=L&&B%C[j]!==0;j++);T!==j&&C[j]<=L||(C[T++]=B)}return _=C,C}function k(R){for(var C=$(),T=0;T<C.length;T++)if(R.modn(C[T])===0)return R.cmpn(C[T])===0;return!0}function S(R){var C=e.mont(R);return a.toRed(C).redPow(R.subn(1)).fromRed().cmpn(1)===0}function A(R,C){if(R<16)return C===2||C===5?new e([140,123]):new e([140,39]);C=new e(C);for(var T,B;;){for(T=new e(r(Math.ceil(R/8)));T.bitLength()>R;)T.ishrn(1);if(T.isEven()&&T.iadd(i),T.testn(1)||T.iadd(a),C.cmp(a)){if(!C.cmp(f))for(;T.mod(c).cmp(d);)T.iadd(v)}else for(;T.mod(t).cmp(m);)T.iadd(v);if(B=T.shrn(1),k(B)&&k(T)&&S(B)&&S(T)&&o.test(B)&&o.test(T))return T}}return zd}const YB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},JB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},XB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},QB={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},eR={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},tR={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},rR={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},nR={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},iR={modp1:YB,modp2:JB,modp5:XB,modp14:QB,modp15:eR,modp16:tR,modp17:rR,modp18:nR};var qd,zg;function oR(){if(zg)return qd;zg=1;var r=Q1.exports,e=d4(),t=new e,n=new r(24),o=new r(11),i=new r(10),a=new r(3),f=new r(7),c=p4(),d=Is.exports;qd=k;function m(A,R){return R=R||"utf8",Dt.Buffer.isBuffer(A)||(A=new Dt.Buffer(A,R)),this._pub=new r(A),this}function v(A,R){return R=R||"utf8",Dt.Buffer.isBuffer(A)||(A=new Dt.Buffer(A,R)),this._priv=new r(A),this}var _={};function $(A,R){var C=R.toString("hex"),T=[C,A.toString(16)].join("_");if(T in _)return _[T];var B=0;if(A.isEven()||!c.simpleSieve||!c.fermatTest(A)||!t.test(A))return B+=1,C==="02"||C==="05"?B+=8:B+=4,_[T]=B,B;t.test(A.shrn(1))||(B+=2);var L;switch(C){case"02":A.mod(n).cmp(o)&&(B+=8);break;case"05":L=A.mod(i),L.cmp(a)&&L.cmp(f)&&(B+=8);break;default:B+=4}return _[T]=B,B}function k(A,R,C){this.setGenerator(R),this.__prime=new r(A),this._prime=r.mont(this.__prime),this._primeLen=A.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,C?(this.setPublicKey=m,this.setPrivateKey=v):this._primeCode=8}Object.defineProperty(k.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=$(this.__prime,this.__gen)),this._primeCode}}),k.prototype.generateKeys=function(){return this._priv||(this._priv=new r(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},k.prototype.computeSecret=function(A){A=new r(A),A=A.toRed(this._prime);var R=A.redPow(this._priv).fromRed(),C=new Dt.Buffer(R.toArray()),T=this.getPrime();if(C.length<T.length){var B=new Dt.Buffer(T.length-C.length);B.fill(0),C=Dt.Buffer.concat([B,C])}return C},k.prototype.getPublicKey=function(R){return S(this._pub,R)},k.prototype.getPrivateKey=function(R){return S(this._priv,R)},k.prototype.getPrime=function(A){return S(this.__prime,A)},k.prototype.getGenerator=function(A){return S(this._gen,A)},k.prototype.setGenerator=function(A,R){return R=R||"utf8",Dt.Buffer.isBuffer(A)||(A=new Dt.Buffer(A,R)),this.__gen=A,this._gen=new r(A),this};function S(A,R){var C=new Dt.Buffer(A.toArray());return R?C.toString(R):C}return qd}var qg;function sR(){if(qg)return Qs;qg=1;var r=p4(),e=iR,t=oR();function n(a){var f=new Dt.Buffer(e[a].prime,"hex"),c=new Dt.Buffer(e[a].gen,"hex");return new t(f,c)}var o={binary:!0,hex:!0,base64:!0};function i(a,f,c,d){return Dt.Buffer.isBuffer(f)||o[f]===void 0?i(a,"binary",f,c):(f=f||"binary",d=d||"binary",c=c||new Dt.Buffer([2]),Dt.Buffer.isBuffer(c)||(c=new Dt.Buffer(c,d)),typeof a=="number"?new t(r(a,c),c,!0):(Dt.Buffer.isBuffer(a)||(a=new Dt.Buffer(a,f)),new t(a,c,!0)))}return Qs.DiffieHellmanGroup=Qs.createDiffieHellmanGroup=Qs.getDiffieHellman=n,Qs.createDiffieHellman=Qs.DiffieHellman=i,Qs}var Al={exports:{}},d0={exports:{}};(function(r){(function(e,t){function n(u,h){if(!u)throw new Error(h||"Assertion failed")}function o(u,h){u.super_=h;var p=function(){};p.prototype=h.prototype,u.prototype=new p,u.prototype.constructor=u}function i(u,h,p){if(i.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(u||0,h||10,p||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,p){return h.cmp(p)>0?h:p},i.min=function(h,p){return h.cmp(p)<0?h:p},i.prototype._init=function(h,p,g){if(typeof h=="number")return this._initNumber(h,p,g);if(typeof h=="object")return this._initArray(h,p,g);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var M=0;h[0]==="-"&&(M++,this.negative=1),M<h.length&&(p===16?this._parseHex(h,M,g):(this._parseBase(h,p,M),g==="le"&&this._initArray(this.toArray(),p,g)))},i.prototype._initNumber=function(h,p,g){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},i.prototype._initArray=function(h,p,g){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var x,y,l=0;if(g==="be")for(M=h.length-1,x=0;M>=0;M-=3)y=h[M]|h[M-1]<<8|h[M-2]<<16,this.words[x]|=y<<l&67108863,this.words[x+1]=y>>>26-l&67108863,l+=24,l>=26&&(l-=26,x++);else if(g==="le")for(M=0,x=0;M<h.length;M+=3)y=h[M]|h[M+1]<<8|h[M+2]<<16,this.words[x]|=y<<l&67108863,this.words[x+1]=y>>>26-l&67108863,l+=24,l>=26&&(l-=26,x++);return this._strip()};function f(u,h){var p=u.charCodeAt(h);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+u)}function c(u,h,p){var g=f(u,p);return p-1>=h&&(g|=f(u,p-1)<<4),g}i.prototype._parseHex=function(h,p,g){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var x=0,y=0,l;if(g==="be")for(M=h.length-1;M>=p;M-=2)l=c(h,p,M)<<x,this.words[y]|=l&67108863,x>=18?(x-=18,y+=1,this.words[y]|=l>>>26):x+=8;else{var b=h.length-p;for(M=b%2===0?p+1:p;M<h.length;M+=2)l=c(h,p,M)<<x,this.words[y]|=l&67108863,x>=18?(x-=18,y+=1,this.words[y]|=l>>>26):x+=8}this._strip()};function d(u,h,p,g){for(var M=0,x=0,y=Math.min(u.length,p),l=h;l<y;l++){var b=u.charCodeAt(l)-48;M*=g,b>=49?x=b-49+10:b>=17?x=b-17+10:x=b,n(b>=0&&x<g,"Invalid character"),M+=x}return M}i.prototype._parseBase=function(h,p,g){this.words=[0],this.length=1;for(var M=0,x=1;x<=67108863;x*=p)M++;M--,x=x/p|0;for(var y=h.length-g,l=y%M,b=Math.min(y,y-l)+g,E=0,P=g;P<b;P+=M)E=d(h,P,P+M,p),this.imuln(x),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(l!==0){var H=1;for(E=d(h,P,h.length,p),P=0;P<l;P++)H*=p;this.imuln(H),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red};function m(u,h){u.words=h.words,u.length=h.length,u.negative=h.negative,u.red=h.red}if(i.prototype._move=function(h){m(h,this)},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{i.prototype.inspect=v}else i.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,p){h=h||10,p=p|0||1;var g;if(h===16||h==="hex"){g="";for(var M=0,x=0,y=0;y<this.length;y++){var l=this.words[y],b=((l<<M|x)&16777215).toString(16);x=l>>>24-M&16777215,M+=2,M>=26&&(M-=26,y--),x!==0||y!==this.length-1?g=_[6-b.length]+b+g:g=b+g}for(x!==0&&(g=x.toString(16)+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(h===(h|0)&&h>=2&&h<=36){var E=$[h],P=k[h];g="";var H=this.clone();for(H.negative=0;!H.isZero();){var ee=H.modrn(P).toString(h);H=H.idivn(P),H.isZero()?g=ee+g:g=_[E-ee.length]+ee+g}for(this.isZero()&&(g="0"+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(h,p){return this.toArrayLike(a,h,p)}),i.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)};var S=function(h,p){return h.allocUnsafe?h.allocUnsafe(p):new h(p)};i.prototype.toArrayLike=function(h,p,g){this._strip();var M=this.byteLength(),x=g||Math.max(1,M);n(M<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var y=S(h,x),l=p==="le"?"LE":"BE";return this["_toArrayLike"+l](y,M),y},i.prototype._toArrayLikeLE=function(h,p){for(var g=0,M=0,x=0,y=0;x<this.length;x++){var l=this.words[x]<<y|M;h[g++]=l&255,g<h.length&&(h[g++]=l>>8&255),g<h.length&&(h[g++]=l>>16&255),y===6?(g<h.length&&(h[g++]=l>>24&255),M=0,y=0):(M=l>>>24,y+=2)}if(g<h.length)for(h[g++]=M;g<h.length;)h[g++]=0},i.prototype._toArrayLikeBE=function(h,p){for(var g=h.length-1,M=0,x=0,y=0;x<this.length;x++){var l=this.words[x]<<y|M;h[g--]=l&255,g>=0&&(h[g--]=l>>8&255),g>=0&&(h[g--]=l>>16&255),y===6?(g>=0&&(h[g--]=l>>24&255),M=0,y=0):(M=l>>>24,y+=2)}if(g>=0)for(h[g--]=M;g>=0;)h[g--]=0},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var p=h,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},i.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,g=0;return(p&8191)===0&&(g+=13,p>>>=13),(p&127)===0&&(g+=7,p>>>=7),(p&15)===0&&(g+=4,p>>>=4),(p&3)===0&&(g+=2,p>>>=2),(p&1)===0&&g++,g},i.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function A(u){for(var h=new Array(u.bitLength()),p=0;p<h.length;p++){var g=p/26|0,M=p%26;h[p]=u.words[g]>>>M&1}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(h+=g,g!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this._strip()},i.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&h.words[g];return this.length=p.length,this._strip()},i.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var p,g;this.length>h.length?(p=this,g=h):(p=h,g=this);for(var M=0;M<g.length;M++)this.words[M]=p.words[M]^g.words[M];if(this!==p)for(;M<p.length;M++)this.words[M]=p.words[M];return this.length=p.length,this._strip()},i.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,g=h%26;this._expand(p),g>0&&p--;for(var M=0;M<p;M++)this.words[M]=~this.words[M]&67108863;return g>0&&(this.words[M]=~this.words[M]&67108863>>26-g),this._strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,p){n(typeof h=="number"&&h>=0);var g=h/26|0,M=h%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<M:this.words[g]=this.words[g]&~(1<<M),this._strip()},i.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var g,M;this.length>h.length?(g=this,M=h):(g=h,M=this);for(var x=0,y=0;y<M.length;y++)p=(g.words[y]|0)+(M.words[y]|0)+x,this.words[y]=p&67108863,x=p>>>26;for(;x!==0&&y<g.length;y++)p=(g.words[y]|0)+x,this.words[y]=p&67108863,x=p>>>26;if(this.length=g.length,x!==0)this.words[this.length]=x,this.length++;else if(g!==this)for(;y<g.length;y++)this.words[y]=g.words[y];return this},i.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var g=this.cmp(h);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,x;g>0?(M=this,x=h):(M=h,x=this);for(var y=0,l=0;l<x.length;l++)p=(M.words[l]|0)-(x.words[l]|0)+y,y=p>>26,this.words[l]=p&67108863;for(;y!==0&&l<M.length;l++)p=(M.words[l]|0)+y,y=p>>26,this.words[l]=p&67108863;if(y===0&&l<M.length&&M!==this)for(;l<M.length;l++)this.words[l]=M.words[l];return this.length=Math.max(this.length,l),M!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function R(u,h,p){p.negative=h.negative^u.negative;var g=u.length+h.length|0;p.length=g,g=g-1|0;var M=u.words[0]|0,x=h.words[0]|0,y=M*x,l=y&67108863,b=y/67108864|0;p.words[0]=l;for(var E=1;E<g;E++){for(var P=b>>>26,H=b&67108863,ee=Math.min(E,h.length-1),Y=Math.max(0,E-u.length+1);Y<=ee;Y++){var re=E-Y|0;M=u.words[re]|0,x=h.words[Y]|0,y=M*x+H,P+=y/67108864|0,H=y&67108863}p.words[E]=H|0,b=P|0}return b!==0?p.words[E]=b|0:p.length--,p._strip()}var C=function(h,p,g){var M=h.words,x=p.words,y=g.words,l=0,b,E,P,H=M[0]|0,ee=H&8191,Y=H>>>13,re=M[1]|0,Me=re&8191,de=re>>>13,_e=M[2]|0,te=_e&8191,X=_e>>>13,ye=M[3]|0,Ge=ye&8191,Pe=ye>>>13,W=M[4]|0,U=W&8191,N=W>>>13,G=M[5]|0,ke=G&8191,ge=G>>>13,xe=M[6]|0,ot=xe&8191,Ie=xe>>>13,je=M[7]|0,ht=je&8191,De=je>>>13,ze=M[8]|0,xt=ze&8191,qe=ze>>>13,Ye=M[9]|0,St=Ye&8191,Ke=Ye>>>13,we=x[0]|0,nt=we&8191,Ne=we>>>13,Re=x[1]|0,ve=Re&8191,ie=Re>>>13,se=x[2]|0,Ee=se&8191,ce=se>>>13,be=x[3]|0,Qe=be&8191,Ae=be>>>13,Te=x[4]|0,it=Te&8191,Oe=Te>>>13,pe=x[5]|0,et=pe&8191,Ce=pe>>>13,He=x[6]|0,mt=He&8191,Ue=He>>>13,Ve=x[7]|0,bt=Ve&8191,$e=Ve>>>13,Se=x[8]|0,Et=Se&8191,Ze=Se>>>13,Je=x[9]|0,Pt=Je&8191,Bt=Je>>>13;g.negative=h.negative^p.negative,g.length=19,b=Math.imul(ee,nt),E=Math.imul(ee,Ne),E=E+Math.imul(Y,nt)|0,P=Math.imul(Y,Ne);var qt=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(qt>>>26)|0,qt&=67108863,b=Math.imul(Me,nt),E=Math.imul(Me,Ne),E=E+Math.imul(de,nt)|0,P=Math.imul(de,Ne),b=b+Math.imul(ee,ve)|0,E=E+Math.imul(ee,ie)|0,E=E+Math.imul(Y,ve)|0,P=P+Math.imul(Y,ie)|0;var hr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(hr>>>26)|0,hr&=67108863,b=Math.imul(te,nt),E=Math.imul(te,Ne),E=E+Math.imul(X,nt)|0,P=Math.imul(X,Ne),b=b+Math.imul(Me,ve)|0,E=E+Math.imul(Me,ie)|0,E=E+Math.imul(de,ve)|0,P=P+Math.imul(de,ie)|0,b=b+Math.imul(ee,Ee)|0,E=E+Math.imul(ee,ce)|0,E=E+Math.imul(Y,Ee)|0,P=P+Math.imul(Y,ce)|0;var Zt=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,b=Math.imul(Ge,nt),E=Math.imul(Ge,Ne),E=E+Math.imul(Pe,nt)|0,P=Math.imul(Pe,Ne),b=b+Math.imul(te,ve)|0,E=E+Math.imul(te,ie)|0,E=E+Math.imul(X,ve)|0,P=P+Math.imul(X,ie)|0,b=b+Math.imul(Me,Ee)|0,E=E+Math.imul(Me,ce)|0,E=E+Math.imul(de,Ee)|0,P=P+Math.imul(de,ce)|0,b=b+Math.imul(ee,Qe)|0,E=E+Math.imul(ee,Ae)|0,E=E+Math.imul(Y,Qe)|0,P=P+Math.imul(Y,Ae)|0;var dr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(dr>>>26)|0,dr&=67108863,b=Math.imul(U,nt),E=Math.imul(U,Ne),E=E+Math.imul(N,nt)|0,P=Math.imul(N,Ne),b=b+Math.imul(Ge,ve)|0,E=E+Math.imul(Ge,ie)|0,E=E+Math.imul(Pe,ve)|0,P=P+Math.imul(Pe,ie)|0,b=b+Math.imul(te,Ee)|0,E=E+Math.imul(te,ce)|0,E=E+Math.imul(X,Ee)|0,P=P+Math.imul(X,ce)|0,b=b+Math.imul(Me,Qe)|0,E=E+Math.imul(Me,Ae)|0,E=E+Math.imul(de,Qe)|0,P=P+Math.imul(de,Ae)|0,b=b+Math.imul(ee,it)|0,E=E+Math.imul(ee,Oe)|0,E=E+Math.imul(Y,it)|0,P=P+Math.imul(Y,Oe)|0;var wr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(wr>>>26)|0,wr&=67108863,b=Math.imul(ke,nt),E=Math.imul(ke,Ne),E=E+Math.imul(ge,nt)|0,P=Math.imul(ge,Ne),b=b+Math.imul(U,ve)|0,E=E+Math.imul(U,ie)|0,E=E+Math.imul(N,ve)|0,P=P+Math.imul(N,ie)|0,b=b+Math.imul(Ge,Ee)|0,E=E+Math.imul(Ge,ce)|0,E=E+Math.imul(Pe,Ee)|0,P=P+Math.imul(Pe,ce)|0,b=b+Math.imul(te,Qe)|0,E=E+Math.imul(te,Ae)|0,E=E+Math.imul(X,Qe)|0,P=P+Math.imul(X,Ae)|0,b=b+Math.imul(Me,it)|0,E=E+Math.imul(Me,Oe)|0,E=E+Math.imul(de,it)|0,P=P+Math.imul(de,Oe)|0,b=b+Math.imul(ee,et)|0,E=E+Math.imul(ee,Ce)|0,E=E+Math.imul(Y,et)|0,P=P+Math.imul(Y,Ce)|0;var Mr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,b=Math.imul(ot,nt),E=Math.imul(ot,Ne),E=E+Math.imul(Ie,nt)|0,P=Math.imul(Ie,Ne),b=b+Math.imul(ke,ve)|0,E=E+Math.imul(ke,ie)|0,E=E+Math.imul(ge,ve)|0,P=P+Math.imul(ge,ie)|0,b=b+Math.imul(U,Ee)|0,E=E+Math.imul(U,ce)|0,E=E+Math.imul(N,Ee)|0,P=P+Math.imul(N,ce)|0,b=b+Math.imul(Ge,Qe)|0,E=E+Math.imul(Ge,Ae)|0,E=E+Math.imul(Pe,Qe)|0,P=P+Math.imul(Pe,Ae)|0,b=b+Math.imul(te,it)|0,E=E+Math.imul(te,Oe)|0,E=E+Math.imul(X,it)|0,P=P+Math.imul(X,Oe)|0,b=b+Math.imul(Me,et)|0,E=E+Math.imul(Me,Ce)|0,E=E+Math.imul(de,et)|0,P=P+Math.imul(de,Ce)|0,b=b+Math.imul(ee,mt)|0,E=E+Math.imul(ee,Ue)|0,E=E+Math.imul(Y,mt)|0,P=P+Math.imul(Y,Ue)|0;var sr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(sr>>>26)|0,sr&=67108863,b=Math.imul(ht,nt),E=Math.imul(ht,Ne),E=E+Math.imul(De,nt)|0,P=Math.imul(De,Ne),b=b+Math.imul(ot,ve)|0,E=E+Math.imul(ot,ie)|0,E=E+Math.imul(Ie,ve)|0,P=P+Math.imul(Ie,ie)|0,b=b+Math.imul(ke,Ee)|0,E=E+Math.imul(ke,ce)|0,E=E+Math.imul(ge,Ee)|0,P=P+Math.imul(ge,ce)|0,b=b+Math.imul(U,Qe)|0,E=E+Math.imul(U,Ae)|0,E=E+Math.imul(N,Qe)|0,P=P+Math.imul(N,Ae)|0,b=b+Math.imul(Ge,it)|0,E=E+Math.imul(Ge,Oe)|0,E=E+Math.imul(Pe,it)|0,P=P+Math.imul(Pe,Oe)|0,b=b+Math.imul(te,et)|0,E=E+Math.imul(te,Ce)|0,E=E+Math.imul(X,et)|0,P=P+Math.imul(X,Ce)|0,b=b+Math.imul(Me,mt)|0,E=E+Math.imul(Me,Ue)|0,E=E+Math.imul(de,mt)|0,P=P+Math.imul(de,Ue)|0,b=b+Math.imul(ee,bt)|0,E=E+Math.imul(ee,$e)|0,E=E+Math.imul(Y,bt)|0,P=P+Math.imul(Y,$e)|0;var $r=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+($r>>>26)|0,$r&=67108863,b=Math.imul(xt,nt),E=Math.imul(xt,Ne),E=E+Math.imul(qe,nt)|0,P=Math.imul(qe,Ne),b=b+Math.imul(ht,ve)|0,E=E+Math.imul(ht,ie)|0,E=E+Math.imul(De,ve)|0,P=P+Math.imul(De,ie)|0,b=b+Math.imul(ot,Ee)|0,E=E+Math.imul(ot,ce)|0,E=E+Math.imul(Ie,Ee)|0,P=P+Math.imul(Ie,ce)|0,b=b+Math.imul(ke,Qe)|0,E=E+Math.imul(ke,Ae)|0,E=E+Math.imul(ge,Qe)|0,P=P+Math.imul(ge,Ae)|0,b=b+Math.imul(U,it)|0,E=E+Math.imul(U,Oe)|0,E=E+Math.imul(N,it)|0,P=P+Math.imul(N,Oe)|0,b=b+Math.imul(Ge,et)|0,E=E+Math.imul(Ge,Ce)|0,E=E+Math.imul(Pe,et)|0,P=P+Math.imul(Pe,Ce)|0,b=b+Math.imul(te,mt)|0,E=E+Math.imul(te,Ue)|0,E=E+Math.imul(X,mt)|0,P=P+Math.imul(X,Ue)|0,b=b+Math.imul(Me,bt)|0,E=E+Math.imul(Me,$e)|0,E=E+Math.imul(de,bt)|0,P=P+Math.imul(de,$e)|0,b=b+Math.imul(ee,Et)|0,E=E+Math.imul(ee,Ze)|0,E=E+Math.imul(Y,Et)|0,P=P+Math.imul(Y,Ze)|0;var xr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(xr>>>26)|0,xr&=67108863,b=Math.imul(St,nt),E=Math.imul(St,Ne),E=E+Math.imul(Ke,nt)|0,P=Math.imul(Ke,Ne),b=b+Math.imul(xt,ve)|0,E=E+Math.imul(xt,ie)|0,E=E+Math.imul(qe,ve)|0,P=P+Math.imul(qe,ie)|0,b=b+Math.imul(ht,Ee)|0,E=E+Math.imul(ht,ce)|0,E=E+Math.imul(De,Ee)|0,P=P+Math.imul(De,ce)|0,b=b+Math.imul(ot,Qe)|0,E=E+Math.imul(ot,Ae)|0,E=E+Math.imul(Ie,Qe)|0,P=P+Math.imul(Ie,Ae)|0,b=b+Math.imul(ke,it)|0,E=E+Math.imul(ke,Oe)|0,E=E+Math.imul(ge,it)|0,P=P+Math.imul(ge,Oe)|0,b=b+Math.imul(U,et)|0,E=E+Math.imul(U,Ce)|0,E=E+Math.imul(N,et)|0,P=P+Math.imul(N,Ce)|0,b=b+Math.imul(Ge,mt)|0,E=E+Math.imul(Ge,Ue)|0,E=E+Math.imul(Pe,mt)|0,P=P+Math.imul(Pe,Ue)|0,b=b+Math.imul(te,bt)|0,E=E+Math.imul(te,$e)|0,E=E+Math.imul(X,bt)|0,P=P+Math.imul(X,$e)|0,b=b+Math.imul(Me,Et)|0,E=E+Math.imul(Me,Ze)|0,E=E+Math.imul(de,Et)|0,P=P+Math.imul(de,Ze)|0,b=b+Math.imul(ee,Pt)|0,E=E+Math.imul(ee,Bt)|0,E=E+Math.imul(Y,Pt)|0,P=P+Math.imul(Y,Bt)|0;var rr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(rr>>>26)|0,rr&=67108863,b=Math.imul(St,ve),E=Math.imul(St,ie),E=E+Math.imul(Ke,ve)|0,P=Math.imul(Ke,ie),b=b+Math.imul(xt,Ee)|0,E=E+Math.imul(xt,ce)|0,E=E+Math.imul(qe,Ee)|0,P=P+Math.imul(qe,ce)|0,b=b+Math.imul(ht,Qe)|0,E=E+Math.imul(ht,Ae)|0,E=E+Math.imul(De,Qe)|0,P=P+Math.imul(De,Ae)|0,b=b+Math.imul(ot,it)|0,E=E+Math.imul(ot,Oe)|0,E=E+Math.imul(Ie,it)|0,P=P+Math.imul(Ie,Oe)|0,b=b+Math.imul(ke,et)|0,E=E+Math.imul(ke,Ce)|0,E=E+Math.imul(ge,et)|0,P=P+Math.imul(ge,Ce)|0,b=b+Math.imul(U,mt)|0,E=E+Math.imul(U,Ue)|0,E=E+Math.imul(N,mt)|0,P=P+Math.imul(N,Ue)|0,b=b+Math.imul(Ge,bt)|0,E=E+Math.imul(Ge,$e)|0,E=E+Math.imul(Pe,bt)|0,P=P+Math.imul(Pe,$e)|0,b=b+Math.imul(te,Et)|0,E=E+Math.imul(te,Ze)|0,E=E+Math.imul(X,Et)|0,P=P+Math.imul(X,Ze)|0,b=b+Math.imul(Me,Pt)|0,E=E+Math.imul(Me,Bt)|0,E=E+Math.imul(de,Pt)|0,P=P+Math.imul(de,Bt)|0;var pr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(pr>>>26)|0,pr&=67108863,b=Math.imul(St,Ee),E=Math.imul(St,ce),E=E+Math.imul(Ke,Ee)|0,P=Math.imul(Ke,ce),b=b+Math.imul(xt,Qe)|0,E=E+Math.imul(xt,Ae)|0,E=E+Math.imul(qe,Qe)|0,P=P+Math.imul(qe,Ae)|0,b=b+Math.imul(ht,it)|0,E=E+Math.imul(ht,Oe)|0,E=E+Math.imul(De,it)|0,P=P+Math.imul(De,Oe)|0,b=b+Math.imul(ot,et)|0,E=E+Math.imul(ot,Ce)|0,E=E+Math.imul(Ie,et)|0,P=P+Math.imul(Ie,Ce)|0,b=b+Math.imul(ke,mt)|0,E=E+Math.imul(ke,Ue)|0,E=E+Math.imul(ge,mt)|0,P=P+Math.imul(ge,Ue)|0,b=b+Math.imul(U,bt)|0,E=E+Math.imul(U,$e)|0,E=E+Math.imul(N,bt)|0,P=P+Math.imul(N,$e)|0,b=b+Math.imul(Ge,Et)|0,E=E+Math.imul(Ge,Ze)|0,E=E+Math.imul(Pe,Et)|0,P=P+Math.imul(Pe,Ze)|0,b=b+Math.imul(te,Pt)|0,E=E+Math.imul(te,Bt)|0,E=E+Math.imul(X,Pt)|0,P=P+Math.imul(X,Bt)|0;var or=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(or>>>26)|0,or&=67108863,b=Math.imul(St,Qe),E=Math.imul(St,Ae),E=E+Math.imul(Ke,Qe)|0,P=Math.imul(Ke,Ae),b=b+Math.imul(xt,it)|0,E=E+Math.imul(xt,Oe)|0,E=E+Math.imul(qe,it)|0,P=P+Math.imul(qe,Oe)|0,b=b+Math.imul(ht,et)|0,E=E+Math.imul(ht,Ce)|0,E=E+Math.imul(De,et)|0,P=P+Math.imul(De,Ce)|0,b=b+Math.imul(ot,mt)|0,E=E+Math.imul(ot,Ue)|0,E=E+Math.imul(Ie,mt)|0,P=P+Math.imul(Ie,Ue)|0,b=b+Math.imul(ke,bt)|0,E=E+Math.imul(ke,$e)|0,E=E+Math.imul(ge,bt)|0,P=P+Math.imul(ge,$e)|0,b=b+Math.imul(U,Et)|0,E=E+Math.imul(U,Ze)|0,E=E+Math.imul(N,Et)|0,P=P+Math.imul(N,Ze)|0,b=b+Math.imul(Ge,Pt)|0,E=E+Math.imul(Ge,Bt)|0,E=E+Math.imul(Pe,Pt)|0,P=P+Math.imul(Pe,Bt)|0;var mr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(mr>>>26)|0,mr&=67108863,b=Math.imul(St,it),E=Math.imul(St,Oe),E=E+Math.imul(Ke,it)|0,P=Math.imul(Ke,Oe),b=b+Math.imul(xt,et)|0,E=E+Math.imul(xt,Ce)|0,E=E+Math.imul(qe,et)|0,P=P+Math.imul(qe,Ce)|0,b=b+Math.imul(ht,mt)|0,E=E+Math.imul(ht,Ue)|0,E=E+Math.imul(De,mt)|0,P=P+Math.imul(De,Ue)|0,b=b+Math.imul(ot,bt)|0,E=E+Math.imul(ot,$e)|0,E=E+Math.imul(Ie,bt)|0,P=P+Math.imul(Ie,$e)|0,b=b+Math.imul(ke,Et)|0,E=E+Math.imul(ke,Ze)|0,E=E+Math.imul(ge,Et)|0,P=P+Math.imul(ge,Ze)|0,b=b+Math.imul(U,Pt)|0,E=E+Math.imul(U,Bt)|0,E=E+Math.imul(N,Pt)|0,P=P+Math.imul(N,Bt)|0;var vr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(vr>>>26)|0,vr&=67108863,b=Math.imul(St,et),E=Math.imul(St,Ce),E=E+Math.imul(Ke,et)|0,P=Math.imul(Ke,Ce),b=b+Math.imul(xt,mt)|0,E=E+Math.imul(xt,Ue)|0,E=E+Math.imul(qe,mt)|0,P=P+Math.imul(qe,Ue)|0,b=b+Math.imul(ht,bt)|0,E=E+Math.imul(ht,$e)|0,E=E+Math.imul(De,bt)|0,P=P+Math.imul(De,$e)|0,b=b+Math.imul(ot,Et)|0,E=E+Math.imul(ot,Ze)|0,E=E+Math.imul(Ie,Et)|0,P=P+Math.imul(Ie,Ze)|0,b=b+Math.imul(ke,Pt)|0,E=E+Math.imul(ke,Bt)|0,E=E+Math.imul(ge,Pt)|0,P=P+Math.imul(ge,Bt)|0;var kr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(kr>>>26)|0,kr&=67108863,b=Math.imul(St,mt),E=Math.imul(St,Ue),E=E+Math.imul(Ke,mt)|0,P=Math.imul(Ke,Ue),b=b+Math.imul(xt,bt)|0,E=E+Math.imul(xt,$e)|0,E=E+Math.imul(qe,bt)|0,P=P+Math.imul(qe,$e)|0,b=b+Math.imul(ht,Et)|0,E=E+Math.imul(ht,Ze)|0,E=E+Math.imul(De,Et)|0,P=P+Math.imul(De,Ze)|0,b=b+Math.imul(ot,Pt)|0,E=E+Math.imul(ot,Bt)|0,E=E+Math.imul(Ie,Pt)|0,P=P+Math.imul(Ie,Bt)|0;var gr=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(gr>>>26)|0,gr&=67108863,b=Math.imul(St,bt),E=Math.imul(St,$e),E=E+Math.imul(Ke,bt)|0,P=Math.imul(Ke,$e),b=b+Math.imul(xt,Et)|0,E=E+Math.imul(xt,Ze)|0,E=E+Math.imul(qe,Et)|0,P=P+Math.imul(qe,Ze)|0,b=b+Math.imul(ht,Pt)|0,E=E+Math.imul(ht,Bt)|0,E=E+Math.imul(De,Pt)|0,P=P+Math.imul(De,Bt)|0;var ar=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(St,Et),E=Math.imul(St,Ze),E=E+Math.imul(Ke,Et)|0,P=Math.imul(Ke,Ze),b=b+Math.imul(xt,Pt)|0,E=E+Math.imul(xt,Bt)|0,E=E+Math.imul(qe,Pt)|0,P=P+Math.imul(qe,Bt)|0;var Hi=(l+b|0)+((E&8191)<<13)|0;l=(P+(E>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,b=Math.imul(St,Pt),E=Math.imul(St,Bt),E=E+Math.imul(Ke,Pt)|0,P=Math.imul(Ke,Bt);var hi=(l+b|0)+((E&8191)<<13)|0;return l=(P+(E>>>13)|0)+(hi>>>26)|0,hi&=67108863,y[0]=qt,y[1]=hr,y[2]=Zt,y[3]=dr,y[4]=wr,y[5]=Mr,y[6]=sr,y[7]=$r,y[8]=xr,y[9]=rr,y[10]=pr,y[11]=or,y[12]=mr,y[13]=vr,y[14]=kr,y[15]=gr,y[16]=ar,y[17]=Hi,y[18]=hi,l!==0&&(y[19]=l,g.length++),g};Math.imul||(C=R);function T(u,h,p){p.negative=h.negative^u.negative,p.length=u.length+h.length;for(var g=0,M=0,x=0;x<p.length-1;x++){var y=M;M=0;for(var l=g&67108863,b=Math.min(x,h.length-1),E=Math.max(0,x-u.length+1);E<=b;E++){var P=x-E,H=u.words[P]|0,ee=h.words[E]|0,Y=H*ee,re=Y&67108863;y=y+(Y/67108864|0)|0,re=re+l|0,l=re&67108863,y=y+(re>>>26)|0,M+=y>>>26,y&=67108863}p.words[x]=l,g=y,y=M}return g!==0?p.words[x]=g:p.length--,p._strip()}function B(u,h,p){return T(u,h,p)}i.prototype.mulTo=function(h,p){var g,M=this.length+h.length;return this.length===10&&h.length===10?g=C(this,h,p):M<63?g=R(this,h,p):M<1024?g=T(this,h,p):g=B(this,h,p),g},i.prototype.mul=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},i.prototype.mulf=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),B(this,h,p)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){var p=h<0;p&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var g=0,M=0;M<this.length;M++){var x=(this.words[M]|0)*h,y=(x&67108863)+(g&67108863);g>>=26,g+=x/67108864|0,g+=y>>>26,this.words[M]=y&67108863}return g!==0&&(this.words[M]=g,this.length++),p?this.ineg():this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var p=A(h);if(p.length===0)return new i(1);for(var g=this,M=0;M<p.length&&p[M]===0;M++,g=g.sqr());if(++M<p.length)for(var x=g.sqr();M<p.length;M++,x=x.sqr())p[M]!==0&&(g=g.mul(x));return g},i.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26,M=67108863>>>26-p<<26-p,x;if(p!==0){var y=0;for(x=0;x<this.length;x++){var l=this.words[x]&M,b=(this.words[x]|0)-l<<p;this.words[x]=b|y,y=l>>>26-p}y&&(this.words[x]=y,this.length++)}if(g!==0){for(x=this.length-1;x>=0;x--)this.words[x+g]=this.words[x];for(x=0;x<g;x++)this.words[x]=0;this.length+=g}return this._strip()},i.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,p,g){n(typeof h=="number"&&h>=0);var M;p?M=(p-p%26)/26:M=0;var x=h%26,y=Math.min((h-x)/26,this.length),l=67108863^67108863>>>x<<x,b=g;if(M-=y,M=Math.max(0,M),b){for(var E=0;E<y;E++)b.words[E]=this.words[E];b.length=y}if(y!==0)if(this.length>y)for(this.length-=y,E=0;E<this.length;E++)this.words[E]=this.words[E+y];else this.words[0]=0,this.length=1;var P=0;for(E=this.length-1;E>=0&&(P!==0||E>=M);E--){var H=this.words[E]|0;this.words[E]=P<<26-x|H>>>x,P=H&l}return b&&P!==0&&(b.words[b.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(h,p,g){return n(this.negative===0),this.iushrn(h,p,g)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26,M=1<<p;if(this.length<=g)return!1;var x=this.words[g];return!!(x&M)},i.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var p=h%26,g=(h-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var M=67108863^67108863>>>p<<p;this.words[this.length-1]&=M}return this._strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,p,g){var M=h.length+g,x;this._expand(M);var y,l=0;for(x=0;x<h.length;x++){y=(this.words[x+g]|0)+l;var b=(h.words[x]|0)*p;y-=b&67108863,l=(y>>26)-(b/67108864|0),this.words[x+g]=y&67108863}for(;x<this.length-g;x++)y=(this.words[x+g]|0)+l,l=y>>26,this.words[x+g]=y&67108863;if(l===0)return this._strip();for(n(l===-1),l=0,x=0;x<this.length;x++)y=-(this.words[x]|0)+l,l=y>>26,this.words[x]=y&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(h,p){var g=this.length-h.length,M=this.clone(),x=h,y=x.words[x.length-1]|0,l=this._countBits(y);g=26-l,g!==0&&(x=x.ushln(g),M.iushln(g),y=x.words[x.length-1]|0);var b=M.length-x.length,E;if(p!=="mod"){E=new i(null),E.length=b+1,E.words=new Array(E.length);for(var P=0;P<E.length;P++)E.words[P]=0}var H=M.clone()._ishlnsubmul(x,1,b);H.negative===0&&(M=H,E&&(E.words[b]=1));for(var ee=b-1;ee>=0;ee--){var Y=(M.words[x.length+ee]|0)*67108864+(M.words[x.length+ee-1]|0);for(Y=Math.min(Y/y|0,67108863),M._ishlnsubmul(x,Y,ee);M.negative!==0;)Y--,M.negative=0,M._ishlnsubmul(x,1,ee),M.isZero()||(M.negative^=1);E&&(E.words[ee]=Y)}return E&&E._strip(),M._strip(),p!=="div"&&g!==0&&M.iushrn(g),{div:E||null,mod:M}},i.prototype.divmod=function(h,p,g){if(n(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var M,x,y;return this.negative!==0&&h.negative===0?(y=this.neg().divmod(h,p),p!=="mod"&&(M=y.div.neg()),p!=="div"&&(x=y.mod.neg(),g&&x.negative!==0&&x.iadd(h)),{div:M,mod:x}):this.negative===0&&h.negative!==0?(y=this.divmod(h.neg(),p),p!=="mod"&&(M=y.div.neg()),{div:M,mod:y.mod}):(this.negative&h.negative)!==0?(y=this.neg().divmod(h.neg(),p),p!=="div"&&(x=y.mod.neg(),g&&x.negative!==0&&x.isub(h)),{div:y.div,mod:x}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modrn(h.words[0]))}:this._wordDiv(h,p)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(h):p.mod,M=h.ushrn(1),x=h.andln(1),y=g.cmp(M);return y<0||x===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modrn=function(h){var p=h<0;p&&(h=-h),n(h<=67108863);for(var g=(1<<26)%h,M=0,x=this.length-1;x>=0;x--)M=(g*M+(this.words[x]|0))%h;return p?-M:M},i.prototype.modn=function(h){return this.modrn(h)},i.prototype.idivn=function(h){var p=h<0;p&&(h=-h),n(h<=67108863);for(var g=0,M=this.length-1;M>=0;M--){var x=(this.words[M]|0)+g*67108864;this.words[M]=x/h|0,g=x%h}return this._strip(),p?this.ineg():this},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var p=this,g=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var M=new i(1),x=new i(0),y=new i(0),l=new i(1),b=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++b;for(var E=g.clone(),P=p.clone();!p.isZero();){for(var H=0,ee=1;(p.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(E),x.isub(P)),M.iushrn(1),x.iushrn(1);for(var Y=0,re=1;(g.words[0]&re)===0&&Y<26;++Y,re<<=1);if(Y>0)for(g.iushrn(Y);Y-- >0;)(y.isOdd()||l.isOdd())&&(y.iadd(E),l.isub(P)),y.iushrn(1),l.iushrn(1);p.cmp(g)>=0?(p.isub(g),M.isub(y),x.isub(l)):(g.isub(p),y.isub(M),l.isub(x))}return{a:y,b:l,gcd:g.iushln(b)}},i.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var p=this,g=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var M=new i(1),x=new i(0),y=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var l=0,b=1;(p.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(p.iushrn(l);l-- >0;)M.isOdd()&&M.iadd(y),M.iushrn(1);for(var E=0,P=1;(g.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(g.iushrn(E);E-- >0;)x.isOdd()&&x.iadd(y),x.iushrn(1);p.cmp(g)>=0?(p.isub(g),M.isub(x)):(g.isub(p),x.isub(M))}var H;return p.cmpn(1)===0?H=M:H=x,H.cmpn(0)<0&&H.iadd(h),H},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),g=h.clone();p.negative=0,g.negative=0;for(var M=0;p.isEven()&&g.isEven();M++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var x=p.cmp(g);if(x<0){var y=p;p=g,g=y}else if(x===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(M)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){n(typeof h=="number");var p=h%26,g=(h-p)/26,M=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=M,this;for(var x=M,y=g;x!==0&&y<this.length;y++){var l=this.words[y]|0;l+=x,x=l>>>26,l&=67108863,this.words[y]=l}return x!==0&&(this.words[y]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var g;if(this.length>1)g=1;else{p&&(h=-h),n(h<=67108863,"Number is too big");var M=this.words[0]|0;g=M===h?0:M<h?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var M=this.words[g]|0,x=h.words[g]|0;if(M!==x){M<x?p=-1:M>x&&(p=1);break}}return p},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new w(h)},i.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var L={k256:null,p224:null,p192:null,p25519:null};function j(u,h){this.name=u,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},j.prototype.ireduce=function(h){var p=h,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var M=g<this.n?-1:p.ucmp(this.p);return M===0?(p.words[0]=0,p.length=1):M>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(h,p){h.iushrn(this.n,0,p)},j.prototype.imulK=function(h){return h.imul(this.k)};function V(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(V,j),V.prototype.split=function(h,p){for(var g=4194303,M=Math.min(h.length,9),x=0;x<M;x++)p.words[x]=h.words[x];if(p.length=M,h.length<=9){h.words[0]=0,h.length=1;return}var y=h.words[9];for(p.words[p.length++]=y&g,x=10;x<h.length;x++){var l=h.words[x]|0;h.words[x-10]=(l&g)<<4|y>>>22,y=l}y>>>=22,h.words[x-10]=y,y===0&&h.length>10?h.length-=10:h.length-=9},V.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,g=0;g<h.length;g++){var M=h.words[g]|0;p+=M*977,h.words[g]=p&67108863,p=M*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function Z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Z,j);function Q(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Q,j);function ne(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ne,j),ne.prototype.imulK=function(h){for(var p=0,g=0;g<h.length;g++){var M=(h.words[g]|0)*19+p,x=M&67108863;M>>>=26,h.words[g]=x,p=M}return p!==0&&(h.words[h.length++]=p),h},i._prime=function(h){if(L[h])return L[h];var p;if(h==="k256")p=new V;else if(h==="p224")p=new Z;else if(h==="p192")p=new Q;else if(h==="p25519")p=new ne;else throw new Error("Unknown prime "+h);return L[h]=p,p};function w(u){if(typeof u=="string"){var h=i._prime(u);this.m=h.p,this.prime=h}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}w.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},w.prototype._verify2=function(h,p){n((h.negative|p.negative)===0,"red works only with positives"),n(h.red&&h.red===p.red,"red works only with red numbers")},w.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(m(h,h.umod(this.m)._forceRed(this)),h)},w.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},w.prototype.add=function(h,p){this._verify2(h,p);var g=h.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},w.prototype.iadd=function(h,p){this._verify2(h,p);var g=h.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},w.prototype.sub=function(h,p){this._verify2(h,p);var g=h.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},w.prototype.isub=function(h,p){this._verify2(h,p);var g=h.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},w.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},w.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},w.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},w.prototype.isqr=function(h){return this.imul(h,h.clone())},w.prototype.sqr=function(h){return this.mul(h,h)},w.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(h,g)}for(var M=this.m.subn(1),x=0;!M.isZero()&&M.andln(1)===0;)x++,M.iushrn(1);n(!M.isZero());var y=new i(1).toRed(this),l=y.redNeg(),b=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new i(2*E*E).toRed(this);this.pow(E,b).cmp(l)!==0;)E.redIAdd(l);for(var P=this.pow(E,M),H=this.pow(h,M.addn(1).iushrn(1)),ee=this.pow(h,M),Y=x;ee.cmp(y)!==0;){for(var re=ee,Me=0;re.cmp(y)!==0;Me++)re=re.redSqr();n(Me<Y);var de=this.pow(P,new i(1).iushln(Y-Me-1));H=H.redMul(de),P=de.redSqr(),ee=ee.redMul(P),Y=Me}return H},w.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},w.prototype.pow=function(h,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var g=4,M=new Array(1<<g);M[0]=new i(1).toRed(this),M[1]=h;for(var x=2;x<M.length;x++)M[x]=this.mul(M[x-1],h);var y=M[0],l=0,b=0,E=p.bitLength()%26;for(E===0&&(E=26),x=p.length-1;x>=0;x--){for(var P=p.words[x],H=E-1;H>=0;H--){var ee=P>>H&1;if(y!==M[0]&&(y=this.sqr(y)),ee===0&&l===0){b=0;continue}l<<=1,l|=ee,b++,!(b!==g&&(x!==0||H!==0))&&(y=this.mul(y,M[l]),b=0,l=0)}E=26}return y},w.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},w.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},i.mont=function(h){return new s(h)};function s(u){w.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(s,w),s.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},s.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},s.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var g=h.imul(p),M=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=g.isub(M).iushrn(this.shift),y=x;return x.cmp(this.m)>=0?y=x.isub(this.m):x.cmpn(0)<0&&(y=x.iadd(this.m)),y._forceRed(this)},s.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new i(0)._forceRed(this);var g=h.mul(p),M=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=g.isub(M).iushrn(this.shift),y=x;return x.cmp(this.m)>=0?y=x.isub(this.m):x.cmpn(0)<0&&(y=x.iadd(this.m)),y._forceRed(this)},s.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,Jt)})(d0);var sf=d0.exports,aR=Is.exports;function fR(r){var e=m4(r),t=e.toRed(sf.mont(r.modulus)).redPow(new sf(r.publicExponent)).fromRed();return{blinder:t,unblinder:e.invm(r.modulus)}}function m4(r){var e=r.modulus.byteLength(),t;do t=new sf(aR(e));while(t.cmp(r.modulus)>=0||!t.umod(r.prime1)||!t.umod(r.prime2));return t}function v4(r,e){var t=fR(e),n=e.modulus.byteLength(),o=new sf(r).mul(t.blinder).umod(e.modulus),i=o.toRed(sf.mont(e.prime1)),a=o.toRed(sf.mont(e.prime2)),f=e.coefficient,c=e.prime1,d=e.prime2,m=i.redPow(e.exponent1).fromRed(),v=a.redPow(e.exponent2).fromRed(),_=m.isub(v).imul(f).umod(c).imul(d);return v.iadd(_).imul(t.unblinder).umod(e.modulus).toArrayLike(Dt.Buffer,"be",n)}v4.getr=m4;var tm=v4,Kd={};const lR="elliptic",uR="6.5.4",cR="EC cryptography",hR="lib/elliptic.js",dR=["lib"],pR={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},mR={type:"git",url:"git@github.com:indutny/elliptic"},vR=["EC","Elliptic","curve","Cryptography"],gR="Fedor Indutny <fedor@indutny.com>",yR="MIT",bR={url:"https://github.com/indutny/elliptic/issues"},_R="https://github.com/indutny/elliptic",wR={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},MR={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},$R={name:lR,version:uR,description:cR,main:hR,files:dR,scripts:pR,repository:mR,keywords:vR,author:gR,license:yR,bugs:bR,homepage:_R,devDependencies:wR,dependencies:MR};var li={},To={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(To);var rm={};(function(r){var e=r;function t(i,a){if(Array.isArray(i))return i.slice();if(!i)return[];var f=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)f[c]=i[c]|0;return f}if(a==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)f.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var d=i.charCodeAt(c),m=d>>8,v=d&255;m?f.push(m,v):f.push(v)}return f}e.toArray=t;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var a="",f=0;f<i.length;f++)a+=n(i[f].toString(16));return a}e.toHex=o,e.encode=function(a,f){return f==="hex"?o(a):a}})(rm);(function(r){var e=r,t=To.exports,n=Oi,o=rm;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(m,v,_){var $=new Array(Math.max(m.bitLength(),_)+1);$.fill(0);for(var k=1<<v+1,S=m.clone(),A=0;A<$.length;A++){var R,C=S.andln(k-1);S.isOdd()?(C>(k>>1)-1?R=(k>>1)-C:R=C,S.isubn(R)):R=0,$[A]=R,S.iushrn(1)}return $}e.getNAF=i;function a(m,v){var _=[[],[]];m=m.clone(),v=v.clone();for(var $=0,k=0,S;m.cmpn(-$)>0||v.cmpn(-k)>0;){var A=m.andln(3)+$&3,R=v.andln(3)+k&3;A===3&&(A=-1),R===3&&(R=-1);var C;(A&1)===0?C=0:(S=m.andln(7)+$&7,(S===3||S===5)&&R===2?C=-A:C=A),_[0].push(C);var T;(R&1)===0?T=0:(S=v.andln(7)+k&7,(S===3||S===5)&&A===2?T=-R:T=R),_[1].push(T),2*$===C+1&&($=1-$),2*k===T+1&&(k=1-k),m.iushrn(1),v.iushrn(1)}return _}e.getJSF=a;function f(m,v,_){var $="_"+v;m.prototype[v]=function(){return this[$]!==void 0?this[$]:this[$]=_.call(this)}}e.cachedProperty=f;function c(m){return typeof m=="string"?e.toArray(m,"hex"):m}e.parseBytes=c;function d(m){return new t(m,"hex","le")}e.intFromLE=d})(li);var nm={},ea=To.exports,Tu=li,ph=Tu.getNAF,xR=Tu.getJSF,mh=Tu.assert;function Ks(r,e){this.type=r,this.p=new ea(e.p,16),this.red=e.prime?ea.red(e.prime):ea.mont(this.p),this.zero=new ea(0).toRed(this.red),this.one=new ea(1).toRed(this.red),this.two=new ea(2).toRed(this.red),this.n=e.n&&new ea(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var p0=Ks;Ks.prototype.point=function(){throw new Error("Not implemented")};Ks.prototype.validate=function(){throw new Error("Not implemented")};Ks.prototype._fixedNafMul=function(e,t){mh(e.precomputed);var n=e._getDoubles(),o=ph(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],f,c;for(f=0;f<o.length;f+=n.step){c=0;for(var d=f+n.step-1;d>=f;d--)c=(c<<1)+o[d];a.push(c)}for(var m=this.jpoint(null,null,null),v=this.jpoint(null,null,null),_=i;_>0;_--){for(f=0;f<a.length;f++)c=a[f],c===_?v=v.mixedAdd(n.points[f]):c===-_&&(v=v.mixedAdd(n.points[f].neg()));m=m.add(v)}return m.toP()};Ks.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,a=ph(t,n,this._bitLength),f=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var d=0;c>=0&&a[c]===0;c--)d++;if(c>=0&&d++,f=f.dblp(d),c<0)break;var m=a[c];mh(m!==0),e.type==="affine"?m>0?f=f.mixedAdd(i[m-1>>1]):f=f.mixedAdd(i[-m-1>>1].neg()):m>0?f=f.add(i[m-1>>1]):f=f.add(i[-m-1>>1].neg())}return e.type==="affine"?f.toP():f};Ks.prototype._wnafMulAdd=function(e,t,n,o,i){var a=this._wnafT1,f=this._wnafT2,c=this._wnafT3,d=0,m,v,_;for(m=0;m<o;m++){_=t[m];var $=_._getNAFPoints(e);a[m]=$.wnd,f[m]=$.points}for(m=o-1;m>=1;m-=2){var k=m-1,S=m;if(a[k]!==1||a[S]!==1){c[k]=ph(n[k],a[k],this._bitLength),c[S]=ph(n[S],a[S],this._bitLength),d=Math.max(c[k].length,d),d=Math.max(c[S].length,d);continue}var A=[t[k],null,null,t[S]];t[k].y.cmp(t[S].y)===0?(A[1]=t[k].add(t[S]),A[2]=t[k].toJ().mixedAdd(t[S].neg())):t[k].y.cmp(t[S].y.redNeg())===0?(A[1]=t[k].toJ().mixedAdd(t[S]),A[2]=t[k].add(t[S].neg())):(A[1]=t[k].toJ().mixedAdd(t[S]),A[2]=t[k].toJ().mixedAdd(t[S].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],C=xR(n[k],n[S]);for(d=Math.max(C[0].length,d),c[k]=new Array(d),c[S]=new Array(d),v=0;v<d;v++){var T=C[0][v]|0,B=C[1][v]|0;c[k][v]=R[(T+1)*3+(B+1)],c[S][v]=0,f[k]=A}}var L=this.jpoint(null,null,null),j=this._wnafT4;for(m=d;m>=0;m--){for(var V=0;m>=0;){var Z=!0;for(v=0;v<o;v++)j[v]=c[v][m]|0,j[v]!==0&&(Z=!1);if(!Z)break;V++,m--}if(m>=0&&V++,L=L.dblp(V),m<0)break;for(v=0;v<o;v++){var Q=j[v];Q!==0&&(Q>0?_=f[v][Q-1>>1]:Q<0&&(_=f[v][-Q-1>>1].neg()),_.type==="affine"?L=L.mixedAdd(_):L=L.add(_))}}for(m=0;m<o;m++)f[m]=null;return i?L:L.toP()};function Li(r,e){this.curve=r,this.type=e,this.precomputed=null}Ks.BasePoint=Li;Li.prototype.eq=function(){throw new Error("Not implemented")};Li.prototype.validate=function(){return this.curve.validate(this)};Ks.prototype.decodePoint=function(e,t){e=Tu.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?mh(e[e.length-1]%2===0):e[0]===7&&mh(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Li.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Li.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Li.prototype.encode=function(e,t){return Tu.encode(this._encode(t),e)};Li.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Li.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Li.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)o=o.dbl();n.push(o)}return{step:e,points:n}};Li.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Li.prototype._getBeta=function(){return null};Li.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var kR=li,Jr=To.exports,im=Ut.exports,tl=p0,SR=kR.assert;function Ni(r){tl.call(this,"short",r),this.a=new Jr(r.a,16).toRed(this.red),this.b=new Jr(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}im(Ni,tl);var ER=Ni;Ni.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Jr(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new Jr(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],SR(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new Jr(f.a,16),b:new Jr(f.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};Ni.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Jr.mont(e),n=new Jr(2).toRed(t).redInvm(),o=n.redNeg(),i=new Jr(3).toRed(t).redNeg().redSqrt().redMul(n),a=o.redAdd(i).fromRed(),f=o.redSub(i).fromRed();return[a,f]};Ni.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Jr(1),a=new Jr(0),f=new Jr(0),c=new Jr(1),d,m,v,_,$,k,S,A=0,R,C;n.cmpn(0)!==0;){var T=o.div(n);R=o.sub(T.mul(n)),C=f.sub(T.mul(i));var B=c.sub(T.mul(a));if(!v&&R.cmp(t)<0)d=S.neg(),m=i,v=R.neg(),_=C;else if(v&&++A===2)break;S=R,o=n,n=R,f=i,i=C,c=a,a=B}$=R.neg(),k=C;var L=v.sqr().add(_.sqr()),j=$.sqr().add(k.sqr());return j.cmp(L)>=0&&($=d,k=m),v.negative&&(v=v.neg(),_=_.neg()),$.negative&&($=$.neg(),k=k.neg()),[{a:v,b:_},{a:$,b:k}]};Ni.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),f=i.mul(n.a),c=a.mul(o.a),d=i.mul(n.b),m=a.mul(o.b),v=e.sub(f).sub(c),_=d.add(m).neg();return{k1:v,k2:_}};Ni.prototype.pointFromX=function(e,t){e=new Jr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};Ni.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Ni.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),c=e[a],d=c._getBeta();f.k1.negative&&(f.k1.ineg(),c=c.neg(!0)),f.k2.negative&&(f.k2.ineg(),d=d.neg(!0)),o[a*2]=c,o[a*2+1]=d,i[a*2]=f.k1,i[a*2+1]=f.k2}for(var m=this._wnafMulAdd(1,o,i,a*2,n),v=0;v<a*2;v++)o[v]=null,i[v]=null;return m};function bn(r,e,t,n){tl.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Jr(e,16),this.y=new Jr(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}im(bn,tl.BasePoint);Ni.prototype.point=function(e,t,n){return new bn(this,e,t,n)};Ni.prototype.pointFromJSON=function(e,t){return bn.fromJSON(this,e,t)};bn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};bn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};bn.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(f){return e.point(f[0],f[1],n)}var a=t[2];return o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(i))}},o};bn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};bn.prototype.isInfinity=function(){return this.inf};bn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};bn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),a=i.redSqr().redISub(this.x.redAdd(this.x)),f=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)};bn.prototype.getX=function(){return this.x.fromRed()};bn.prototype.getY=function(){return this.y.fromRed()};bn.prototype.mul=function(e){return e=new Jr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};bn.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};bn.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};bn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};bn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};bn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function En(r,e,t,n){tl.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Jr(0)):(this.x=new Jr(e,16),this.y=new Jr(t,16),this.z=new Jr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}im(En,tl.BasePoint);Ni.prototype.jpoint=function(e,t,n){return new En(this,e,t,n)};En.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};En.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};En.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),d=a.redSub(f);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=c.redSqr(),v=m.redMul(c),_=o.redMul(m),$=d.redSqr().redIAdd(v).redISub(_).redISub(_),k=d.redMul(_.redISub($)).redISub(a.redMul(v)),S=this.z.redMul(e.z).redMul(c);return this.curve.jpoint($,k,S)};En.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),f=n.redSub(o),c=i.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),m=d.redMul(f),v=n.redMul(d),_=c.redSqr().redIAdd(m).redISub(v).redISub(v),$=c.redMul(v.redISub(_)).redISub(i.redMul(m)),k=this.z.redMul(f);return this.curve.jpoint(_,$,k)};En.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,a=this.x,f=this.y,c=this.z,d=c.redSqr().redSqr(),m=f.redAdd(f);for(t=0;t<e;t++){var v=a.redSqr(),_=m.redSqr(),$=_.redSqr(),k=v.redAdd(v).redIAdd(v).redIAdd(o.redMul(d)),S=a.redMul(_),A=k.redSqr().redISub(S.redAdd(S)),R=S.redISub(A),C=k.redMul(R);C=C.redIAdd(C).redISub($);var T=m.redMul(c);t+1<e&&(d=d.redMul($)),a=A,c=T,m=C}return this.curve.jpoint(a,m.redMul(i),c)};En.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};En.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),f=this.x.redAdd(i).redSqr().redISub(o).redISub(a);f=f.redIAdd(f);var c=o.redAdd(o).redIAdd(o),d=c.redSqr().redISub(f).redISub(f),m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),e=d,t=c.redMul(f.redISub(d)).redISub(m),n=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),_=this.y.redSqr(),$=_.redSqr(),k=this.x.redAdd(_).redSqr().redISub(v).redISub($);k=k.redIAdd(k);var S=v.redAdd(v).redIAdd(v),A=S.redSqr(),R=$.redIAdd($);R=R.redIAdd(R),R=R.redIAdd(R),e=A.redISub(k).redISub(k),t=S.redMul(k.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};En.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),f=this.x.redAdd(i).redSqr().redISub(o).redISub(a);f=f.redIAdd(f);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),d=c.redSqr().redISub(f).redISub(f);e=d;var m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),t=c.redMul(f.redISub(d)).redISub(m),n=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),_=this.y.redSqr(),$=this.x.redMul(_),k=this.x.redSub(v).redMul(this.x.redAdd(v));k=k.redAdd(k).redIAdd(k);var S=$.redIAdd($);S=S.redIAdd(S);var A=S.redAdd(S);e=k.redSqr().redISub(A),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(v);var R=_.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),t=k.redMul(S.redISub(e)).redISub(R)}return this.curve.jpoint(e,t,n)};En.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),a=t.redSqr(),f=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),d=t.redAdd(t);d=d.redIAdd(d);var m=d.redMul(f),v=c.redSqr().redISub(m.redAdd(m)),_=m.redISub(v),$=f.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var k=c.redMul(_).redISub($),S=n.redAdd(n).redMul(o);return this.curve.jpoint(v,k,S)};En.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(o);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var c=f.redSqr(),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var m=i.redIAdd(f).redSqr().redISub(a).redISub(c).redISub(d),v=t.redMul(m);v=v.redIAdd(v),v=v.redIAdd(v);var _=this.x.redMul(c).redISub(v);_=_.redIAdd(_),_=_.redIAdd(_);var $=this.y.redMul(m.redMul(d.redISub(m)).redISub(f.redMul(c)));$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var k=this.z.redAdd(f).redSqr().redISub(n).redISub(c);return this.curve.jpoint(_,$,k)};En.prototype.mul=function(e,t){return e=new Jr(e,t),this.curve._wnafMul(this,e)};En.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};En.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};En.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};En.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Xa=To.exports,g4=Ut.exports,m0=p0,AR=li;function rl(r){m0.call(this,"mont",r),this.a=new Xa(r.a,16).toRed(this.red),this.b=new Xa(r.b,16).toRed(this.red),this.i4=new Xa(4).toRed(this.red).redInvm(),this.two=new Xa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}g4(rl,m0);var BR=rl;rl.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),o=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),i=o.redSqrt();return i.redSqr().cmp(o)===0};function gn(r,e,t){m0.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Xa(e,16),this.z=new Xa(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}g4(gn,m0.BasePoint);rl.prototype.decodePoint=function(e,t){return this.point(AR.toArray(e,t),1)};rl.prototype.point=function(e,t){return new gn(this,e,t)};rl.prototype.pointFromJSON=function(e){return gn.fromJSON(this,e)};gn.prototype.precompute=function(){};gn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};gn.fromJSON=function(e,t){return new gn(e,t[0],t[1]||e.one)};gn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};gn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};gn.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=t.redSub(o),a=t.redMul(o),f=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(a,f)};gn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};gn.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z),f=a.redMul(n),c=i.redMul(o),d=t.z.redMul(f.redAdd(c).redSqr()),m=t.x.redMul(f.redISub(c).redSqr());return this.curve.point(d,m)};gn.prototype.mul=function(e){for(var t=e.clone(),n=this,o=this.curve.point(null,null),i=this,a=[];t.cmpn(0)!==0;t.iushrn(1))a.push(t.andln(1));for(var f=a.length-1;f>=0;f--)a[f]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};gn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};gn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};gn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};gn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};gn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var RR=li,Wo=To.exports,y4=Ut.exports,v0=p0,CR=RR.assert;function Oo(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,v0.call(this,"edwards",r),this.a=new Wo(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Wo(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Wo(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),CR(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}y4(Oo,v0);var PR=Oo;Oo.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Oo.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Oo.prototype.jpoint=function(e,t,n,o){return this.point(e,t,n,o)};Oo.prototype.pointFromX=function(e,t){e=new Wo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=o.redMul(i.redInvm()),f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=f.fromRed().isOdd();return(t&&!c||!t&&c)&&(f=f.redNeg()),this.point(e,f)};Oo.prototype.pointFromY=function(e,t){e=new Wo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=o.redMul(i.redInvm());if(a.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==t&&(f=f.redNeg()),this.point(f,e)};Oo.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),o=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return o.cmp(i)===0};function Hr(r,e,t,n,o){v0.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Wo(e,16),this.y=new Wo(t,16),this.z=n?new Wo(n,16):this.curve.one,this.t=o&&new Wo(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}y4(Hr,v0.BasePoint);Oo.prototype.pointFromJSON=function(e){return Hr.fromJSON(this,e)};Oo.prototype.point=function(e,t,n,o){return new Hr(this,e,t,n,o)};Hr.fromJSON=function(e,t){return new Hr(e,t[0],t[1],t[2])};Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Hr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Hr.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=o.redAdd(t),f=a.redSub(n),c=o.redSub(t),d=i.redMul(f),m=a.redMul(c),v=i.redMul(c),_=f.redMul(a);return this.curve.point(d,m,_,v)};Hr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),o,i,a,f,c,d;if(this.curve.twisted){f=this.curve._mulA(t);var m=f.redAdd(n);this.zOne?(o=e.redSub(t).redSub(n).redMul(m.redSub(this.curve.two)),i=m.redMul(f.redSub(n)),a=m.redSqr().redSub(m).redSub(m)):(c=this.z.redSqr(),d=m.redSub(c).redISub(c),o=e.redSub(t).redISub(n).redMul(d),i=m.redMul(f.redSub(n)),a=m.redMul(d))}else f=t.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=f.redSub(c).redSub(c),o=this.curve._mulC(e.redISub(f)).redMul(d),i=this.curve._mulC(f).redMul(t.redISub(n)),a=f.redMul(d);return this.curve.point(o,i,a)};Hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Hr.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),f=i.redSub(o),c=i.redAdd(o),d=n.redAdd(t),m=a.redMul(f),v=c.redMul(d),_=a.redMul(d),$=f.redMul(c);return this.curve.point(m,v,$,_)};Hr.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(i),f=n.redSub(a),c=n.redAdd(a),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),m=t.redMul(f).redMul(d),v,_;return this.curve.twisted?(v=t.redMul(c).redMul(i.redSub(this.curve._mulA(o))),_=f.redMul(c)):(v=t.redMul(c).redMul(i.redSub(o)),_=this.curve._mulC(f).redMul(c)),this.curve.point(m,v,_)};Hr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Hr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Hr.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};Hr.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};Hr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Hr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Hr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Hr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Hr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Hr.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}};Hr.prototype.toP=Hr.prototype.normalize;Hr.prototype.mixedAdd=Hr.prototype.add;(function(r){var e=r;e.base=p0,e.short=ER,e.mont=BR,e.edwards=PR})(nm);var g0={},y0={},ir={},TR=Oi,OR=Ut.exports;ir.inherits=OR;function IR(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function LR(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),o=0;o<r.length;o+=2)t.push(parseInt(r[o]+r[o+1],16))}else for(var n=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):IR(r,o)?(i=65536+((i&1023)<<10)+(r.charCodeAt(++o)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}else for(o=0;o<r.length;o++)t[o]=r[o]|0;return t}ir.toArray=LR;function NR(r){for(var e="",t=0;t<r.length;t++)e+=_4(r[t].toString(16));return e}ir.toHex=NR;function b4(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ir.htonl=b4;function DR(r,e){for(var t="",n=0;n<r.length;n++){var o=r[n];e==="little"&&(o=b4(o)),t+=w4(o.toString(16))}return t}ir.toHex32=DR;function _4(r){return r.length===1?"0"+r:r}ir.zero2=_4;function w4(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ir.zero8=w4;function FR(r,e,t,n){var o=t-e;TR(o%4===0);for(var i=new Array(o/4),a=0,f=e;a<i.length;a++,f+=4){var c;n==="big"?c=r[f]<<24|r[f+1]<<16|r[f+2]<<8|r[f+3]:c=r[f+3]<<24|r[f+2]<<16|r[f+1]<<8|r[f],i[a]=c>>>0}return i}ir.join32=FR;function UR(r,e){for(var t=new Array(r.length*4),n=0,o=0;n<r.length;n++,o+=4){var i=r[n];e==="big"?(t[o]=i>>>24,t[o+1]=i>>>16&255,t[o+2]=i>>>8&255,t[o+3]=i&255):(t[o+3]=i>>>24,t[o+2]=i>>>16&255,t[o+1]=i>>>8&255,t[o]=i&255)}return t}ir.split32=UR;function HR(r,e){return r>>>e|r<<32-e}ir.rotr32=HR;function jR(r,e){return r<<e|r>>>32-e}ir.rotl32=jR;function zR(r,e){return r+e>>>0}ir.sum32=zR;function qR(r,e,t){return r+e+t>>>0}ir.sum32_3=qR;function KR(r,e,t,n){return r+e+t+n>>>0}ir.sum32_4=KR;function WR(r,e,t,n,o){return r+e+t+n+o>>>0}ir.sum32_5=WR;function VR(r,e,t,n){var o=r[e],i=r[e+1],a=n+i>>>0,f=(a<n?1:0)+t+o;r[e]=f>>>0,r[e+1]=a}ir.sum64=VR;function ZR(r,e,t,n){var o=e+n>>>0,i=(o<e?1:0)+r+t;return i>>>0}ir.sum64_hi=ZR;function GR(r,e,t,n){var o=e+n;return o>>>0}ir.sum64_lo=GR;function YR(r,e,t,n,o,i,a,f){var c=0,d=e;d=d+n>>>0,c+=d<e?1:0,d=d+i>>>0,c+=d<i?1:0,d=d+f>>>0,c+=d<f?1:0;var m=r+t+o+a+c;return m>>>0}ir.sum64_4_hi=YR;function JR(r,e,t,n,o,i,a,f){var c=e+n+i+f;return c>>>0}ir.sum64_4_lo=JR;function XR(r,e,t,n,o,i,a,f,c,d){var m=0,v=e;v=v+n>>>0,m+=v<e?1:0,v=v+i>>>0,m+=v<i?1:0,v=v+f>>>0,m+=v<f?1:0,v=v+d>>>0,m+=v<d?1:0;var _=r+t+o+a+c+m;return _>>>0}ir.sum64_5_hi=XR;function QR(r,e,t,n,o,i,a,f,c,d){var m=e+n+i+f+d;return m>>>0}ir.sum64_5_lo=QR;function eC(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ir.rotr64_hi=eC;function tC(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ir.rotr64_lo=tC;function rC(r,e,t){return r>>>t}ir.shr64_hi=rC;function nC(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ir.shr64_lo=nC;var nl={},Kg=ir,iC=Oi;function b0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}nl.BlockHash=b0;b0.prototype.update=function(e,t){if(e=Kg.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Kg.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};b0.prototype.digest=function(e){return this.update(this._pad()),iC(this.pending===null),this._digest(e)};b0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,a=8;a<this.padLength;a++)o[i++]=0;return o};var il={},Io={},oC=ir,go=oC.rotr32;function sC(r,e,t,n){if(r===0)return M4(e,t,n);if(r===1||r===3)return x4(e,t,n);if(r===2)return $4(e,t,n)}Io.ft_1=sC;function M4(r,e,t){return r&e^~r&t}Io.ch32=M4;function $4(r,e,t){return r&e^r&t^e&t}Io.maj32=$4;function x4(r,e,t){return r^e^t}Io.p32=x4;function aC(r){return go(r,2)^go(r,13)^go(r,22)}Io.s0_256=aC;function fC(r){return go(r,6)^go(r,11)^go(r,25)}Io.s1_256=fC;function lC(r){return go(r,7)^go(r,18)^r>>>3}Io.g0_256=lC;function uC(r){return go(r,17)^go(r,19)^r>>>10}Io.g1_256=uC;var xf=ir,cC=nl,hC=Io,Wd=xf.rotl32,Bl=xf.sum32,dC=xf.sum32_5,pC=hC.ft_1,k4=cC.BlockHash,mC=[1518500249,1859775393,2400959708,3395469782];function ko(){if(!(this instanceof ko))return new ko;k4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}xf.inherits(ko,k4);var vC=ko;ko.blockSize=512;ko.outSize=160;ko.hmacStrength=80;ko.padLength=64;ko.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=Wd(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],a=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4];for(o=0;o<n.length;o++){var m=~~(o/20),v=dC(Wd(i,5),pC(m,a,f,c),d,n[o],mC[m]);d=c,c=f,f=Wd(a,30),a=i,i=v}this.h[0]=Bl(this.h[0],i),this.h[1]=Bl(this.h[1],a),this.h[2]=Bl(this.h[2],f),this.h[3]=Bl(this.h[3],c),this.h[4]=Bl(this.h[4],d)};ko.prototype._digest=function(e){return e==="hex"?xf.toHex32(this.h,"big"):xf.split32(this.h,"big")};var kf=ir,gC=nl,ol=Io,yC=Oi,zi=kf.sum32,bC=kf.sum32_4,_C=kf.sum32_5,wC=ol.ch32,MC=ol.maj32,$C=ol.s0_256,xC=ol.s1_256,kC=ol.g0_256,SC=ol.g1_256,S4=gC.BlockHash,EC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function So(){if(!(this instanceof So))return new So;S4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=EC,this.W=new Array(64)}kf.inherits(So,S4);var E4=So;So.blockSize=512;So.outSize=256;So.hmacStrength=192;So.padLength=64;So.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=bC(SC(n[o-2]),n[o-7],kC(n[o-15]),n[o-16]);var i=this.h[0],a=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4],m=this.h[5],v=this.h[6],_=this.h[7];for(yC(this.k.length===n.length),o=0;o<n.length;o++){var $=_C(_,xC(d),wC(d,m,v),this.k[o],n[o]),k=zi($C(i),MC(i,a,f));_=v,v=m,m=d,d=zi(c,$),c=f,f=a,a=i,i=zi($,k)}this.h[0]=zi(this.h[0],i),this.h[1]=zi(this.h[1],a),this.h[2]=zi(this.h[2],f),this.h[3]=zi(this.h[3],c),this.h[4]=zi(this.h[4],d),this.h[5]=zi(this.h[5],m),this.h[6]=zi(this.h[6],v),this.h[7]=zi(this.h[7],_)};So.prototype._digest=function(e){return e==="hex"?kf.toHex32(this.h,"big"):kf.split32(this.h,"big")};var zp=ir,A4=E4;function Qo(){if(!(this instanceof Qo))return new Qo;A4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}zp.inherits(Qo,A4);var AC=Qo;Qo.blockSize=512;Qo.outSize=224;Qo.hmacStrength=192;Qo.padLength=64;Qo.prototype._digest=function(e){return e==="hex"?zp.toHex32(this.h.slice(0,7),"big"):zp.split32(this.h.slice(0,7),"big")};var Xn=ir,BC=nl,RC=Oi,yo=Xn.rotr64_hi,bo=Xn.rotr64_lo,B4=Xn.shr64_hi,R4=Xn.shr64_lo,ls=Xn.sum64,Vd=Xn.sum64_hi,Zd=Xn.sum64_lo,CC=Xn.sum64_4_hi,PC=Xn.sum64_4_lo,TC=Xn.sum64_5_hi,OC=Xn.sum64_5_lo,C4=BC.BlockHash,IC=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Gi(){if(!(this instanceof Gi))return new Gi;C4.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=IC,this.W=new Array(160)}Xn.inherits(Gi,C4);var P4=Gi;Gi.blockSize=1024;Gi.outSize=512;Gi.hmacStrength=192;Gi.padLength=128;Gi.prototype._prepareBlock=function(e,t){for(var n=this.W,o=0;o<32;o++)n[o]=e[t+o];for(;o<n.length;o+=2){var i=WC(n[o-4],n[o-3]),a=VC(n[o-4],n[o-3]),f=n[o-14],c=n[o-13],d=qC(n[o-30],n[o-29]),m=KC(n[o-30],n[o-29]),v=n[o-32],_=n[o-31];n[o]=CC(i,a,f,c,d,m,v,_),n[o+1]=PC(i,a,f,c,d,m,v,_)}};Gi.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],i=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],d=this.h[5],m=this.h[6],v=this.h[7],_=this.h[8],$=this.h[9],k=this.h[10],S=this.h[11],A=this.h[12],R=this.h[13],C=this.h[14],T=this.h[15];RC(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var L=C,j=T,V=jC(_,$),Z=zC(_,$),Q=LC(_,$,k,S,A),ne=NC(_,$,k,S,A,R),w=this.k[B],s=this.k[B+1],u=n[B],h=n[B+1],p=TC(L,j,V,Z,Q,ne,w,s,u,h),g=OC(L,j,V,Z,Q,ne,w,s,u,h);L=UC(o,i),j=HC(o,i),V=DC(o,i,a,f,c),Z=FC(o,i,a,f,c,d);var M=Vd(L,j,V,Z),x=Zd(L,j,V,Z);C=A,T=R,A=k,R=S,k=_,S=$,_=Vd(m,v,p,g),$=Zd(v,v,p,g),m=c,v=d,c=a,d=f,a=o,f=i,o=Vd(p,g,M,x),i=Zd(p,g,M,x)}ls(this.h,0,o,i),ls(this.h,2,a,f),ls(this.h,4,c,d),ls(this.h,6,m,v),ls(this.h,8,_,$),ls(this.h,10,k,S),ls(this.h,12,A,R),ls(this.h,14,C,T)};Gi.prototype._digest=function(e){return e==="hex"?Xn.toHex32(this.h,"big"):Xn.split32(this.h,"big")};function LC(r,e,t,n,o){var i=r&t^~r&o;return i<0&&(i+=4294967296),i}function NC(r,e,t,n,o,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function DC(r,e,t,n,o){var i=r&t^r&o^t&o;return i<0&&(i+=4294967296),i}function FC(r,e,t,n,o,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function UC(r,e){var t=yo(r,e,28),n=yo(e,r,2),o=yo(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function HC(r,e){var t=bo(r,e,28),n=bo(e,r,2),o=bo(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function jC(r,e){var t=yo(r,e,14),n=yo(r,e,18),o=yo(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function zC(r,e){var t=bo(r,e,14),n=bo(r,e,18),o=bo(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function qC(r,e){var t=yo(r,e,1),n=yo(r,e,8),o=B4(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function KC(r,e){var t=bo(r,e,1),n=bo(r,e,8),o=R4(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function WC(r,e){var t=yo(r,e,19),n=yo(e,r,29),o=B4(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}function VC(r,e){var t=bo(r,e,19),n=bo(e,r,29),o=R4(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}var qp=ir,T4=P4;function es(){if(!(this instanceof es))return new es;T4.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}qp.inherits(es,T4);var ZC=es;es.blockSize=1024;es.outSize=384;es.hmacStrength=192;es.padLength=128;es.prototype._digest=function(e){return e==="hex"?qp.toHex32(this.h.slice(0,12),"big"):qp.split32(this.h.slice(0,12),"big")};il.sha1=vC;il.sha224=AC;il.sha256=E4;il.sha384=ZC;il.sha512=P4;var O4={},_a=ir,GC=nl,fc=_a.rotl32,Wg=_a.sum32,Rl=_a.sum32_3,Vg=_a.sum32_4,I4=GC.BlockHash;function Eo(){if(!(this instanceof Eo))return new Eo;I4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_a.inherits(Eo,I4);O4.ripemd160=Eo;Eo.blockSize=512;Eo.outSize=160;Eo.hmacStrength=192;Eo.padLength=64;Eo.prototype._update=function(e,t){for(var n=this.h[0],o=this.h[1],i=this.h[2],a=this.h[3],f=this.h[4],c=n,d=o,m=i,v=a,_=f,$=0;$<80;$++){var k=Wg(fc(Vg(n,Zg($,o,i,a),e[XC[$]+t],YC($)),eP[$]),f);n=f,f=a,a=fc(i,10),i=o,o=k,k=Wg(fc(Vg(c,Zg(79-$,d,m,v),e[QC[$]+t],JC($)),tP[$]),_),c=_,_=v,v=fc(m,10),m=d,d=k}k=Rl(this.h[1],i,v),this.h[1]=Rl(this.h[2],a,_),this.h[2]=Rl(this.h[3],f,c),this.h[3]=Rl(this.h[4],n,d),this.h[4]=Rl(this.h[0],o,m),this.h[0]=k};Eo.prototype._digest=function(e){return e==="hex"?_a.toHex32(this.h,"little"):_a.split32(this.h,"little")};function Zg(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function YC(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function JC(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var XC=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],QC=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eP=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tP=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],rP=ir,nP=Oi;function Sf(r,e,t){if(!(this instanceof Sf))return new Sf(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(rP.toArray(e,t))}var iP=Sf;Sf.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),nP(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Sf.prototype.update=function(e,t){return this.inner.update(e,t),this};Sf.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ir,e.common=nl,e.sha=il,e.ripemd=O4,e.hmac=iP,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(y0);var Gd,Gg;function oP(){return Gg||(Gg=1,Gd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Gd}(function(r){var e=r,t=y0,n=nm,o=li,i=o.assert;function a(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function f(d,m){Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){var v=new a(m);return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,value:v}),v}})}f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=oP()}catch{c=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(g0);var sP=y0,pa=rm,L4=Oi;function Ls(r){if(!(this instanceof Ls))return new Ls(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=pa.toArray(r.entropy,r.entropyEnc||"hex"),t=pa.toArray(r.nonce,r.nonceEnc||"hex"),n=pa.toArray(r.pers,r.persEnc||"hex");L4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var aP=Ls;Ls.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Ls.prototype._hmac=function(){return new sP.hmac(this.hash,this.K)};Ls.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ls.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=pa.toArray(e,t),n=pa.toArray(n,o),L4(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ls.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=pa.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,pa.encode(a,t)};var fP=To.exports,lP=li,Kp=lP.assert;function Dn(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var uP=Dn;Dn.fromPublic=function(e,t,n){return t instanceof Dn?t:new Dn(e,{pub:t,pubEnc:n})};Dn.fromPrivate=function(e,t,n){return t instanceof Dn?t:new Dn(e,{priv:t,privEnc:n})};Dn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Dn.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Dn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Dn.prototype._importPrivate=function(e,t){this.priv=new fP(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Dn.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Kp(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Kp(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Dn.prototype.derive=function(e){return e.validate()||Kp(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Dn.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Dn.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Dn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var vh=To.exports,om=li,cP=om.assert;function _0(r,e){if(r instanceof _0)return r;this._importDER(r,e)||(cP(r.r&&r.s,"Signature without r or s"),this.r=new vh(r.r,16),this.s=new vh(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var hP=_0;function dP(){this.place=0}function Yd(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,a=e.place;i<n;i++,a++)o<<=8,o|=r[a],o>>>=0;return o<=127?!1:(e.place=a,o)}function Yg(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}_0.prototype._importDER=function(e,t){e=om.toArray(e,t);var n=new dP;if(e[n.place++]!==48)return!1;var o=Yd(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=Yd(e,n);if(i===!1)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var f=Yd(e,n);if(f===!1||e.length!==f+n.place)return!1;var c=e.slice(n.place,f+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new vh(a),this.s=new vh(c),this.recoveryParam=null,!0};function Jd(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}_0.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=Yg(t),n=Yg(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];Jd(o,t.length),o=o.concat(t),o.push(2),Jd(o,n.length);var i=o.concat(n),a=[48];return Jd(a,i.length),a=a.concat(i),om.encode(a,e)};var Xd,Jg;function pP(){if(Jg)return Xd;Jg=1;var r=To.exports,e=aP,t=li,n=g0,o=em(),i=t.assert,a=uP,f=hP;function c(d){if(!(this instanceof c))return new c(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}return Xd=c,c.prototype.keyPair=function(m){return new a(this,m)},c.prototype.keyFromPrivate=function(m,v){return a.fromPrivate(this,m,v)},c.prototype.keyFromPublic=function(m,v){return a.fromPublic(this,m,v)},c.prototype.genKeyPair=function(m){m||(m={});for(var v=new e({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||o(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),_=this.n.byteLength(),$=this.n.sub(new r(2));;){var k=new r(v.generate(_));if(!(k.cmp($)>0))return k.iaddn(1),this.keyFromPrivate(k)}},c.prototype._truncateToN=function(m,v){var _=m.byteLength()*8-this.n.bitLength();return _>0&&(m=m.ushrn(_)),!v&&m.cmp(this.n)>=0?m.sub(this.n):m},c.prototype.sign=function(m,v,_,$){typeof _=="object"&&($=_,_=null),$||($={}),v=this.keyFromPrivate(v,_),m=this._truncateToN(new r(m,16));for(var k=this.n.byteLength(),S=v.getPrivate().toArray("be",k),A=m.toArray("be",k),R=new e({hash:this.hash,entropy:S,nonce:A,pers:$.pers,persEnc:$.persEnc||"utf8"}),C=this.n.sub(new r(1)),T=0;;T++){var B=$.k?$.k(T):new r(R.generate(this.n.byteLength()));if(B=this._truncateToN(B,!0),!(B.cmpn(1)<=0||B.cmp(C)>=0)){var L=this.g.mul(B);if(!L.isInfinity()){var j=L.getX(),V=j.umod(this.n);if(V.cmpn(0)!==0){var Z=B.invm(this.n).mul(V.mul(v.getPrivate()).iadd(m));if(Z=Z.umod(this.n),Z.cmpn(0)!==0){var Q=(L.getY().isOdd()?1:0)|(j.cmp(V)!==0?2:0);return $.canonical&&Z.cmp(this.nh)>0&&(Z=this.n.sub(Z),Q^=1),new f({r:V,s:Z,recoveryParam:Q})}}}}}},c.prototype.verify=function(m,v,_,$){m=this._truncateToN(new r(m,16)),_=this.keyFromPublic(_,$),v=new f(v,"hex");var k=v.r,S=v.s;if(k.cmpn(1)<0||k.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var A=S.invm(this.n),R=A.mul(m).umod(this.n),C=A.mul(k).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(R,_.getPublic(),C),T.isInfinity()?!1:T.eqXToP(k)):(T=this.g.mulAdd(R,_.getPublic(),C),T.isInfinity()?!1:T.getX().umod(this.n).cmp(k)===0)},c.prototype.recoverPubKey=function(d,m,v,_){i((3&v)===v,"The recovery param is more than two bits"),m=new f(m,_);var $=this.n,k=new r(d),S=m.r,A=m.s,R=v&1,C=v>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");C?S=this.curve.pointFromX(S.add(this.curve.n),R):S=this.curve.pointFromX(S,R);var T=m.r.invm($),B=$.sub(k).mul(T).umod($),L=A.mul(T).umod($);return this.g.mulAdd(B,S,L)},c.prototype.getKeyRecoveryParam=function(d,m,v,_){if(m=new f(m,_),m.recoveryParam!==null)return m.recoveryParam;for(var $=0;$<4;$++){var k;try{k=this.recoverPubKey(d,m,$)}catch{continue}if(k.eq(v))return $}throw new Error("Unable to find valid recovery factor")},Xd}var Ou=li,N4=Ou.assert,Xg=Ou.parseBytes,sl=Ou.cachedProperty;function pn(r,e){this.eddsa=r,this._secret=Xg(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Xg(e.pub)}pn.fromPublic=function(e,t){return t instanceof pn?t:new pn(e,{pub:t})};pn.fromSecret=function(e,t){return t instanceof pn?t:new pn(e,{secret:t})};pn.prototype.secret=function(){return this._secret};sl(pn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});sl(pn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});sl(pn,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});sl(pn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});sl(pn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});sl(pn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});pn.prototype.sign=function(e){return N4(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};pn.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};pn.prototype.getSecret=function(e){return N4(this._secret,"KeyPair is public only"),Ou.encode(this.secret(),e)};pn.prototype.getPublic=function(e){return Ou.encode(this.pubBytes(),e)};var mP=pn,vP=To.exports,w0=li,gP=w0.assert,M0=w0.cachedProperty,yP=w0.parseBytes;function Ba(r,e){this.eddsa=r,typeof e!="object"&&(e=yP(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),gP(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof vP&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}M0(Ba,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});M0(Ba,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});M0(Ba,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});M0(Ba,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ba.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ba.prototype.toHex=function(){return w0.encode(this.toBytes(),"hex").toUpperCase()};var bP=Ba,_P=y0,wP=g0,Ef=li,MP=Ef.assert,D4=Ef.parseBytes,F4=mP,Qg=bP;function Qn(r){if(MP(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Qn))return new Qn(r);r=wP[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=_P.sha512}var $P=Qn;Qn.prototype.sign=function(e,t){e=D4(e);var n=this.keyFromSecret(t),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),a=this.encodePoint(i),f=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=o.add(f).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})};Qn.prototype.verify=function(e,t,n){e=D4(e),t=this.makeSignature(t);var o=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),o.pubBytes(),e),a=this.g.mul(t.S()),f=t.R().add(o.pub().mul(i));return f.eq(a)};Qn.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Ef.intFromLE(e.digest()).umod(this.curve.n)};Qn.prototype.keyFromPublic=function(e){return F4.fromPublic(this,e)};Qn.prototype.keyFromSecret=function(e){return F4.fromSecret(this,e)};Qn.prototype.makeSignature=function(e){return e instanceof Qg?e:new Qg(this,e)};Qn.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Qn.prototype.decodePoint=function(e){e=Ef.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,i=Ef.intFromLE(n);return this.curve.pointFromY(i,o)};Qn.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Qn.prototype.decodeInt=function(e){return Ef.intFromLE(e)};Qn.prototype.isPoint=function(e){return e instanceof this.pointClass};var ey;function sm(){return ey||(ey=1,function(r){var e=r;e.version=$R.version,e.utils=li,e.rand=em(),e.curve=nm,e.curves=g0,e.ec=pP(),e.eddsa=$P}(Kd)),Kd}var to={},am={},fm={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(fm);var U4={},lm={},jc=Dt,af=jc.Buffer,bi={},_i;for(_i in jc)!jc.hasOwnProperty(_i)||_i==="SlowBuffer"||_i==="Buffer"||(bi[_i]=jc[_i]);var ff=bi.Buffer={};for(_i in af)!af.hasOwnProperty(_i)||_i==="allocUnsafe"||_i==="allocUnsafeSlow"||(ff[_i]=af[_i]);bi.Buffer.prototype=af.prototype;(!ff.from||ff.from===Uint8Array.from)&&(ff.from=function(r,e,t){if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof r);if(r&&typeof r.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);return af(r,e,t)});ff.alloc||(ff.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof r);if(r<0||r>=2*(1<<30))throw new RangeError('The value "'+r+'" is invalid for option "size"');var n=af(r);return!e||e.length===0?n.fill(0):typeof t=="string"?n.fill(e,t):n.fill(e),n});if(!bi.kStringMaxLength)try{bi.kStringMaxLength=It.exports.binding("buffer").kStringMaxLength}catch{}bi.constants||(bi.constants={MAX_LENGTH:bi.kMaxLength},bi.kStringMaxLength&&(bi.constants.MAX_STRING_LENGTH=bi.kStringMaxLength));var um=bi,$0={};const xP=Ut.exports;function Di(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}$0.Reporter=Di;Di.prototype.isError=function(e){return e instanceof Af};Di.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Di.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)};Di.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Di.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)};Di.prototype.leaveKey=function(e,t,n){const o=this._reporterState;this.exitKey(e),o.obj!==null&&(o.obj[t]=n)};Di.prototype.path=function(){return this._reporterState.path.join("/")};Di.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t};Di.prototype.leaveObject=function(e){const t=this._reporterState,n=t.obj;return t.obj=e,n};Di.prototype.error=function(e){let t;const n=this._reporterState,o=e instanceof Af;if(o?t=e:t=new Af(n.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return o||n.errors.push(t),t};Di.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e};function Af(r,e){this.path=r,this.rethrow(e)}xP(Af,Error);Af.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Af),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var wa={};const kP=Ut.exports,x0=$0.Reporter,Bf=um.Buffer;function Ri(r,e){if(x0.call(this,e),!Bf.isBuffer(r)){this.error("Input not Buffer");return}this.base=r,this.offset=0,this.length=r.length}kP(Ri,x0);wa.DecoderBuffer=Ri;Ri.isDecoderBuffer=function(e){return e instanceof Ri?!0:typeof e=="object"&&Bf.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Ri.prototype.save=function(){return{offset:this.offset,reporter:x0.prototype.save.call(this)}};Ri.prototype.restore=function(e){const t=new Ri(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,x0.prototype.restore.call(this,e.reporter),t};Ri.prototype.isEmpty=function(){return this.offset===this.length};Ri.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Ri.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const n=new Ri(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Ri.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Rf(r,e){if(Array.isArray(r))this.length=0,this.value=r.map(function(t){return Rf.isEncoderBuffer(t)||(t=new Rf(t,e)),this.length+=t.length,t},this);else if(typeof r=="number"){if(!(0<=r&&r<=255))return e.error("non-byte EncoderBuffer value");this.value=r,this.length=1}else if(typeof r=="string")this.value=r,this.length=Bf.byteLength(r);else if(Bf.isBuffer(r))this.value=r,this.length=r.length;else return e.error("Unsupported type: "+typeof r)}wa.EncoderBuffer=Rf;Rf.isEncoderBuffer=function(e){return e instanceof Rf?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Rf.prototype.join=function(e,t){return e||(e=Bf.alloc(this.length)),t||(t=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):(typeof this.value=="number"?e[t]=this.value:typeof this.value=="string"?e.write(this.value,t):Bf.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e};const SP=$0.Reporter,EP=wa.EncoderBuffer,AP=wa.DecoderBuffer,zn=Oi,H4=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],BP=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(H4),RP=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Ur(r,e,t){const n={};this._baseState=n,n.name=t,n.enc=r,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var cm=Ur;const CP=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Ur.prototype.clone=function(){const e=this._baseState,t={};CP.forEach(function(o){t[o]=e[o]});const n=new this.constructor(t.parent);return n._baseState=t,n};Ur.prototype._wrap=function(){const e=this._baseState;BP.forEach(function(t){this[t]=function(){const o=new this.constructor(this);return e.children.push(o),o[t].apply(o,arguments)}},this)};Ur.prototype._init=function(e){const t=this._baseState;zn(t.parent===null),e.call(this),t.children=t.children.filter(function(n){return n._baseState.parent===this},this),zn.equal(t.children.length,1,"Root node can have only one child")};Ur.prototype._useArgs=function(e){const t=this._baseState,n=e.filter(function(o){return o instanceof this.constructor},this);e=e.filter(function(o){return!(o instanceof this.constructor)},this),n.length!==0&&(zn(t.children===null),t.children=n,n.forEach(function(o){o._baseState.parent=this},this)),e.length!==0&&(zn(t.args===null),t.args=e,t.reverseArgs=e.map(function(o){if(typeof o!="object"||o.constructor!==Object)return o;const i={};return Object.keys(o).forEach(function(a){a==(a|0)&&(a|=0);const f=o[a];i[f]=a}),i}))};RP.forEach(function(r){Ur.prototype[r]=function(){const t=this._baseState;throw new Error(r+" not implemented for encoding: "+t.enc)}});H4.forEach(function(r){Ur.prototype[r]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return zn(t.tag===null),t.tag=r,this._useArgs(n),this}});Ur.prototype.use=function(e){zn(e);const t=this._baseState;return zn(t.use===null),t.use=e,this};Ur.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};Ur.prototype.def=function(e){const t=this._baseState;return zn(t.default===null),t.default=e,t.optional=!0,this};Ur.prototype.explicit=function(e){const t=this._baseState;return zn(t.explicit===null&&t.implicit===null),t.explicit=e,this};Ur.prototype.implicit=function(e){const t=this._baseState;return zn(t.explicit===null&&t.implicit===null),t.implicit=e,this};Ur.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,t.length!==0&&this._useArgs(t),this};Ur.prototype.key=function(e){const t=this._baseState;return zn(t.key===null),t.key=e,this};Ur.prototype.any=function(){const e=this._baseState;return e.any=!0,this};Ur.prototype.choice=function(e){const t=this._baseState;return zn(t.choice===null),t.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Ur.prototype.contains=function(e){const t=this._baseState;return zn(t.use===null),t.contains=e,this};Ur.prototype._decode=function(e,t){const n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,t));let o=n.default,i=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){let c=null;if(n.explicit!==null?c=n.explicit:n.implicit!==null?c=n.implicit:n.tag!==null&&(c=n.tag),c===null&&!n.any){const d=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),i=!0}catch{i=!1}e.restore(d)}else if(i=this._peekTag(e,c,n.any),e.isError(i))return i}let f;if(n.obj&&i&&(f=e.enterObject()),i){if(n.explicit!==null){const d=this._decodeTag(e,n.explicit);if(e.isError(d))return d;e=d}const c=e.offset;if(n.use===null&&n.choice===null){let d;n.any&&(d=e.save());const m=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(m))return m;n.any?o=e.raw(d):e=m}if(t&&t.track&&n.tag!==null&&t.track(e.path(),c,e.length,"tagged"),t&&t.track&&n.tag!==null&&t.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?o=this._decodeGeneric(n.tag,e,t):o=this._decodeChoice(e,t)),e.isError(o))return o;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(m){m._decode(e,t)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const d=new AP(o);o=this._getUse(n.contains,e._reporterState.obj)._decode(d,t)}}return n.obj&&i&&(o=e.leaveObject(f)),n.key!==null&&(o!==null||i===!0)?e.leaveKey(a,n.key,o):a!==null&&e.exitKey(a),o};Ur.prototype._decodeGeneric=function(e,t,n){const o=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(t,e,o.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):e==="objid"&&o.args?this._decodeObjid(t,o.args[0],o.args[1],n):e==="objid"?this._decodeObjid(t,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(t,e,n):e==="null_"?this._decodeNull(t,n):e==="bool"?this._decodeBool(t,n):e==="objDesc"?this._decodeStr(t,e,n):e==="int"||e==="enum"?this._decodeInt(t,o.args&&o.args[0],n):o.use!==null?this._getUse(o.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)};Ur.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),zn(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Ur.prototype._decodeChoice=function(e,t){const n=this._baseState;let o=null,i=!1;return Object.keys(n.choice).some(function(a){const f=e.save(),c=n.choice[a];try{const d=c._decode(e,t);if(e.isError(d))return!1;o={type:a,value:d},i=!0}catch{return e.restore(f),!1}return!0},this),i?o:e.error("Choice not matched")};Ur.prototype._createEncoderBuffer=function(e){return new EP(e,this.reporter)};Ur.prototype._encode=function(e,t,n){const o=this._baseState;if(o.default!==null&&o.default===e)return;const i=this._encodeValue(e,t,n);if(i!==void 0&&!this._skipDefault(i,t,n))return i};Ur.prototype._encodeValue=function(e,t,n){const o=this._baseState;if(o.parent===null)return o.children[0]._encode(e,t||new SP);let i=null;if(this.reporter=t,o.optional&&e===void 0)if(o.default!==null)e=o.default;else return;let a=null,f=!1;if(o.any)i=this._createEncoderBuffer(e);else if(o.choice)i=this._encodeChoice(e,t);else if(o.contains)a=this._getUse(o.contains,n)._encode(e,t),f=!0;else if(o.children)a=o.children.map(function(c){if(c._baseState.tag==="null_")return c._encode(null,t,e);if(c._baseState.key===null)return t.error("Child should have a key");const d=t.enterKey(c._baseState.key);if(typeof e!="object")return t.error("Child expected, but input is not object");const m=c._encode(e[c._baseState.key],t,e);return t.leaveKey(d),m},this).filter(function(c){return c}),a=this._createEncoderBuffer(a);else if(o.tag==="seqof"||o.tag==="setof"){if(!(o.args&&o.args.length===1))return t.error("Too many args for : "+o.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(d){const m=this._baseState;return this._getUse(m.args[0],e)._encode(d,t)},c))}else o.use!==null?i=this._getUse(o.use,n)._encode(e,t):(a=this._encodePrimitive(o.tag,e),f=!0);if(!o.any&&o.choice===null){const c=o.implicit!==null?o.implicit:o.tag,d=o.implicit===null?"universal":"context";c===null?o.use===null&&t.error("Tag could be omitted only for .use()"):o.use===null&&(i=this._encodeComposite(c,f,d,a))}return o.explicit!==null&&(i=this._encodeComposite(o.explicit,!1,"context",i)),i};Ur.prototype._encodeChoice=function(e,t){const n=this._baseState,o=n.choice[e.type];return o||zn(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),o._encode(e.value,t)};Ur.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if(e==="objid"&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(t,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(t,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(t,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(t);if(e==="objDesc")return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)};Ur.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Ur.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var k0={};(function(r){function e(t){const n={};return Object.keys(t).forEach(function(o){(o|0)==o&&(o=o|0);const i=t[o];n[i]=o}),n}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=e(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=e(r.tag)})(k0);const PP=Ut.exports,jo=um.Buffer,j4=cm,Qd=k0;function z4(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new ro,this.tree._init(r.body)}var q4=z4;z4.prototype.encode=function(e,t){return this.tree._encode(e,t).join()};function ro(r){j4.call(this,"der",r)}PP(ro,j4);ro.prototype._encodeComposite=function(e,t,n,o){const i=TP(e,t,n,this.reporter);if(o.length<128){const c=jo.alloc(2);return c[0]=i,c[1]=o.length,this._createEncoderBuffer([c,o])}let a=1;for(let c=o.length;c>=256;c>>=8)a++;const f=jo.alloc(1+1+a);f[0]=i,f[1]=128|a;for(let c=1+a,d=o.length;d>0;c--,d>>=8)f[c]=d&255;return this._createEncoderBuffer([f,o])};ro.prototype._encodeStr=function(e,t){if(t==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(t==="bmpstr"){const n=jo.alloc(e.length*2);for(let o=0;o<e.length;o++)n.writeUInt16BE(e.charCodeAt(o),o*2);return this._createEncoderBuffer(n)}else return t==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):t==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):t==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")};ro.prototype._encodeObjid=function(e,t,n){if(typeof e=="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let o=0;for(let f=0;f<e.length;f++){let c=e[f];for(o++;c>=128;c>>=7)o++}const i=jo.alloc(o);let a=i.length-1;for(let f=e.length-1;f>=0;f--){let c=e[f];for(i[a--]=c&127;(c>>=7)>0;)i[a--]=128|c&127}return this._createEncoderBuffer(i)};function pi(r){return r<10?"0"+r:r}ro.prototype._encodeTime=function(e,t){let n;const o=new Date(e);return t==="gentime"?n=[pi(o.getUTCFullYear()),pi(o.getUTCMonth()+1),pi(o.getUTCDate()),pi(o.getUTCHours()),pi(o.getUTCMinutes()),pi(o.getUTCSeconds()),"Z"].join(""):t==="utctime"?n=[pi(o.getUTCFullYear()%100),pi(o.getUTCMonth()+1),pi(o.getUTCDate()),pi(o.getUTCHours()),pi(o.getUTCMinutes()),pi(o.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")};ro.prototype._encodeNull=function(){return this._createEncoderBuffer("")};ro.prototype._encodeInt=function(e,t){if(typeof e=="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if(typeof e!="number"&&!jo.isBuffer(e)){const i=e.toArray();!e.sign&&i[0]&128&&i.unshift(0),e=jo.from(i)}if(jo.isBuffer(e)){let i=e.length;e.length===0&&i++;const a=jo.alloc(i);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let i=e;i>=256;i>>=8)n++;const o=new Array(n);for(let i=o.length-1;i>=0;i--)o[i]=e&255,e>>=8;return o[0]&128&&o.unshift(0),this._createEncoderBuffer(jo.from(o))};ro.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};ro.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getEncoder("der").tree};ro.prototype._skipDefault=function(e,t,n){const o=this._baseState;let i;if(o.default===null)return!1;const a=e.join();if(o.defaultBuffer===void 0&&(o.defaultBuffer=this._encodeValue(o.default,t,n).join()),a.length!==o.defaultBuffer.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==o.defaultBuffer[i])return!1;return!0};function TP(r,e,t,n){let o;if(r==="seqof"?r="seq":r==="setof"&&(r="set"),Qd.tagByName.hasOwnProperty(r))o=Qd.tagByName[r];else if(typeof r=="number"&&(r|0)===r)o=r;else return n.error("Unknown tag: "+r);return o>=31?n.error("Multi-octet tag encoding unsupported"):(e||(o|=32),o|=Qd.tagClassByName[t||"universal"]<<6,o)}const OP=Ut.exports,hm=q4;function dm(r){hm.call(this,r),this.enc="pem"}OP(dm,hm);var IP=dm;dm.prototype.encode=function(e,t){const o=hm.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"];for(let a=0;a<o.length;a+=64)i.push(o.slice(a,a+64));return i.push("-----END "+t.label+"-----"),i.join(`
`)};(function(r){const e=r;e.der=q4,e.pem=IP})(lm);var pm={};const LP=Ut.exports,NP=fm.exports,ty=wa.DecoderBuffer,K4=cm,ry=k0;function W4(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new ui,this.tree._init(r.body)}var V4=W4;W4.prototype.decode=function(e,t){return ty.isDecoderBuffer(e)||(e=new ty(e,t)),this.tree._decode(e,t)};function ui(r){K4.call(this,"der",r)}LP(ui,K4);ui.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;const o=e.save(),i=mm(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(o),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)};ui.prototype._decodeTag=function(e,t,n){const o=mm(e,'Failed to decode tag of "'+t+'"');if(e.isError(o))return o;let i=Z4(e,o.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&o.tag!==t&&o.tagStr!==t&&o.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(o.primitive||i!==null)return e.skip(i,'Failed to match body of: "'+t+'"');const a=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))};ui.prototype._skipUntilEnd=function(e,t){for(;;){const n=mm(e,t);if(e.isError(n))return n;const o=Z4(e,n.primitive,t);if(e.isError(o))return o;let i;if(n.primitive||o!==null?i=e.skip(o):i=this._skipUntilEnd(e,t),e.isError(i))return i;if(n.tagStr==="end")break}};ui.prototype._decodeList=function(e,t,n,o){const i=[];for(;!e.isEmpty();){const a=this._peekTag(e,"end");if(e.isError(a))return a;const f=n.decode(e,"der",o);if(e.isError(f)&&a)break;i.push(f)}return i};ui.prototype._decodeStr=function(e,t){if(t==="bitstr"){const n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(t==="bmpstr"){const n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let o="";for(let i=0;i<n.length/2;i++)o+=String.fromCharCode(n.readUInt16BE(i*2));return o}else if(t==="numstr"){const n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(t==="octstr")return e.raw();if(t==="objDesc")return e.raw();if(t==="printstr"){const n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")}};ui.prototype._decodeObjid=function(e,t,n){let o;const i=[];let a=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),a<<=7,a|=f&127,(f&128)===0&&(i.push(a),a=0);f&128&&i.push(a);const c=i[0]/40|0,d=i[0]%40;if(n?o=i:o=[c,d].concat(i.slice(1)),t){let m=t[o.join(" ")];m===void 0&&(m=t[o.join(".")]),m!==void 0&&(o=m)}return o};ui.prototype._decodeTime=function(e,t){const n=e.raw().toString();let o,i,a,f,c,d;if(t==="gentime")o=n.slice(0,4)|0,i=n.slice(4,6)|0,a=n.slice(6,8)|0,f=n.slice(8,10)|0,c=n.slice(10,12)|0,d=n.slice(12,14)|0;else if(t==="utctime")o=n.slice(0,2)|0,i=n.slice(2,4)|0,a=n.slice(4,6)|0,f=n.slice(6,8)|0,c=n.slice(8,10)|0,d=n.slice(10,12)|0,o<70?o=2e3+o:o=1900+o;else return e.error("Decoding "+t+" time is not supported yet");return Date.UTC(o,i-1,a,f,c,d,0)};ui.prototype._decodeNull=function(){return null};ui.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:t!==0};ui.prototype._decodeInt=function(e,t){const n=e.raw();let o=new NP(n);return t&&(o=t[o.toString(10)]||o),o};ui.prototype._use=function(e,t){return typeof e=="function"&&(e=e(t)),e._getDecoder("der").tree};function mm(r,e){let t=r.readUInt8(e);if(r.isError(t))return t;const n=ry.tagClass[t>>6],o=(t&32)===0;if((t&31)===31){let a=t;for(t=0;(a&128)===128;){if(a=r.readUInt8(e),r.isError(a))return a;t<<=7,t|=a&127}}else t&=31;const i=ry.tag[t];return{cls:n,primitive:o,tag:t,tagStr:i}}function Z4(r,e,t){let n=r.readUInt8(t);if(r.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;const o=n&127;if(o>4)return r.error("length octect is too long");n=0;for(let i=0;i<o;i++){n<<=8;const a=r.readUInt8(t);if(r.isError(a))return a;n|=a}return n}const DP=Ut.exports,FP=um.Buffer,vm=V4;function gm(r){vm.call(this,r),this.enc="pem"}DP(gm,vm);var UP=gm;gm.prototype.decode=function(e,t){const n=e.toString().split(/[\r\n]+/g),o=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,f=-1;for(let m=0;m<n.length;m++){const v=n[m].match(i);if(v!==null&&v[2]===o)if(a===-1){if(v[1]!=="BEGIN")break;a=m}else{if(v[1]!=="END")break;f=m;break}}if(a===-1||f===-1)throw new Error("PEM section not found for: "+o);const c=n.slice(a+1,f).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const d=FP.from(c,"base64");return vm.prototype.decode.call(this,d,t)};(function(r){const e=r;e.der=V4,e.pem=UP})(pm);(function(r){const e=lm,t=pm,n=Ut.exports,o=r;o.define=function(f,c){return new i(f,c)};function i(a,f){this.name=a,this.body=f,this.decoders={},this.encoders={}}i.prototype._createNamed=function(f){const c=this.name;function d(m){this._initNamed(m,c)}return n(d,f),d.prototype._initNamed=function(v,_){f.call(this,v,_)},new d(this)},i.prototype._getDecoder=function(f){return f=f||"der",this.decoders.hasOwnProperty(f)||(this.decoders[f]=this._createNamed(t[f])),this.decoders[f]},i.prototype.decode=function(f,c,d){return this._getDecoder(c).decode(f,d)},i.prototype._getEncoder=function(f){return f=f||"der",this.encoders.hasOwnProperty(f)||(this.encoders[f]=this._createNamed(e[f])),this.encoders[f]},i.prototype.encode=function(f,c,d){return this._getEncoder(c).encode(f,d)}})(U4);var G4={};(function(r){const e=r;e.Reporter=$0.Reporter,e.DecoderBuffer=wa.DecoderBuffer,e.EncoderBuffer=wa.EncoderBuffer,e.Node=cm})(G4);var Y4={};(function(r){const e=r;e._reverse=function(n){const o={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const a=n[i];o[a]=i}),o},e.der=k0})(Y4);(function(r){const e=r;e.bignum=fm.exports,e.define=U4.define,e.base=G4,e.constants=Y4,e.decoders=pm,e.encoders=lm})(am);var no=am,ny=no.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),HP=no.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),ym=no.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),jP=no.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ym),this.key("subjectPublicKey").bitstr())}),zP=no.define("RelativeDistinguishedName",function(){this.setof(HP)}),qP=no.define("RDNSequence",function(){this.seqof(zP)}),iy=no.define("Name",function(){this.choice({rdnSequence:this.use(qP)})}),KP=no.define("Validity",function(){this.seq().obj(this.key("notBefore").use(ny),this.key("notAfter").use(ny))}),WP=no.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),VP=no.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ym),this.key("issuer").use(iy),this.key("validity").use(KP),this.key("subject").use(iy),this.key("subjectPublicKeyInfo").use(jP),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(WP).optional())}),ZP=no.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(VP),this.key("signatureAlgorithm").use(ym),this.key("signatureValue").bitstr())}),GP=ZP,io=am;to.certificate=GP;var YP=io.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});to.RSAPrivateKey=YP;var JP=io.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});to.RSAPublicKey=JP;var XP=io.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(J4),this.key("subjectPublicKey").bitstr())});to.PublicKey=XP;var J4=io.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),QP=io.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(J4),this.key("subjectPrivateKey").octstr())});to.PrivateKey=QP;var eT=io.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});to.EncryptedPrivateKey=eT;var tT=io.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});to.DSAPrivateKey=tT;to.DSAparam=io.define("DSAparam",function(){this.int()});var rT=io.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(nT),this.key("publicKey").optional().explicit(1).bitstr())});to.ECPrivateKey=rT;var nT=io.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});to.signature=io.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const iT={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var oT=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,sT=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,aT=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,fT=u0,lT=si,lc=zt.exports.Buffer,uT=function(r,e){var t=r.toString(),n=t.match(oT),o;if(n){var a="aes"+n[1],f=lc.from(n[2],"hex"),c=lc.from(n[3].replace(/[\r\n]/g,""),"base64"),d=fT(e,f.slice(0,8),parseInt(n[1],10)).key,m=[],v=lT.createDecipheriv(a,d,f);m.push(v.update(c)),m.push(v.final()),o=lc.concat(m)}else{var i=t.match(aT);o=lc.from(i[2].replace(/[\r\n]/g,""),"base64")}var _=t.match(sT)[1];return{tag:_,data:o}},Vn=to,cT=iT,hT=uT,dT=si,pT=a0,Wp=zt.exports.Buffer,S0=X4;function X4(r){var e;typeof r=="object"&&!Wp.isBuffer(r)&&(e=r.passphrase,r=r.key),typeof r=="string"&&(r=Wp.from(r));var t=hT(r,e),n=t.tag,o=t.data,i,a;switch(n){case"CERTIFICATE":a=Vn.certificate.decode(o,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=Vn.PublicKey.decode(o,"der")),i=a.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Vn.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=Vn.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":o=Vn.EncryptedPrivateKey.decode(o,"der"),o=mT(o,e);case"PRIVATE KEY":switch(a=Vn.PrivateKey.decode(o,"der"),i=a.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Vn.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:Vn.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=Vn.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return Vn.RSAPublicKey.decode(o,"der");case"RSA PRIVATE KEY":return Vn.RSAPrivateKey.decode(o,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Vn.DSAPrivateKey.decode(o,"der")};case"EC PRIVATE KEY":return o=Vn.ECPrivateKey.decode(o,"der"),{curve:o.parameters.value,privateKey:o.privateKey};default:throw new Error("unknown key type "+n)}}X4.signature=Vn.signature;function mT(r,e){var t=r.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=cT[r.algorithm.decrypt.cipher.algo.join(".")],i=r.algorithm.decrypt.cipher.iv,a=r.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,c=pT.pbkdf2Sync(e,t,n,f,"sha1"),d=dT.createDecipheriv(o,c,i),m=[];return m.push(d.update(a)),m.push(d.final()),Wp.concat(m)}const Q4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var oy;function vT(){if(oy)return Al.exports;oy=1;var r=zt.exports.Buffer,e=M6,t=tm,n=sm().ec,o=d0.exports,i=S0,a=Q4;function f(A,R,C,T,B){var L=i(R);if(L.curve){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");return c(A,L)}else if(L.type==="dsa"){if(T!=="dsa")throw new Error("wrong private key type");return d(A,L,C)}else if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");A=r.concat([B,A]);for(var j=L.modulus.byteLength(),V=[0,1];A.length+V.length+1<j;)V.push(255);V.push(0);for(var Z=-1;++Z<A.length;)V.push(A[Z]);var Q=t(V,L);return Q}function c(A,R){var C=a[R.curve.join(".")];if(!C)throw new Error("unknown curve "+R.curve.join("."));var T=new n(C),B=T.keyFromPrivate(R.privateKey),L=B.sign(A);return r.from(L.toDER())}function d(A,R,C){for(var T=R.params.priv_key,B=R.params.p,L=R.params.q,j=R.params.g,V=new o(0),Z,Q=_(A,L).mod(L),ne=!1,w=v(T,L,A,C);ne===!1;)Z=k(L,w,C),V=S(j,Z,B,L),ne=Z.invm(L).imul(Q.add(T.mul(V))).mod(L),ne.cmpn(0)===0&&(ne=!1,V=new o(0));return m(V,ne)}function m(A,R){A=A.toArray(),R=R.toArray(),A[0]&128&&(A=[0].concat(A)),R[0]&128&&(R=[0].concat(R));var C=A.length+R.length+4,T=[48,C,2,A.length];return T=T.concat(A,[2,R.length],R),r.from(T)}function v(A,R,C,T){if(A=r.from(A.toArray()),A.length<R.byteLength()){var B=r.alloc(R.byteLength()-A.length);A=r.concat([B,A])}var L=C.length,j=$(C,R),V=r.alloc(L);V.fill(1);var Z=r.alloc(L);return Z=e(T,Z).update(V).update(r.from([0])).update(A).update(j).digest(),V=e(T,Z).update(V).digest(),Z=e(T,Z).update(V).update(r.from([1])).update(A).update(j).digest(),V=e(T,Z).update(V).digest(),{k:Z,v:V}}function _(A,R){var C=new o(A),T=(A.length<<3)-R.bitLength();return T>0&&C.ishrn(T),C}function $(A,R){A=_(A,R),A=A.mod(R);var C=r.from(A.toArray());if(C.length<R.byteLength()){var T=r.alloc(R.byteLength()-C.length);C=r.concat([T,C])}return C}function k(A,R,C){var T,B;do{for(T=r.alloc(0);T.length*8<A.bitLength();)R.v=e(C,R.k).update(R.v).digest(),T=r.concat([T,R.v]);B=_(T,A),R.k=e(C,R.k).update(R.v).update(r.from([0])).digest(),R.v=e(C,R.k).update(R.v).digest()}while(B.cmp(A)!==-1);return B}function S(A,R,C,T){return A.toRed(o.mont(C)).redPow(R).fromRed().mod(T)}return Al.exports=f,Al.exports.getKey=v,Al.exports.makeKey=k,Al.exports}var ep,sy;function gT(){if(sy)return ep;sy=1;var r=zt.exports.Buffer,e=d0.exports,t=sm().ec,n=S0,o=Q4;function i(d,m,v,_,$){var k=n(v);if(k.type==="ec"){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");return a(d,m,k)}else if(k.type==="dsa"){if(_!=="dsa")throw new Error("wrong public key type");return f(d,m,k)}else if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong public key type");m=r.concat([$,m]);for(var S=k.modulus.byteLength(),A=[1],R=0;m.length+A.length+2<S;)A.push(255),R++;A.push(0);for(var C=-1;++C<m.length;)A.push(m[C]);A=r.from(A);var T=e.mont(k.modulus);d=new e(d).toRed(T),d=d.redPow(new e(k.publicExponent)),d=r.from(d.fromRed().toArray());var B=R<8?1:0;for(S=Math.min(d.length,A.length),d.length!==A.length&&(B=1),C=-1;++C<S;)B|=d[C]^A[C];return B===0}function a(d,m,v){var _=o[v.data.algorithm.curve.join(".")];if(!_)throw new Error("unknown curve "+v.data.algorithm.curve.join("."));var $=new t(_),k=v.data.subjectPrivateKey.data;return $.verify(m,d,k)}function f(d,m,v){var _=v.data.p,$=v.data.q,k=v.data.g,S=v.data.pub_key,A=n.signature.decode(d,"der"),R=A.s,C=A.r;c(R,$),c(C,$);var T=e.mont(_),B=R.invm($),L=k.toRed(T).redPow(new e(m).mul(B).mod($)).fromRed().mul(S.toRed(T).redPow(C.mul(B).mod($)).fromRed()).mod(_).mod($);return L.cmp(C)===0}function c(d,m){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(m)>=m)throw new Error("invalid sig")}return ep=i,ep}var tp,ay;function yT(){if(ay)return tp;ay=1;var r=zt.exports.Buffer,e=Eu,t=ah.exports,n=Ut.exports,o=vT(),i=gT(),a=x6;Object.keys(a).forEach(function(v){a[v].id=r.from(a[v].id,"hex"),a[v.toLowerCase()]=a[v]});function f(v){t.Writable.call(this);var _=a[v];if(!_)throw new Error("Unknown message digest");this._hashType=_.hash,this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}n(f,t.Writable),f.prototype._write=function(_,$,k){this._hash.update(_),k()},f.prototype.update=function(_,$){return typeof _=="string"&&(_=r.from(_,$)),this._hash.update(_),this},f.prototype.sign=function(_,$){this.end();var k=this._hash.digest(),S=o(k,_,this._hashType,this._signType,this._tag);return $?S.toString($):S};function c(v){t.Writable.call(this);var _=a[v];if(!_)throw new Error("Unknown message digest");this._hash=e(_.hash),this._tag=_.id,this._signType=_.sign}n(c,t.Writable),c.prototype._write=function(_,$,k){this._hash.update(_),k()},c.prototype.update=function(_,$){return typeof _=="string"&&(_=r.from(_,$)),this._hash.update(_),this},c.prototype.verify=function(_,$,k){typeof $=="string"&&($=r.from($,k)),this.end();var S=this._hash.digest();return i($,S,_,this._signType,this._tag)};function d(v){return new f(v)}function m(v){return new c(v)}return tp={Sign:d,Verify:m,createSign:d,createVerify:m},tp}var e8={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(e8);var rp,fy;function bT(){if(fy)return rp;fy=1;var r=sm(),e=e8.exports;rp=function(a){return new n(a)};var t={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};t.p224=t.secp224r1,t.p256=t.secp256r1=t.prime256v1,t.p192=t.secp192r1=t.prime192v1,t.p384=t.secp384r1,t.p521=t.secp521r1;function n(i){this.curveType=t[i],this.curveType||(this.curveType={name:i}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,a){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,a)},n.prototype.computeSecret=function(i,a,f){a=a||"utf8",Dt.Buffer.isBuffer(i)||(i=new Dt.Buffer(i,a));var c=this.curve.keyFromPublic(i).getPublic(),d=c.mul(this.keys.getPrivate()).getX();return o(d,f,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,a){var f=this.keys.getPublic(a==="compressed",!0);return a==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),o(f,i)},n.prototype.getPrivateKey=function(i){return o(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,a){return a=a||"utf8",Dt.Buffer.isBuffer(i)||(i=new Dt.Buffer(i,a)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,a){a=a||"utf8",Dt.Buffer.isBuffer(i)||(i=new Dt.Buffer(i,a));var f=new e(i);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this};function o(i,a,f){Array.isArray(i)||(i=i.toArray());var c=new Dt.Buffer(i);if(f&&c.length<f){var d=new Dt.Buffer(f-c.length);d.fill(0),c=Dt.Buffer.concat([d,c])}return a?c.toString(a):c}return rp}var t8={},_T=Eu,Vp=zt.exports.Buffer,r8=function(r,e){for(var t=Vp.alloc(0),n=0,o;t.length<e;)o=wT(n++),t=Vp.concat([t,_T("sha1").update(r).update(o).digest()]);return t.slice(0,e)};function wT(r){var e=Vp.allocUnsafe(4);return e.writeUInt32BE(r,0),e}var n8=function(e,t){for(var n=e.length,o=-1;++o<n;)e[o]^=t[o];return e},E0={exports:{}};(function(r){(function(e,t){function n(w,s){if(!w)throw new Error(s||"Assertion failed")}function o(w,s){w.super_=s;var u=function(){};u.prototype=s.prototype,w.prototype=new u,w.prototype.constructor=w}function i(w,s,u){if(i.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((s==="le"||s==="be")&&(u=s,s=10),this._init(w||0,s||10,u||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Dt.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,u){return s.cmp(u)>0?s:u},i.min=function(s,u){return s.cmp(u)<0?s:u},i.prototype._init=function(s,u,h){if(typeof s=="number")return this._initNumber(s,u,h);if(typeof s=="object")return this._initArray(s,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(u===16?this._parseHex(s,p,h):(this._parseBase(s,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},i.prototype._initNumber=function(s,u,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},i.prototype._initArray=function(s,u,h){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,M,x=0;if(h==="be")for(p=s.length-1,g=0;p>=0;p-=3)M=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);else if(h==="le")for(p=0,g=0;p<s.length;p+=3)M=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=M<<x&67108863,this.words[g+1]=M>>>26-x&67108863,x+=24,x>=26&&(x-=26,g++);return this.strip()};function f(w,s){var u=w.charCodeAt(s);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function c(w,s,u){var h=f(w,u);return u-1>=s&&(h|=f(w,u-1)<<4),h}i.prototype._parseHex=function(s,u,h){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,M=0,x;if(h==="be")for(p=s.length-1;p>=u;p-=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8;else{var y=s.length-u;for(p=y%2===0?u+1:u;p<s.length;p+=2)x=c(s,u,p)<<g,this.words[M]|=x&67108863,g>=18?(g-=18,M+=1,this.words[M]|=x>>>26):g+=8}this.strip()};function d(w,s,u,h){for(var p=0,g=Math.min(w.length,u),M=s;M<g;M++){var x=w.charCodeAt(M)-48;p*=h,x>=49?p+=x-49+10:x>=17?p+=x-17+10:p+=x}return p}i.prototype._parseBase=function(s,u,h){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=u)p++;p--,g=g/u|0;for(var M=s.length-h,x=M%p,y=Math.min(M,M-x)+h,l=0,b=h;b<y;b+=p)l=d(s,b,b+p,u),this.imuln(g),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(x!==0){var E=1;for(l=d(s,b,s.length,u),b=0;b<x;b++)E*=u;this.imuln(E),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,u){s=s||10,u=u|0||1;var h;if(s===16||s==="hex"){h="";for(var p=0,g=0,M=0;M<this.length;M++){var x=this.words[M],y=((x<<p|g)&16777215).toString(16);g=x>>>24-p&16777215,g!==0||M!==this.length-1?h=m[6-y.length]+y+h:h=y+h,p+=2,p>=26&&(p-=26,M--)}for(g!==0&&(h=g.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var l=v[s],b=_[s];h="";var E=this.clone();for(E.negative=0;!E.isZero();){var P=E.modn(b).toString(s);E=E.idivn(b),E.isZero()?h=P+h:h=m[l-P.length]+P+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,u){return n(typeof a<"u"),this.toArrayLike(a,s,u)},i.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)},i.prototype.toArrayLike=function(s,u,h){var p=this.byteLength(),g=h||Math.max(1,p);n(p<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var M=u==="le",x=new s(g),y,l,b=this.clone();if(M){for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[l]=y;for(;l<g;l++)x[l]=0}else{for(l=0;l<g-p;l++)x[l]=0;for(l=0;!b.isZero();l++)y=b.andln(255),b.iushrn(8),x[g-l-1]=y}return x},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var u=s,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},i.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,h=0;return(u&8191)===0&&(h+=13,u>>>=13),(u&127)===0&&(h+=7,u>>>=7),(u&15)===0&&(h+=4,u>>>=4),(u&3)===0&&(h+=2,u>>>=2),(u&1)===0&&h++,h},i.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function $(w){for(var s=new Array(w.bitLength()),u=0;u<s.length;u++){var h=u/26|0,p=u%26;s[u]=(w.words[h]&1<<p)>>>p}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(s+=h,h!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=u.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var u,h;this.length>s.length?(u=this,h=s):(u=s,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,h=s%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,u){n(typeof s=="number"&&s>=0);var h=s/26|0,p=s%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this.strip()},i.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var h,p;this.length>s.length?(h=this,p=s):(h=s,p=this);for(var g=0,M=0;M<p.length;M++)u=(h.words[M]|0)+(p.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;for(;g!==0&&M<h.length;M++)u=(h.words[M]|0)+g,this.words[M]=u&67108863,g=u>>>26;if(this.length=h.length,g!==0)this.words[this.length]=g,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;h>0?(p=this,g=s):(p=s,g=this);for(var M=0,x=0;x<g.length;x++)u=(p.words[x]|0)-(g.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;for(;M!==0&&x<p.length;x++)u=(p.words[x]|0)+M,M=u>>26,this.words[x]=u&67108863;if(M===0&&x<p.length&&p!==this)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=Math.max(this.length,x),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(w,s,u){u.negative=s.negative^w.negative;var h=w.length+s.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,g=s.words[0]|0,M=p*g,x=M&67108863,y=M/67108864|0;u.words[0]=x;for(var l=1;l<h;l++){for(var b=y>>>26,E=y&67108863,P=Math.min(l,s.length-1),H=Math.max(0,l-w.length+1);H<=P;H++){var ee=l-H|0;p=w.words[ee]|0,g=s.words[H]|0,M=p*g+E,b+=M/67108864|0,E=M&67108863}u.words[l]=E|0,y=b|0}return y!==0?u.words[l]=y|0:u.length--,u.strip()}var S=function(s,u,h){var p=s.words,g=u.words,M=h.words,x=0,y,l,b,E=p[0]|0,P=E&8191,H=E>>>13,ee=p[1]|0,Y=ee&8191,re=ee>>>13,Me=p[2]|0,de=Me&8191,_e=Me>>>13,te=p[3]|0,X=te&8191,ye=te>>>13,Ge=p[4]|0,Pe=Ge&8191,W=Ge>>>13,U=p[5]|0,N=U&8191,G=U>>>13,ke=p[6]|0,ge=ke&8191,xe=ke>>>13,ot=p[7]|0,Ie=ot&8191,je=ot>>>13,ht=p[8]|0,De=ht&8191,ze=ht>>>13,xt=p[9]|0,qe=xt&8191,Ye=xt>>>13,St=g[0]|0,Ke=St&8191,we=St>>>13,nt=g[1]|0,Ne=nt&8191,Re=nt>>>13,ve=g[2]|0,ie=ve&8191,se=ve>>>13,Ee=g[3]|0,ce=Ee&8191,be=Ee>>>13,Qe=g[4]|0,Ae=Qe&8191,Te=Qe>>>13,it=g[5]|0,Oe=it&8191,pe=it>>>13,et=g[6]|0,Ce=et&8191,He=et>>>13,mt=g[7]|0,Ue=mt&8191,Ve=mt>>>13,bt=g[8]|0,$e=bt&8191,Se=bt>>>13,Et=g[9]|0,Ze=Et&8191,Je=Et>>>13;h.negative=s.negative^u.negative,h.length=19,y=Math.imul(P,Ke),l=Math.imul(P,we),l=l+Math.imul(H,Ke)|0,b=Math.imul(H,we);var Pt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(Y,Ke),l=Math.imul(Y,we),l=l+Math.imul(re,Ke)|0,b=Math.imul(re,we),y=y+Math.imul(P,Ne)|0,l=l+Math.imul(P,Re)|0,l=l+Math.imul(H,Ne)|0,b=b+Math.imul(H,Re)|0;var Bt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(de,Ke),l=Math.imul(de,we),l=l+Math.imul(_e,Ke)|0,b=Math.imul(_e,we),y=y+Math.imul(Y,Ne)|0,l=l+Math.imul(Y,Re)|0,l=l+Math.imul(re,Ne)|0,b=b+Math.imul(re,Re)|0,y=y+Math.imul(P,ie)|0,l=l+Math.imul(P,se)|0,l=l+Math.imul(H,ie)|0,b=b+Math.imul(H,se)|0;var qt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(qt>>>26)|0,qt&=67108863,y=Math.imul(X,Ke),l=Math.imul(X,we),l=l+Math.imul(ye,Ke)|0,b=Math.imul(ye,we),y=y+Math.imul(de,Ne)|0,l=l+Math.imul(de,Re)|0,l=l+Math.imul(_e,Ne)|0,b=b+Math.imul(_e,Re)|0,y=y+Math.imul(Y,ie)|0,l=l+Math.imul(Y,se)|0,l=l+Math.imul(re,ie)|0,b=b+Math.imul(re,se)|0,y=y+Math.imul(P,ce)|0,l=l+Math.imul(P,be)|0,l=l+Math.imul(H,ce)|0,b=b+Math.imul(H,be)|0;var hr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(Pe,Ke),l=Math.imul(Pe,we),l=l+Math.imul(W,Ke)|0,b=Math.imul(W,we),y=y+Math.imul(X,Ne)|0,l=l+Math.imul(X,Re)|0,l=l+Math.imul(ye,Ne)|0,b=b+Math.imul(ye,Re)|0,y=y+Math.imul(de,ie)|0,l=l+Math.imul(de,se)|0,l=l+Math.imul(_e,ie)|0,b=b+Math.imul(_e,se)|0,y=y+Math.imul(Y,ce)|0,l=l+Math.imul(Y,be)|0,l=l+Math.imul(re,ce)|0,b=b+Math.imul(re,be)|0,y=y+Math.imul(P,Ae)|0,l=l+Math.imul(P,Te)|0,l=l+Math.imul(H,Ae)|0,b=b+Math.imul(H,Te)|0;var Zt=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,y=Math.imul(N,Ke),l=Math.imul(N,we),l=l+Math.imul(G,Ke)|0,b=Math.imul(G,we),y=y+Math.imul(Pe,Ne)|0,l=l+Math.imul(Pe,Re)|0,l=l+Math.imul(W,Ne)|0,b=b+Math.imul(W,Re)|0,y=y+Math.imul(X,ie)|0,l=l+Math.imul(X,se)|0,l=l+Math.imul(ye,ie)|0,b=b+Math.imul(ye,se)|0,y=y+Math.imul(de,ce)|0,l=l+Math.imul(de,be)|0,l=l+Math.imul(_e,ce)|0,b=b+Math.imul(_e,be)|0,y=y+Math.imul(Y,Ae)|0,l=l+Math.imul(Y,Te)|0,l=l+Math.imul(re,Ae)|0,b=b+Math.imul(re,Te)|0,y=y+Math.imul(P,Oe)|0,l=l+Math.imul(P,pe)|0,l=l+Math.imul(H,Oe)|0,b=b+Math.imul(H,pe)|0;var dr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(dr>>>26)|0,dr&=67108863,y=Math.imul(ge,Ke),l=Math.imul(ge,we),l=l+Math.imul(xe,Ke)|0,b=Math.imul(xe,we),y=y+Math.imul(N,Ne)|0,l=l+Math.imul(N,Re)|0,l=l+Math.imul(G,Ne)|0,b=b+Math.imul(G,Re)|0,y=y+Math.imul(Pe,ie)|0,l=l+Math.imul(Pe,se)|0,l=l+Math.imul(W,ie)|0,b=b+Math.imul(W,se)|0,y=y+Math.imul(X,ce)|0,l=l+Math.imul(X,be)|0,l=l+Math.imul(ye,ce)|0,b=b+Math.imul(ye,be)|0,y=y+Math.imul(de,Ae)|0,l=l+Math.imul(de,Te)|0,l=l+Math.imul(_e,Ae)|0,b=b+Math.imul(_e,Te)|0,y=y+Math.imul(Y,Oe)|0,l=l+Math.imul(Y,pe)|0,l=l+Math.imul(re,Oe)|0,b=b+Math.imul(re,pe)|0,y=y+Math.imul(P,Ce)|0,l=l+Math.imul(P,He)|0,l=l+Math.imul(H,Ce)|0,b=b+Math.imul(H,He)|0;var wr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Ie,Ke),l=Math.imul(Ie,we),l=l+Math.imul(je,Ke)|0,b=Math.imul(je,we),y=y+Math.imul(ge,Ne)|0,l=l+Math.imul(ge,Re)|0,l=l+Math.imul(xe,Ne)|0,b=b+Math.imul(xe,Re)|0,y=y+Math.imul(N,ie)|0,l=l+Math.imul(N,se)|0,l=l+Math.imul(G,ie)|0,b=b+Math.imul(G,se)|0,y=y+Math.imul(Pe,ce)|0,l=l+Math.imul(Pe,be)|0,l=l+Math.imul(W,ce)|0,b=b+Math.imul(W,be)|0,y=y+Math.imul(X,Ae)|0,l=l+Math.imul(X,Te)|0,l=l+Math.imul(ye,Ae)|0,b=b+Math.imul(ye,Te)|0,y=y+Math.imul(de,Oe)|0,l=l+Math.imul(de,pe)|0,l=l+Math.imul(_e,Oe)|0,b=b+Math.imul(_e,pe)|0,y=y+Math.imul(Y,Ce)|0,l=l+Math.imul(Y,He)|0,l=l+Math.imul(re,Ce)|0,b=b+Math.imul(re,He)|0,y=y+Math.imul(P,Ue)|0,l=l+Math.imul(P,Ve)|0,l=l+Math.imul(H,Ue)|0,b=b+Math.imul(H,Ve)|0;var Mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,y=Math.imul(De,Ke),l=Math.imul(De,we),l=l+Math.imul(ze,Ke)|0,b=Math.imul(ze,we),y=y+Math.imul(Ie,Ne)|0,l=l+Math.imul(Ie,Re)|0,l=l+Math.imul(je,Ne)|0,b=b+Math.imul(je,Re)|0,y=y+Math.imul(ge,ie)|0,l=l+Math.imul(ge,se)|0,l=l+Math.imul(xe,ie)|0,b=b+Math.imul(xe,se)|0,y=y+Math.imul(N,ce)|0,l=l+Math.imul(N,be)|0,l=l+Math.imul(G,ce)|0,b=b+Math.imul(G,be)|0,y=y+Math.imul(Pe,Ae)|0,l=l+Math.imul(Pe,Te)|0,l=l+Math.imul(W,Ae)|0,b=b+Math.imul(W,Te)|0,y=y+Math.imul(X,Oe)|0,l=l+Math.imul(X,pe)|0,l=l+Math.imul(ye,Oe)|0,b=b+Math.imul(ye,pe)|0,y=y+Math.imul(de,Ce)|0,l=l+Math.imul(de,He)|0,l=l+Math.imul(_e,Ce)|0,b=b+Math.imul(_e,He)|0,y=y+Math.imul(Y,Ue)|0,l=l+Math.imul(Y,Ve)|0,l=l+Math.imul(re,Ue)|0,b=b+Math.imul(re,Ve)|0,y=y+Math.imul(P,$e)|0,l=l+Math.imul(P,Se)|0,l=l+Math.imul(H,$e)|0,b=b+Math.imul(H,Se)|0;var sr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(sr>>>26)|0,sr&=67108863,y=Math.imul(qe,Ke),l=Math.imul(qe,we),l=l+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,we),y=y+Math.imul(De,Ne)|0,l=l+Math.imul(De,Re)|0,l=l+Math.imul(ze,Ne)|0,b=b+Math.imul(ze,Re)|0,y=y+Math.imul(Ie,ie)|0,l=l+Math.imul(Ie,se)|0,l=l+Math.imul(je,ie)|0,b=b+Math.imul(je,se)|0,y=y+Math.imul(ge,ce)|0,l=l+Math.imul(ge,be)|0,l=l+Math.imul(xe,ce)|0,b=b+Math.imul(xe,be)|0,y=y+Math.imul(N,Ae)|0,l=l+Math.imul(N,Te)|0,l=l+Math.imul(G,Ae)|0,b=b+Math.imul(G,Te)|0,y=y+Math.imul(Pe,Oe)|0,l=l+Math.imul(Pe,pe)|0,l=l+Math.imul(W,Oe)|0,b=b+Math.imul(W,pe)|0,y=y+Math.imul(X,Ce)|0,l=l+Math.imul(X,He)|0,l=l+Math.imul(ye,Ce)|0,b=b+Math.imul(ye,He)|0,y=y+Math.imul(de,Ue)|0,l=l+Math.imul(de,Ve)|0,l=l+Math.imul(_e,Ue)|0,b=b+Math.imul(_e,Ve)|0,y=y+Math.imul(Y,$e)|0,l=l+Math.imul(Y,Se)|0,l=l+Math.imul(re,$e)|0,b=b+Math.imul(re,Se)|0,y=y+Math.imul(P,Ze)|0,l=l+Math.imul(P,Je)|0,l=l+Math.imul(H,Ze)|0,b=b+Math.imul(H,Je)|0;var $r=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(qe,Ne),l=Math.imul(qe,Re),l=l+Math.imul(Ye,Ne)|0,b=Math.imul(Ye,Re),y=y+Math.imul(De,ie)|0,l=l+Math.imul(De,se)|0,l=l+Math.imul(ze,ie)|0,b=b+Math.imul(ze,se)|0,y=y+Math.imul(Ie,ce)|0,l=l+Math.imul(Ie,be)|0,l=l+Math.imul(je,ce)|0,b=b+Math.imul(je,be)|0,y=y+Math.imul(ge,Ae)|0,l=l+Math.imul(ge,Te)|0,l=l+Math.imul(xe,Ae)|0,b=b+Math.imul(xe,Te)|0,y=y+Math.imul(N,Oe)|0,l=l+Math.imul(N,pe)|0,l=l+Math.imul(G,Oe)|0,b=b+Math.imul(G,pe)|0,y=y+Math.imul(Pe,Ce)|0,l=l+Math.imul(Pe,He)|0,l=l+Math.imul(W,Ce)|0,b=b+Math.imul(W,He)|0,y=y+Math.imul(X,Ue)|0,l=l+Math.imul(X,Ve)|0,l=l+Math.imul(ye,Ue)|0,b=b+Math.imul(ye,Ve)|0,y=y+Math.imul(de,$e)|0,l=l+Math.imul(de,Se)|0,l=l+Math.imul(_e,$e)|0,b=b+Math.imul(_e,Se)|0,y=y+Math.imul(Y,Ze)|0,l=l+Math.imul(Y,Je)|0,l=l+Math.imul(re,Ze)|0,b=b+Math.imul(re,Je)|0;var xr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(xr>>>26)|0,xr&=67108863,y=Math.imul(qe,ie),l=Math.imul(qe,se),l=l+Math.imul(Ye,ie)|0,b=Math.imul(Ye,se),y=y+Math.imul(De,ce)|0,l=l+Math.imul(De,be)|0,l=l+Math.imul(ze,ce)|0,b=b+Math.imul(ze,be)|0,y=y+Math.imul(Ie,Ae)|0,l=l+Math.imul(Ie,Te)|0,l=l+Math.imul(je,Ae)|0,b=b+Math.imul(je,Te)|0,y=y+Math.imul(ge,Oe)|0,l=l+Math.imul(ge,pe)|0,l=l+Math.imul(xe,Oe)|0,b=b+Math.imul(xe,pe)|0,y=y+Math.imul(N,Ce)|0,l=l+Math.imul(N,He)|0,l=l+Math.imul(G,Ce)|0,b=b+Math.imul(G,He)|0,y=y+Math.imul(Pe,Ue)|0,l=l+Math.imul(Pe,Ve)|0,l=l+Math.imul(W,Ue)|0,b=b+Math.imul(W,Ve)|0,y=y+Math.imul(X,$e)|0,l=l+Math.imul(X,Se)|0,l=l+Math.imul(ye,$e)|0,b=b+Math.imul(ye,Se)|0,y=y+Math.imul(de,Ze)|0,l=l+Math.imul(de,Je)|0,l=l+Math.imul(_e,Ze)|0,b=b+Math.imul(_e,Je)|0;var rr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(rr>>>26)|0,rr&=67108863,y=Math.imul(qe,ce),l=Math.imul(qe,be),l=l+Math.imul(Ye,ce)|0,b=Math.imul(Ye,be),y=y+Math.imul(De,Ae)|0,l=l+Math.imul(De,Te)|0,l=l+Math.imul(ze,Ae)|0,b=b+Math.imul(ze,Te)|0,y=y+Math.imul(Ie,Oe)|0,l=l+Math.imul(Ie,pe)|0,l=l+Math.imul(je,Oe)|0,b=b+Math.imul(je,pe)|0,y=y+Math.imul(ge,Ce)|0,l=l+Math.imul(ge,He)|0,l=l+Math.imul(xe,Ce)|0,b=b+Math.imul(xe,He)|0,y=y+Math.imul(N,Ue)|0,l=l+Math.imul(N,Ve)|0,l=l+Math.imul(G,Ue)|0,b=b+Math.imul(G,Ve)|0,y=y+Math.imul(Pe,$e)|0,l=l+Math.imul(Pe,Se)|0,l=l+Math.imul(W,$e)|0,b=b+Math.imul(W,Se)|0,y=y+Math.imul(X,Ze)|0,l=l+Math.imul(X,Je)|0,l=l+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,Je)|0;var pr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(pr>>>26)|0,pr&=67108863,y=Math.imul(qe,Ae),l=Math.imul(qe,Te),l=l+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Te),y=y+Math.imul(De,Oe)|0,l=l+Math.imul(De,pe)|0,l=l+Math.imul(ze,Oe)|0,b=b+Math.imul(ze,pe)|0,y=y+Math.imul(Ie,Ce)|0,l=l+Math.imul(Ie,He)|0,l=l+Math.imul(je,Ce)|0,b=b+Math.imul(je,He)|0,y=y+Math.imul(ge,Ue)|0,l=l+Math.imul(ge,Ve)|0,l=l+Math.imul(xe,Ue)|0,b=b+Math.imul(xe,Ve)|0,y=y+Math.imul(N,$e)|0,l=l+Math.imul(N,Se)|0,l=l+Math.imul(G,$e)|0,b=b+Math.imul(G,Se)|0,y=y+Math.imul(Pe,Ze)|0,l=l+Math.imul(Pe,Je)|0,l=l+Math.imul(W,Ze)|0,b=b+Math.imul(W,Je)|0;var or=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(qe,Oe),l=Math.imul(qe,pe),l=l+Math.imul(Ye,Oe)|0,b=Math.imul(Ye,pe),y=y+Math.imul(De,Ce)|0,l=l+Math.imul(De,He)|0,l=l+Math.imul(ze,Ce)|0,b=b+Math.imul(ze,He)|0,y=y+Math.imul(Ie,Ue)|0,l=l+Math.imul(Ie,Ve)|0,l=l+Math.imul(je,Ue)|0,b=b+Math.imul(je,Ve)|0,y=y+Math.imul(ge,$e)|0,l=l+Math.imul(ge,Se)|0,l=l+Math.imul(xe,$e)|0,b=b+Math.imul(xe,Se)|0,y=y+Math.imul(N,Ze)|0,l=l+Math.imul(N,Je)|0,l=l+Math.imul(G,Ze)|0,b=b+Math.imul(G,Je)|0;var mr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(mr>>>26)|0,mr&=67108863,y=Math.imul(qe,Ce),l=Math.imul(qe,He),l=l+Math.imul(Ye,Ce)|0,b=Math.imul(Ye,He),y=y+Math.imul(De,Ue)|0,l=l+Math.imul(De,Ve)|0,l=l+Math.imul(ze,Ue)|0,b=b+Math.imul(ze,Ve)|0,y=y+Math.imul(Ie,$e)|0,l=l+Math.imul(Ie,Se)|0,l=l+Math.imul(je,$e)|0,b=b+Math.imul(je,Se)|0,y=y+Math.imul(ge,Ze)|0,l=l+Math.imul(ge,Je)|0,l=l+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,Je)|0;var vr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,y=Math.imul(qe,Ue),l=Math.imul(qe,Ve),l=l+Math.imul(Ye,Ue)|0,b=Math.imul(Ye,Ve),y=y+Math.imul(De,$e)|0,l=l+Math.imul(De,Se)|0,l=l+Math.imul(ze,$e)|0,b=b+Math.imul(ze,Se)|0,y=y+Math.imul(Ie,Ze)|0,l=l+Math.imul(Ie,Je)|0,l=l+Math.imul(je,Ze)|0,b=b+Math.imul(je,Je)|0;var kr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(qe,$e),l=Math.imul(qe,Se),l=l+Math.imul(Ye,$e)|0,b=Math.imul(Ye,Se),y=y+Math.imul(De,Ze)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(ze,Ze)|0,b=b+Math.imul(ze,Je)|0;var gr=(x+y|0)+((l&8191)<<13)|0;x=(b+(l>>>13)|0)+(gr>>>26)|0,gr&=67108863,y=Math.imul(qe,Ze),l=Math.imul(qe,Je),l=l+Math.imul(Ye,Ze)|0,b=Math.imul(Ye,Je);var ar=(x+y|0)+((l&8191)<<13)|0;return x=(b+(l>>>13)|0)+(ar>>>26)|0,ar&=67108863,M[0]=Pt,M[1]=Bt,M[2]=qt,M[3]=hr,M[4]=Zt,M[5]=dr,M[6]=wr,M[7]=Mr,M[8]=sr,M[9]=$r,M[10]=xr,M[11]=rr,M[12]=pr,M[13]=or,M[14]=mr,M[15]=vr,M[16]=kr,M[17]=gr,M[18]=ar,x!==0&&(M[19]=x,h.length++),h};Math.imul||(S=k);function A(w,s,u){u.negative=s.negative^w.negative,u.length=w.length+s.length;for(var h=0,p=0,g=0;g<u.length-1;g++){var M=p;p=0;for(var x=h&67108863,y=Math.min(g,s.length-1),l=Math.max(0,g-w.length+1);l<=y;l++){var b=g-l,E=w.words[b]|0,P=s.words[l]|0,H=E*P,ee=H&67108863;M=M+(H/67108864|0)|0,ee=ee+x|0,x=ee&67108863,M=M+(ee>>>26)|0,p+=M>>>26,M&=67108863}u.words[g]=x,h=M,M=p}return h!==0?u.words[g]=h:u.length--,u.strip()}function R(w,s,u){var h=new C;return h.mulp(w,s,u)}i.prototype.mulTo=function(s,u){var h,p=this.length+s.length;return this.length===10&&s.length===10?h=S(this,s,u):p<63?h=k(this,s,u):p<1024?h=A(this,s,u):h=R(this,s,u),h};function C(w,s){this.x=w,this.y=s}C.prototype.makeRBT=function(s){for(var u=new Array(s),h=i.prototype._countBits(s)-1,p=0;p<s;p++)u[p]=this.revBin(p,h,s);return u},C.prototype.revBin=function(s,u,h){if(s===0||s===h-1)return s;for(var p=0,g=0;g<u;g++)p|=(s&1)<<u-g-1,s>>=1;return p},C.prototype.permute=function(s,u,h,p,g,M){for(var x=0;x<M;x++)p[x]=u[s[x]],g[x]=h[s[x]]},C.prototype.transform=function(s,u,h,p,g,M){this.permute(M,s,u,h,p,g);for(var x=1;x<g;x<<=1)for(var y=x<<1,l=Math.cos(2*Math.PI/y),b=Math.sin(2*Math.PI/y),E=0;E<g;E+=y)for(var P=l,H=b,ee=0;ee<x;ee++){var Y=h[E+ee],re=p[E+ee],Me=h[E+ee+x],de=p[E+ee+x],_e=P*Me-H*de;de=P*de+H*Me,Me=_e,h[E+ee]=Y+Me,p[E+ee]=re+de,h[E+ee+x]=Y-Me,p[E+ee+x]=re-de,ee!==y&&(_e=l*P-b*H,H=l*H+b*P,P=_e)}},C.prototype.guessLen13b=function(s,u){var h=Math.max(u,s)|1,p=h&1,g=0;for(h=h/2|0;h;h=h>>>1)g++;return 1<<g+1+p},C.prototype.conjugate=function(s,u,h){if(!(h<=1))for(var p=0;p<h/2;p++){var g=s[p];s[p]=s[h-p-1],s[h-p-1]=g,g=u[p],u[p]=-u[h-p-1],u[h-p-1]=-g}},C.prototype.normalize13b=function(s,u){for(var h=0,p=0;p<u/2;p++){var g=Math.round(s[2*p+1]/u)*8192+Math.round(s[2*p]/u)+h;s[p]=g&67108863,g<67108864?h=0:h=g/67108864|0}return s},C.prototype.convert13b=function(s,u,h,p){for(var g=0,M=0;M<u;M++)g=g+(s[M]|0),h[2*M]=g&8191,g=g>>>13,h[2*M+1]=g&8191,g=g>>>13;for(M=2*u;M<p;++M)h[M]=0;n(g===0),n((g&-8192)===0)},C.prototype.stub=function(s){for(var u=new Array(s),h=0;h<s;h++)u[h]=0;return u},C.prototype.mulp=function(s,u,h){var p=2*this.guessLen13b(s.length,u.length),g=this.makeRBT(p),M=this.stub(p),x=new Array(p),y=new Array(p),l=new Array(p),b=new Array(p),E=new Array(p),P=new Array(p),H=h.words;H.length=p,this.convert13b(s.words,s.length,x,p),this.convert13b(u.words,u.length,b,p),this.transform(x,M,y,l,p,g),this.transform(b,M,E,P,p,g);for(var ee=0;ee<p;ee++){var Y=y[ee]*E[ee]-l[ee]*P[ee];l[ee]=y[ee]*P[ee]+l[ee]*E[ee],y[ee]=Y}return this.conjugate(y,l,p),this.transform(y,l,H,M,p,g),this.conjugate(H,M,p),this.normalize13b(H,p),h.negative=s.negative^u.negative,h.length=s.length+u.length,h.strip()},i.prototype.mul=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},i.prototype.mulf=function(s){var u=new i(null);return u.words=new Array(this.length+s.length),R(this,s,u)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var u=0,h=0;h<this.length;h++){var p=(this.words[h]|0)*s,g=(p&67108863)+(u&67108863);u>>=26,u+=p/67108864|0,u+=g>>>26,this.words[h]=g&67108863}return u!==0&&(this.words[h]=u,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var u=$(s);if(u.length===0)return new i(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var g=h.sqr();p<u.length;p++,g=g.sqr())u[p]!==0&&(h=h.mul(g));return h},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=67108863>>>26-u<<26-u,g;if(u!==0){var M=0;for(g=0;g<this.length;g++){var x=this.words[g]&p,y=(this.words[g]|0)-x<<u;this.words[g]=y|M,M=x>>>26-u}M&&(this.words[g]=M,this.length++)}if(h!==0){for(g=this.length-1;g>=0;g--)this.words[g+h]=this.words[g];for(g=0;g<h;g++)this.words[g]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,u,h){n(typeof s=="number"&&s>=0);var p;u?p=(u-u%26)/26:p=0;var g=s%26,M=Math.min((s-g)/26,this.length),x=67108863^67108863>>>g<<g,y=h;if(p-=M,p=Math.max(0,p),y){for(var l=0;l<M;l++)y.words[l]=this.words[l];y.length=M}if(M!==0)if(this.length>M)for(this.length-=M,l=0;l<this.length;l++)this.words[l]=this.words[l+M];else this.words[0]=0,this.length=1;var b=0;for(l=this.length-1;l>=0&&(b!==0||l>=p);l--){var E=this.words[l]|0;this.words[l]=b<<26-g|E>>>g,b=E&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,u,h){return n(this.negative===0),this.iushrn(s,u,h)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return!1;var g=this.words[h];return!!(g&p)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var u=s%26,h=(s-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,u,h){var p=s.length+h,g;this._expand(p);var M,x=0;for(g=0;g<s.length;g++){M=(this.words[g+h]|0)+x;var y=(s.words[g]|0)*u;M-=y&67108863,x=(M>>26)-(y/67108864|0),this.words[g+h]=M&67108863}for(;g<this.length-h;g++)M=(this.words[g+h]|0)+x,x=M>>26,this.words[g+h]=M&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,g=0;g<this.length;g++)M=-(this.words[g]|0)+x,x=M>>26,this.words[g]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,u){var h=this.length-s.length,p=this.clone(),g=s,M=g.words[g.length-1]|0,x=this._countBits(M);h=26-x,h!==0&&(g=g.ushln(h),p.iushln(h),M=g.words[g.length-1]|0);var y=p.length-g.length,l;if(u!=="mod"){l=new i(null),l.length=y+1,l.words=new Array(l.length);for(var b=0;b<l.length;b++)l.words[b]=0}var E=p.clone()._ishlnsubmul(g,1,y);E.negative===0&&(p=E,l&&(l.words[y]=1));for(var P=y-1;P>=0;P--){var H=(p.words[g.length+P]|0)*67108864+(p.words[g.length+P-1]|0);for(H=Math.min(H/M|0,67108863),p._ishlnsubmul(g,H,P);p.negative!==0;)H--,p.negative=0,p._ishlnsubmul(g,1,P),p.isZero()||(p.negative^=1);l&&(l.words[P]=H)}return l&&l.strip(),p.strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:l||null,mod:p}},i.prototype.divmod=function(s,u,h){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(p=M.div.neg()),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(p=M.div.neg()),{div:p,mod:M.mod}):(this.negative&s.negative)!==0?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(g=M.mod.neg(),h&&g.negative!==0&&g.isub(s)),{div:M.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,u)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(s):u.mod,p=s.ushrn(1),g=s.andln(1),M=h.cmp(p);return M<0||g===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var u=(1<<26)%s,h=0,p=this.length-1;p>=0;p--)h=(u*h+(this.words[p]|0))%s;return h},i.prototype.idivn=function(s){n(s<=67108863);for(var u=0,h=this.length-1;h>=0;h--){var p=(this.words[h]|0)+u*67108864;this.words[h]=p/s|0,u=p%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=new i(0),x=new i(1),y=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++y;for(var l=h.clone(),b=u.clone();!u.isZero();){for(var E=0,P=1;(u.words[0]&P)===0&&E<26;++E,P<<=1);if(E>0)for(u.iushrn(E);E-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(l),g.isub(b)),p.iushrn(1),g.iushrn(1);for(var H=0,ee=1;(h.words[0]&ee)===0&&H<26;++H,ee<<=1);if(H>0)for(h.iushrn(H);H-- >0;)(M.isOdd()||x.isOdd())&&(M.iadd(l),x.isub(b)),M.iushrn(1),x.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(M),g.isub(x)):(h.isub(u),M.isub(p),x.isub(g))}return{a:M,b:x,gcd:h.iushln(y)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var u=this,h=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var p=new i(1),g=new i(0),M=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var x=0,y=1;(u.words[0]&y)===0&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)p.isOdd()&&p.iadd(M),p.iushrn(1);for(var l=0,b=1;(h.words[0]&b)===0&&l<26;++l,b<<=1);if(l>0)for(h.iushrn(l);l-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(g)):(h.isub(u),g.isub(p))}var E;return u.cmpn(1)===0?E=p:E=g,E.cmpn(0)<0&&E.iadd(s),E},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),h=s.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var g=u.cmp(h);if(g<0){var M=u;u=h,h=M}else if(g===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var u=s%26,h=(s-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var g=p,M=h;g!==0&&M<this.length;M++){var x=this.words[M]|0;x+=g,g=x>>>26,x&=67108863,this.words[M]=x}return g!==0&&(this.words[M]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var h;if(this.length>1)h=1;else{u&&(s=-s),n(s<=67108863,"Number is too big");var p=this.words[0]|0;h=p===s?0:p<s?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,g=s.words[h]|0;if(p!==g){p<g?u=-1:p>g&&(u=1);break}}return u},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var T={k256:null,p224:null,p192:null,p25519:null};function B(w,s){this.name=w,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},B.prototype.ireduce=function(s){var u=s,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},B.prototype.split=function(s,u){s.iushrn(this.n,0,u)},B.prototype.imulK=function(s){return s.imul(this.k)};function L(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,B),L.prototype.split=function(s,u){for(var h=4194303,p=Math.min(s.length,9),g=0;g<p;g++)u.words[g]=s.words[g];if(u.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&h,g=10;g<s.length;g++){var x=s.words[g]|0;s.words[g-10]=(x&h)<<4|M>>>22,M=x}M>>>=22,s.words[g-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},L.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,h=0;h<s.length;h++){var p=s.words[h]|0;u+=p*977,s.words[h]=u&67108863,u=p*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,B);function V(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,B);function Z(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Z,B),Z.prototype.imulK=function(s){for(var u=0,h=0;h<s.length;h++){var p=(s.words[h]|0)*19+u,g=p&67108863;p>>>=26,s.words[h]=g,u=p}return u!==0&&(s.words[s.length++]=u),s},i._prime=function(s){if(T[s])return T[s];var u;if(s==="k256")u=new L;else if(s==="p224")u=new j;else if(s==="p192")u=new V;else if(s==="p25519")u=new Z;else throw new Error("Unknown prime "+s);return T[s]=u,u};function Q(w){if(typeof w=="string"){var s=i._prime(w);this.m=s.p,this.prime=s}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,u){n((s.negative|u.negative)===0,"red works only with positives"),n(s.red&&s.red===u.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,u){this._verify2(s,u);var h=s.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(s,u){this._verify2(s,u);var h=s.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(s,u){this._verify2(s,u);var h=s.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(s,u){this._verify2(s,u);var h=s.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},Q.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},Q.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(s,h)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);n(!p.isZero());var M=new i(1).toRed(this),x=M.redNeg(),y=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,y).cmp(x)!==0;)l.redIAdd(x);for(var b=this.pow(l,p),E=this.pow(s,p.addn(1).iushrn(1)),P=this.pow(s,p),H=g;P.cmp(M)!==0;){for(var ee=P,Y=0;ee.cmp(M)!==0;Y++)ee=ee.redSqr();n(Y<H);var re=this.pow(b,new i(1).iushln(H-Y-1));E=E.redMul(re),b=re.redSqr(),P=P.redMul(b),H=Y}return E},Q.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Q.prototype.pow=function(s,u){if(u.isZero())return new i(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var h=4,p=new Array(1<<h);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var M=p[0],x=0,y=0,l=u.bitLength()%26;for(l===0&&(l=26),g=u.length-1;g>=0;g--){for(var b=u.words[g],E=l-1;E>=0;E--){var P=b>>E&1;if(M!==p[0]&&(M=this.sqr(M)),P===0&&x===0){y=0;continue}x<<=1,x|=P,y++,!(y!==h&&(g!==0||E!==0))&&(M=this.mul(M,p[x]),y=0,x=0)}l=26}return M},Q.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},Q.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},i.mont=function(s){return new ne(s)};function ne(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ne,Q),ne.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ne.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},ne.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new i(0)._forceRed(this);var h=s.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=h.isub(p).iushrn(this.shift),M=g;return g.cmp(this.m)>=0?M=g.isub(this.m):g.cmpn(0)<0&&(M=g.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,Jt)})(E0);var ly=E0.exports,MT=zt.exports.Buffer;function $T(r,e){return MT.from(r.toRed(ly.mont(e.modulus)).redPow(new ly(e.publicExponent)).fromRed().toArray())}var i8=$T,xT=S0,Zp=Is.exports,kT=Eu,uy=r8,cy=n8,bm=E0.exports,ST=i8,ET=tm,qi=zt.exports.Buffer,AT=function(e,t,n){var o;e.padding?o=e.padding:n?o=1:o=4;var i=xT(e),a;if(o===4)a=BT(i,t);else if(o===1)a=RT(i,t,n);else if(o===3){if(a=new bm(t),a.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?ET(a,i):ST(a,i)};function BT(r,e){var t=r.modulus.byteLength(),n=e.length,o=kT("sha1").update(qi.alloc(0)).digest(),i=o.length,a=2*i;if(n>t-a-2)throw new Error("message too long");var f=qi.alloc(t-n-a-2),c=t-i-1,d=Zp(i),m=cy(qi.concat([o,f,qi.alloc(1,1),e],c),uy(d,c)),v=cy(d,uy(m,i));return new bm(qi.concat([qi.alloc(1),v,m],t))}function RT(r,e,t){var n=e.length,o=r.modulus.byteLength();if(n>o-11)throw new Error("message too long");var i;return t?i=qi.alloc(o-n-3,255):i=CT(o-n-3),new bm(qi.concat([qi.from([0,t?1:2]),i,qi.alloc(1),e],o))}function CT(r){for(var e=qi.allocUnsafe(r),t=0,n=Zp(r*2),o=0,i;t<r;)o===n.length&&(n=Zp(r*2),o=0),i=n[o++],i&&(e[t++]=i);return e}var PT=S0,hy=r8,dy=n8,py=E0.exports,TT=tm,OT=Eu,IT=i8,au=zt.exports.Buffer,LT=function(e,t,n){var o;e.padding?o=e.padding:n?o=1:o=4;var i=PT(e),a=i.modulus.byteLength();if(t.length>a||new py(t).cmp(i.modulus)>=0)throw new Error("decryption error");var f;n?f=IT(new py(t),i):f=TT(t,i);var c=au.alloc(a-f.length);if(f=au.concat([c,f],a),o===4)return NT(i,f);if(o===1)return DT(i,f,n);if(o===3)return f;throw new Error("unknown padding")};function NT(r,e){var t=r.modulus.byteLength(),n=OT("sha1").update(au.alloc(0)).digest(),o=n.length;if(e[0]!==0)throw new Error("decryption error");var i=e.slice(1,o+1),a=e.slice(o+1),f=dy(i,hy(a,o)),c=dy(a,hy(f,t-o-1));if(FT(n,c.slice(0,o)))throw new Error("decryption error");for(var d=o;c[d]===0;)d++;if(c[d++]!==1)throw new Error("decryption error");return c.slice(d)}function DT(r,e,t){for(var n=e.slice(0,2),o=2,i=0;e[o++]!==0;)if(o>=e.length){i++;break}var a=e.slice(2,o-1);if((n.toString("hex")!=="0002"&&!t||n.toString("hex")!=="0001"&&t)&&i++,a.length<8&&i++,i)throw new Error("decryption error");return e.slice(o)}function FT(r,e){r=au.from(r),e=au.from(e);var t=0,n=r.length;r.length!==e.length&&(t++,n=Math.min(r.length,e.length));for(var o=-1;++o<n;)t+=r[o]^e[o];return t}(function(r){r.publicEncrypt=AT,r.privateDecrypt=LT,r.privateEncrypt=function(t,n){return r.publicEncrypt(t,n,!0)},r.publicDecrypt=function(t,n){return r.privateDecrypt(t,n,!0)}})(t8);var Nl={};function my(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o8=zt.exports,vy=Is.exports,s8=o8.Buffer,a8=o8.kMaxLength,Gp=Jt.crypto||Jt.msCrypto,f8=Math.pow(2,32)-1;function l8(r,e){if(typeof r!="number"||r!==r)throw new TypeError("offset must be a number");if(r>f8||r<0)throw new TypeError("offset must be a uint32");if(r>a8||r>e)throw new RangeError("offset out of range")}function u8(r,e,t){if(typeof r!="number"||r!==r)throw new TypeError("size must be a number");if(r>f8||r<0)throw new TypeError("size must be a uint32");if(r+e>t||r>a8)throw new RangeError("buffer too small")}Gp&&Gp.getRandomValues||!It.exports.browser?(Nl.randomFill=UT,Nl.randomFillSync=HT):(Nl.randomFill=my,Nl.randomFillSync=my);function UT(r,e,t,n){if(!s8.isBuffer(r)&&!(r instanceof Jt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,t=r.length;else if(typeof t=="function")n=t,t=r.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return l8(e,r.length),u8(t,e,r.length),c8(r,e,t,n)}function c8(r,e,t,n){if(It.exports.browser){var o=r.buffer,i=new Uint8Array(o,e,t);if(Gp.getRandomValues(i),n){It.exports.nextTick(function(){n(null,r)});return}return r}if(n){vy(t,function(f,c){if(f)return n(f);c.copy(r,e),n(null,r)});return}var a=vy(t);return a.copy(r,e),r}function HT(r,e,t){if(typeof e>"u"&&(e=0),!s8.isBuffer(r)&&!(r instanceof Jt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l8(e,r.length),t===void 0&&(t=r.length-e),u8(t,e,r.length),c8(r,e,t)}var gy;function h8(){if(gy)return Ht;gy=1,Ht.randomBytes=Ht.rng=Ht.pseudoRandomBytes=Ht.prng=Is.exports,Ht.createHash=Ht.Hash=Eu,Ht.createHmac=Ht.Hmac=M6;var r=$6.exports,e=Object.keys(r),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Ht.getHashes=function(){return t};var n=a0;Ht.pbkdf2=n.pbkdf2,Ht.pbkdf2Sync=n.pbkdf2Sync;var o=Zi;Ht.Cipher=o.Cipher,Ht.createCipher=o.createCipher,Ht.Cipheriv=o.Cipheriv,Ht.createCipheriv=o.createCipheriv,Ht.Decipher=o.Decipher,Ht.createDecipher=o.createDecipher,Ht.Decipheriv=o.Decipheriv,Ht.createDecipheriv=o.createDecipheriv,Ht.getCiphers=o.getCiphers,Ht.listCiphers=o.listCiphers;var i=sR();Ht.DiffieHellmanGroup=i.DiffieHellmanGroup,Ht.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Ht.getDiffieHellman=i.getDiffieHellman,Ht.createDiffieHellman=i.createDiffieHellman,Ht.DiffieHellman=i.DiffieHellman;var a=yT();Ht.createSign=a.createSign,Ht.Sign=a.Sign,Ht.createVerify=a.createVerify,Ht.Verify=a.Verify,Ht.createECDH=bT();var f=t8;Ht.publicEncrypt=f.publicEncrypt,Ht.privateEncrypt=f.privateEncrypt,Ht.publicDecrypt=f.publicDecrypt,Ht.privateDecrypt=f.privateDecrypt;var c=Nl;return Ht.randomFill=c.randomFill,Ht.randomFillSync=c.randomFillSync,Ht.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},Ht.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Ht}var yy=h8();const jT=IM({__proto__:null,default:yy},[yy]);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const ur=BigInt(0),Vr=BigInt(1),As=BigInt(2),jl=BigInt(3),by=BigInt(8),Or=Object.freeze({a:ur,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Vr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),_y=(r,e)=>(r+e/As)/e,uc={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:e}=Or,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Vr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,a=BigInt("0x100000000000000000000000000000000"),f=_y(i*r,e),c=_y(-n*r,e);let d=yt(r-f*t-c*o,e),m=yt(-f*n-c*i,e);const v=d>a,_=m>a;if(v&&(d=e-d),_&&(m=e-m),d>a||m>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:v,k1:d,k2neg:_,k2:m}}},Ki=32,Cf=32,zT=32,gh=Ki+1,yh=2*Ki+1;function wy(r){const{a:e,b:t}=Or,n=yt(r*r),o=yt(n*r);return yt(o+e*r+t)}const cc=Or.a===ur;class _m extends Error{constructor(e){super(e)}}function My(r){if(!(r instanceof Rr))throw new TypeError("JacobianPoint expected")}class Rr{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof cr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(cr.ZERO)?Rr.ZERO:new Rr(e.x,e.y,Vr)}static toAffineBatch(e){const t=ZT(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return Rr.toAffineBatch(e).map(Rr.fromAffine)}equals(e){My(e);const{x:t,y:n,z:o}=this,{x:i,y:a,z:f}=e,c=yt(o*o),d=yt(f*f),m=yt(t*d),v=yt(i*c),_=yt(yt(n*f)*d),$=yt(yt(a*o)*c);return m===v&&_===$}negate(){return new Rr(this.x,yt(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,o=yt(e*e),i=yt(t*t),a=yt(i*i),f=e+i,c=yt(As*(yt(f*f)-o-a)),d=yt(jl*o),m=yt(d*d),v=yt(m-As*c),_=yt(d*(c-v)-by*a),$=yt(As*t*n);return new Rr(v,_,$)}add(e){My(e);const{x:t,y:n,z:o}=this,{x:i,y:a,z:f}=e;if(i===ur||a===ur)return this;if(t===ur||n===ur)return e;const c=yt(o*o),d=yt(f*f),m=yt(t*d),v=yt(i*c),_=yt(yt(n*f)*d),$=yt(yt(a*o)*c),k=yt(v-m),S=yt($-_);if(k===ur)return S===ur?this.double():Rr.ZERO;const A=yt(k*k),R=yt(k*A),C=yt(m*A),T=yt(S*S-R-As*C),B=yt(S*(C-T)-_*R),L=yt(o*f*k);return new Rr(T,B,L)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Rr.ZERO;if(typeof e=="bigint"&&e===ur)return t;let n=ky(e);if(n===Vr)return this;if(!cc){let v=t,_=this;for(;n>ur;)n&Vr&&(v=v.add(_)),_=_.double(),n>>=Vr;return v}let{k1neg:o,k1:i,k2neg:a,k2:f}=uc.splitScalar(n),c=t,d=t,m=this;for(;i>ur||f>ur;)i&Vr&&(c=c.add(m)),f&Vr&&(d=d.add(m)),m=m.double(),i>>=Vr,f>>=Vr;return o&&(c=c.negate()),a&&(d=d.negate()),d=new Rr(yt(d.x*uc.beta),d.y,d.z),c.add(d)}precomputeWindow(e){const t=cc?128/e+1:256/e+1,n=[];let o=this,i=o;for(let a=0;a<t;a++){i=o,n.push(i);for(let f=1;f<2**(e-1);f++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,t){!t&&this.equals(Rr.BASE)&&(t=cr.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Yp.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=Rr.normalizeZ(o),Yp.set(t,o)));let i=Rr.ZERO,a=Rr.BASE;const f=1+(cc?128/n:256/n),c=2**(n-1),d=BigInt(2**n-1),m=2**n,v=BigInt(n);for(let _=0;_<f;_++){const $=_*c;let k=Number(e&d);e>>=v,k>c&&(k-=m,e+=Vr);const S=$,A=$+Math.abs(k)-1,R=_%2!==0,C=k<0;k===0?a=a.add(hc(R,o[S])):i=i.add(hc(C,o[A]))}return{p:i,f:a}}multiply(e,t){let n=ky(e),o,i;if(cc){const{k1neg:a,k1:f,k2neg:c,k2:d}=uc.splitScalar(n);let{p:m,f:v}=this.wNAF(f,t),{p:_,f:$}=this.wNAF(d,t);m=hc(a,m),_=hc(c,_),_=new Rr(yt(_.x*uc.beta),_.y,_.z),o=m.add(_),i=v.add($)}else{const{p:a,f}=this.wNAF(n,t);o=a,i=f}return Rr.normalizeZ([o,i])[0]}toAffine(e){const{x:t,y:n,z:o}=this,i=this.equals(Rr.ZERO);e==null&&(e=i?by:al(o));const a=e,f=yt(a*a),c=yt(f*a),d=yt(t*f),m=yt(n*c),v=yt(o*a);if(i)return cr.ZERO;if(v!==Vr)throw new Error("invZ was invalid");return new cr(d,m)}}Rr.BASE=new Rr(Or.Gx,Or.Gy,Vr);Rr.ZERO=new Rr(ur,Vr,ur);function hc(r,e){const t=e.negate();return r?t:e}const Yp=new WeakMap;class cr{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Yp.delete(this)}hasEvenY(){return this.y%As===ur}static fromCompressedHex(e){const t=e.length===32,n=ii(t?e:e.subarray(1));if(!zc(n))throw new Error("Point is not on curve");const o=wy(n);let i=VT(o);const a=(i&Vr)===Vr;t?a&&(i=yt(-i)):(e[0]&1)===1!==a&&(i=yt(-i));const f=new cr(n,i);return f.assertValidity(),f}static fromUncompressedHex(e){const t=ii(e.subarray(1,Ki+1)),n=ii(e.subarray(Ki+1,Ki*2+1)),o=new cr(t,n);return o.assertValidity(),o}static fromHex(e){const t=Ao(e),n=t.length,o=t[0];if(n===Ki)return this.fromCompressedHex(t);if(n===gh&&(o===2||o===3))return this.fromCompressedHex(t);if(n===yh&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${gh} compressed bytes or ${yh} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return cr.BASE.multiply(Ma(e))}static fromSignature(e,t,n){const{r:o,s:i}=d8(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const a=wm(Ao(e)),{n:f}=Or,c=n===2||n===3?o+f:o,d=al(c,f),m=yt(-a*d,f),v=yt(i*d,f),_=n&1?"03":"02",$=cr.fromHex(_+Cs(c)),k=cr.BASE.multiplyAndAddUnsafe($,m,v);if(!k)throw new Error("Cannot recover signature: point at infinify");return k.assertValidity(),k}toRawBytes(e=!1){return Ps(this.toHex(e))}toHex(e=!1){const t=Cs(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Cs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!zc(t)||!zc(n))throw new Error(e);const o=yt(n*n),i=wy(t);if(yt(o-i)!==ur)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new cr(this.x,yt(-this.y))}double(){return Rr.fromAffine(this).double().toAffine()}add(e){return Rr.fromAffine(this).add(Rr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Rr.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const o=Rr.fromAffine(this),i=t===ur||t===Vr||this!==cr.BASE?o.multiplyUnsafe(t):o.multiply(t),a=Rr.fromAffine(e).multiplyUnsafe(n),f=i.add(a);return f.equals(Rr.ZERO)?void 0:f.toAffine()}}cr.BASE=new cr(Or.Gx,Or.Gy);cr.ZERO=new cr(ur,ur);function $y(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function xy(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${Pf(r)}`);const e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ii(t),left:r.subarray(e+2)}}function qT(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${Pf(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:t}=xy(r.subarray(2)),{data:n,left:o}=xy(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${Pf(o)}`);return{r:e,s:n}}class Go{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=t?Pf(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Go(bh(o.slice(0,64)),bh(o.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=qT(t?e:Ps(e));return new Go(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Of(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Of(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Or.n>>Vr;return this.s>e}normalizeS(){return this.hasHighS()?new Go(this.r,yt(-this.s,Or.n)):this}toDERRawBytes(){return Ps(this.toDERHex())}toDERHex(){const e=$y(Cl(this.s)),t=$y(Cl(this.r)),n=e.length/2,o=t.length/2,i=Cl(n),a=Cl(o);return`30${Cl(o+n+4)}02${a}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ps(this.toCompactHex())}toCompactHex(){return Cs(this.r)+Cs(this.s)}}function ks(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}const KT=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Pf(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=KT[r[t]];return e}const WT=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Cs(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(ur<=r&&r<WT))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Tf(r){const e=Ps(Cs(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Cl(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function bh(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Ps(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function ii(r){return bh(Pf(r))}function Ao(r){return r instanceof Uint8Array?Uint8Array.from(r):Ps(r)}function ky(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Of(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function yt(r,e=Or.P){const t=r%e;return t>=ur?t:e+t}function mi(r,e){const{P:t}=Or;let n=r;for(;e-- >ur;)n*=n,n%=t;return n}function VT(r){const{P:e}=Or,t=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),f=BigInt(88),c=r*r*r%e,d=c*c*r%e,m=mi(d,jl)*d%e,v=mi(m,jl)*d%e,_=mi(v,As)*c%e,$=mi(_,n)*_%e,k=mi($,o)*$%e,S=mi(k,a)*k%e,A=mi(S,f)*S%e,R=mi(A,a)*k%e,C=mi(R,jl)*d%e,T=mi(C,i)*$%e,B=mi(T,t)*c%e,L=mi(B,As);if(L*L%e!==r)throw new Error("Cannot find square root");return L}function al(r,e=Or.P){if(r===ur||e<=ur)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=yt(r,e),n=e,o=ur,i=Vr;for(;t!==ur;){const f=n/t,c=n%t,d=o-i*f;n=t,t=c,o=i,i=d}if(n!==Vr)throw new Error("invert: does not exist");return yt(o,e)}function ZT(r,e=Or.P){const t=new Array(r.length),n=r.reduce((i,a,f)=>a===ur?i:(t[f]=i,yt(i*a,e)),Vr),o=al(n,e);return r.reduceRight((i,a,f)=>a===ur?i:(t[f]=yt(i*t[f],e),yt(i*a,e)),o),t}function GT(r){const e=r.length*8-Cf*8,t=ii(r);return e>0?t>>BigInt(e):t}function wm(r,e=!1){const t=GT(r);if(e)return t;const{n}=Or;return t>=n?t-n:t}let lf,zl;class YT{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return jt.hmacSha256(this.k,...e)}hmacSync(...e){return zl(this.k,...e)}checkSync(){if(typeof zl!="function")throw new _m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return ks(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return ks(...t)}}function Of(r){return ur<r&&r<Or.n}function zc(r){return ur<r&&r<Or.P}function JT(r,e,t,n=!0){const{n:o}=Or,i=wm(r,!0);if(!Of(i))return;const a=al(i,o),f=cr.BASE.multiply(i),c=yt(f.x,o);if(c===ur)return;const d=yt(a*yt(e+t*c,o),o);if(d===ur)return;let m=new Go(c,d),v=(f.x===m.r?0:2)|Number(f.y&Vr);return n&&m.hasHighS()&&(m=m.normalizeS(),v^=1),{sig:m,recovery:v}}function Ma(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Cf)throw new Error("Expected 32 bytes of private key");e=bh(r)}else if(r instanceof Uint8Array){if(r.length!==Cf)throw new Error("Expected 32 bytes of private key");e=ii(r)}else throw new TypeError("Expected valid private key");if(!Of(e))throw new Error("Expected private key: 0 < key < n");return e}function Mm(r){return r instanceof cr?(r.assertValidity(),r):cr.fromHex(r)}function d8(r){if(r instanceof Go)return r.assertValidity(),r;try{return Go.fromDER(r)}catch{return Go.fromCompact(r)}}function XT(r,e=!1){return cr.fromPrivateKey(r).toRawBytes(e)}function Sy(r){const e=r instanceof Uint8Array,t=typeof r=="string",n=(e||t)&&r.length;return e?n===gh||n===yh:t?n===gh*2||n===yh*2:r instanceof cr}function p8(r,e,t=!1){if(Sy(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!Sy(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=Mm(e);return n.assertValidity(),n.multiply(Ma(r)).toRawBytes(t)}function m8(r){const e=r.length>Ki?r.slice(0,Ki):r;return ii(e)}function QT(r){const e=m8(r),t=yt(e,Or.n);return v8(t<ur?e:t)}function v8(r){return Tf(r)}function eO(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);const n=Ao(r),o=Ma(e),i=[v8(o),QT(n)];if(t!=null){t===!0&&(t=jt.randomBytes(Ki));const c=Ao(t);if(c.length!==Ki)throw new Error(`sign: Expected ${Ki} bytes of extra data`);i.push(c)}const a=ks(...i),f=m8(n);return{seed:a,m:f,d:o}}function tO(r,e){const{sig:t,recovery:n}=r,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),a=o?t.toDERRawBytes():t.toCompactRawBytes();return i?[a,n]:a}function rO(r,e,t={}){const{seed:n,m:o,d:i}=eO(r,e,t.extraEntropy),a=new YT(zT,Cf);a.reseedSync(n);let f;for(;!(f=JT(a.generateSync(),o,i,t.canonical));)a.reseedSync();return tO(f,t)}const nO={strict:!0};function iO(r,e,t,n=nO){let o;try{o=d8(r),e=Ao(e)}catch{return!1}const{r:i,s:a}=o;if(n.strict&&o.hasHighS())return!1;const f=wm(e);let c;try{c=Mm(t)}catch{return!1}const{n:d}=Or,m=al(a,d),v=yt(f*m,d),_=yt(i*m,d),$=cr.BASE.multiplyAndAddUnsafe(c,v,_);return $?yt($.x,d)===i:!1}function _h(r){return yt(ii(r),Or.n)}class If{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=Ao(e);if(t.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const n=ii(t.subarray(0,32)),o=ii(t.subarray(32,64));return new If(n,o)}assertValidity(){const{r:e,s:t}=this;if(!zc(e)||!Of(t))throw new Error("Invalid signature")}toHex(){return Cs(this.r)+Cs(this.s)}toRawBytes(){return Ps(this.toHex())}}function oO(r){return cr.fromPrivateKey(r).toRawX()}class g8{constructor(e,t,n=jt.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Ao(e);const{x:o,scalar:i}=this.getScalar(Ma(t));if(this.px=o,this.d=i,this.rand=Ao(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=cr.fromPrivateKey(e),n=t.hasEvenY()?e:Or.n-e;return{point:t,scalar:n,x:t.toRawX()}}initNonce(e,t){return Tf(e^ii(t))}finalizeNonce(e){const t=yt(ii(e),Or.n);if(t===ur)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:o,scalar:i}=this.getScalar(t);return{R:n,rx:o,k:i}}finalizeSig(e,t,n,o){return new If(e.x,yt(t+n*o,Or.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:t,px:n,rand:o}=this,i=jt.taggedHash,a=this.initNonce(t,await i(xs.aux,o)),{R:f,rx:c,k:d}=this.finalizeNonce(await i(xs.nonce,a,n,e)),m=_h(await i(xs.challenge,c,n,e)),v=this.finalizeSig(f,d,m,t);return await _8(v,e,n)||this.error(),v}calcSync(){const{m:e,d:t,px:n,rand:o}=this,i=jt.taggedHashSync,a=this.initNonce(t,i(xs.aux,o)),{R:f,rx:c,k:d}=this.finalizeNonce(i(xs.nonce,a,n,e)),m=_h(i(xs.challenge,c,n,e)),v=this.finalizeSig(f,d,m,t);return w8(v,e,n)||this.error(),v}}async function sO(r,e,t){return new g8(r,e,t).calc()}function aO(r,e,t){return new g8(r,e,t).calcSync()}function y8(r,e,t){const n=r instanceof If,o=n?r:If.fromHex(r);return n&&o.assertValidity(),{...o,m:Ao(e),P:Mm(t)}}function b8(r,e,t,n){const o=cr.BASE.multiplyAndAddUnsafe(e,Ma(t),yt(-n,Or.n));return!(!o||!o.hasEvenY()||o.x!==r)}async function _8(r,e,t){try{const{r:n,s:o,m:i,P:a}=y8(r,e,t),f=_h(await jt.taggedHash(xs.challenge,Tf(n),a.toRawX(),i));return b8(n,a,o,f)}catch{return!1}}function w8(r,e,t){try{const{r:n,s:o,m:i,P:a}=y8(r,e,t),f=_h(jt.taggedHashSync(xs.challenge,Tf(n),a.toRawX(),i));return b8(n,a,o,f)}catch(n){if(n instanceof _m)throw n;return!1}}const Iu={Signature:If,getPublicKey:oO,sign:sO,verify:_8,signSync:aO,verifySync:w8};cr.BASE._setWindowSize(8);const ti={node:jT,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},xs={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},dc={},jt={bytesToHex:Pf,hexToBytes:Ps,concatBytes:ks,mod:yt,invert:al,isValidPrivateKey(r){try{return Ma(r),!0}catch{return!1}},_bigintTo32Bytes:Tf,_normalizePrivateKey:Ma,hashToPrivateKey:r=>{r=Ao(r);const e=Cf+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const t=yt(ii(r),Or.n-Vr)+Vr;return Tf(t)},randomBytes:(r=32)=>{if(ti.web)return ti.web.getRandomValues(new Uint8Array(r));if(ti.node){const{randomBytes:e}=ti.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>jt.hashToPrivateKey(jt.randomBytes(Cf+8)),precompute(r=8,e=cr.BASE){const t=e===cr.BASE?e:new cr(e.x,e.y);return t._setWindowSize(r),t.multiply(jl),t},sha256:async(...r)=>{if(ti.web){const e=await ti.web.subtle.digest("SHA-256",ks(...r));return new Uint8Array(e)}else if(ti.node){const{createHash:e}=ti.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(ti.web){const t=await ti.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=ks(...e),o=await ti.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(ti.node){const{createHmac:t}=ti.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=dc[r];if(t===void 0){const n=await jt.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=ks(n,n),dc[r]=t}return jt.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof lf!="function")throw new _m("sha256Sync is undefined, you need to set it");let t=dc[r];if(t===void 0){const n=lf(Uint8Array.from(r,o=>o.charCodeAt(0)));t=ks(n,n),dc[r]=t}return lf(t,...e)},_JacobianPoint:Rr};Object.defineProperties(jt,{sha256Sync:{configurable:!1,get(){return lf},set(r){lf||(lf=r)}},hmacSha256Sync:{configurable:!1,get(){return zl},set(r){zl||(zl=r)}}});const Ey={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const np=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ao=(r,e)=>r<<32-e|r>>>e,fO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fO)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));(()=>{const r=typeof Fl<"u"&&typeof Fl.require=="function"&&Fl.require.bind(Fl);try{if(r){const{setImmediate:e}=r("timers");return()=>new Promise(t=>e(t))}}catch{}return()=>new Promise(e=>setTimeout(e,0))})();function lO(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function $m(r){if(typeof r=="string"&&(r=lO(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}function Ay(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function uO(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ay(r.outputLen),Ay(r.blockLen)}class Jp{clone(){return this._cloneInto()}}function cO(r){const e=n=>r().update($m(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function hO(r=32){if(Ey.web)return Ey.web.getRandomValues(new Uint8Array(r));throw new Error("The environment doesn't have randomBytes function")}function dO(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(t>>o&i),f=Number(t&i),c=n?4:0,d=n?0:4;r.setUint32(e+c,a,n),r.setUint32(e+d,f,n)}class pO extends Jp{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=np(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:t,buffer:n,blockLen:o,finished:i}=this;if(i)throw new Error("digest() was already called");e=$m(e);const a=e.length;for(let f=0;f<a;){const c=Math.min(o-this.pos,a-f);if(c===o){const d=np(e);for(;o<=a-f;f+=o)this.process(d,f);continue}n.set(e.subarray(f,f+c),this.pos),this.pos+=c,f+=c,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let c=a;c<o;c++)t[c]=0;dO(n,o-8,BigInt(this.length*8),i),this.process(n,0);const f=np(e);this.get().forEach((c,d)=>f.setUint32(4*d,c,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:i,destroyed:a,pos:f}=this;return e.length=o,e.pos=f,e.finished=i,e.destroyed=a,o%t&&e.buffer.set(n),e}}const mO=(r,e,t)=>r&e^~r&t,vO=(r,e,t)=>r&e^r&t^e&t,gO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),us=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cs=new Uint32Array(64);class yO extends pO{constructor(){super(64,32,8,!1),this.A=us[0]|0,this.B=us[1]|0,this.C=us[2]|0,this.D=us[3]|0,this.E=us[4]|0,this.F=us[5]|0,this.G=us[6]|0,this.H=us[7]|0}get(){const{A:e,B:t,C:n,D:o,E:i,F:a,G:f,H:c}=this;return[e,t,n,o,i,a,f,c]}set(e,t,n,o,i,a,f,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=f|0,this.H=c|0}process(e,t){for(let v=0;v<16;v++,t+=4)cs[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const _=cs[v-15],$=cs[v-2],k=ao(_,7)^ao(_,18)^_>>>3,S=ao($,17)^ao($,19)^$>>>10;cs[v]=S+cs[v-7]+k+cs[v-16]|0}let{A:n,B:o,C:i,D:a,E:f,F:c,G:d,H:m}=this;for(let v=0;v<64;v++){const _=ao(f,6)^ao(f,11)^ao(f,25),$=m+_+mO(f,c,d)+gO[v]+cs[v]|0,S=(ao(n,2)^ao(n,13)^ao(n,22))+vO(n,o,i)|0;m=d,d=c,c=f,f=a+$|0,a=i,i=o,o=n,n=$+S|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,f=f+this.E|0,c=c+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(n,o,i,a,f,c,d,m)}roundClean(){cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Lu=cO(()=>new yO);var xm={};Object.defineProperty(xm,"__esModule",{value:!0});var km=xm.wordlist=void 0;km=xm.wordlist=`abandon
ability
able
about
above
absent
absorb
abstract
absurd
abuse
access
accident
account
accuse
achieve
acid
acoustic
acquire
across
act
action
actor
actress
actual
adapt
add
addict
address
adjust
admit
adult
advance
advice
aerobic
affair
afford
afraid
again
age
agent
agree
ahead
aim
air
airport
aisle
alarm
album
alcohol
alert
alien
all
alley
allow
almost
alone
alpha
already
also
alter
always
amateur
amazing
among
amount
amused
analyst
anchor
ancient
anger
angle
angry
animal
ankle
announce
annual
another
answer
antenna
antique
anxiety
any
apart
apology
appear
apple
approve
april
arch
arctic
area
arena
argue
arm
armed
armor
army
around
arrange
arrest
arrive
arrow
art
artefact
artist
artwork
ask
aspect
assault
asset
assist
assume
asthma
athlete
atom
attack
attend
attitude
attract
auction
audit
august
aunt
author
auto
autumn
average
avocado
avoid
awake
aware
away
awesome
awful
awkward
axis
baby
bachelor
bacon
badge
bag
balance
balcony
ball
bamboo
banana
banner
bar
barely
bargain
barrel
base
basic
basket
battle
beach
bean
beauty
because
become
beef
before
begin
behave
behind
believe
below
belt
bench
benefit
best
betray
better
between
beyond
bicycle
bid
bike
bind
biology
bird
birth
bitter
black
blade
blame
blanket
blast
bleak
bless
blind
blood
blossom
blouse
blue
blur
blush
board
boat
body
boil
bomb
bone
bonus
book
boost
border
boring
borrow
boss
bottom
bounce
box
boy
bracket
brain
brand
brass
brave
bread
breeze
brick
bridge
brief
bright
bring
brisk
broccoli
broken
bronze
broom
brother
brown
brush
bubble
buddy
budget
buffalo
build
bulb
bulk
bullet
bundle
bunker
burden
burger
burst
bus
business
busy
butter
buyer
buzz
cabbage
cabin
cable
cactus
cage
cake
call
calm
camera
camp
can
canal
cancel
candy
cannon
canoe
canvas
canyon
capable
capital
captain
car
carbon
card
cargo
carpet
carry
cart
case
cash
casino
castle
casual
cat
catalog
catch
category
cattle
caught
cause
caution
cave
ceiling
celery
cement
census
century
cereal
certain
chair
chalk
champion
change
chaos
chapter
charge
chase
chat
cheap
check
cheese
chef
cherry
chest
chicken
chief
child
chimney
choice
choose
chronic
chuckle
chunk
churn
cigar
cinnamon
circle
citizen
city
civil
claim
clap
clarify
claw
clay
clean
clerk
clever
click
client
cliff
climb
clinic
clip
clock
clog
close
cloth
cloud
clown
club
clump
cluster
clutch
coach
coast
coconut
code
coffee
coil
coin
collect
color
column
combine
come
comfort
comic
common
company
concert
conduct
confirm
congress
connect
consider
control
convince
cook
cool
copper
copy
coral
core
corn
correct
cost
cotton
couch
country
couple
course
cousin
cover
coyote
crack
cradle
craft
cram
crane
crash
crater
crawl
crazy
cream
credit
creek
crew
cricket
crime
crisp
critic
crop
cross
crouch
crowd
crucial
cruel
cruise
crumble
crunch
crush
cry
crystal
cube
culture
cup
cupboard
curious
current
curtain
curve
cushion
custom
cute
cycle
dad
damage
damp
dance
danger
daring
dash
daughter
dawn
day
deal
debate
debris
decade
december
decide
decline
decorate
decrease
deer
defense
define
defy
degree
delay
deliver
demand
demise
denial
dentist
deny
depart
depend
deposit
depth
deputy
derive
describe
desert
design
desk
despair
destroy
detail
detect
develop
device
devote
diagram
dial
diamond
diary
dice
diesel
diet
differ
digital
dignity
dilemma
dinner
dinosaur
direct
dirt
disagree
discover
disease
dish
dismiss
disorder
display
distance
divert
divide
divorce
dizzy
doctor
document
dog
doll
dolphin
domain
donate
donkey
donor
door
dose
double
dove
draft
dragon
drama
drastic
draw
dream
dress
drift
drill
drink
drip
drive
drop
drum
dry
duck
dumb
dune
during
dust
dutch
duty
dwarf
dynamic
eager
eagle
early
earn
earth
easily
east
easy
echo
ecology
economy
edge
edit
educate
effort
egg
eight
either
elbow
elder
electric
elegant
element
elephant
elevator
elite
else
embark
embody
embrace
emerge
emotion
employ
empower
empty
enable
enact
end
endless
endorse
enemy
energy
enforce
engage
engine
enhance
enjoy
enlist
enough
enrich
enroll
ensure
enter
entire
entry
envelope
episode
equal
equip
era
erase
erode
erosion
error
erupt
escape
essay
essence
estate
eternal
ethics
evidence
evil
evoke
evolve
exact
example
excess
exchange
excite
exclude
excuse
execute
exercise
exhaust
exhibit
exile
exist
exit
exotic
expand
expect
expire
explain
expose
express
extend
extra
eye
eyebrow
fabric
face
faculty
fade
faint
faith
fall
false
fame
family
famous
fan
fancy
fantasy
farm
fashion
fat
fatal
father
fatigue
fault
favorite
feature
february
federal
fee
feed
feel
female
fence
festival
fetch
fever
few
fiber
fiction
field
figure
file
film
filter
final
find
fine
finger
finish
fire
firm
first
fiscal
fish
fit
fitness
fix
flag
flame
flash
flat
flavor
flee
flight
flip
float
flock
floor
flower
fluid
flush
fly
foam
focus
fog
foil
fold
follow
food
foot
force
forest
forget
fork
fortune
forum
forward
fossil
foster
found
fox
fragile
frame
frequent
fresh
friend
fringe
frog
front
frost
frown
frozen
fruit
fuel
fun
funny
furnace
fury
future
gadget
gain
galaxy
gallery
game
gap
garage
garbage
garden
garlic
garment
gas
gasp
gate
gather
gauge
gaze
general
genius
genre
gentle
genuine
gesture
ghost
giant
gift
giggle
ginger
giraffe
girl
give
glad
glance
glare
glass
glide
glimpse
globe
gloom
glory
glove
glow
glue
goat
goddess
gold
good
goose
gorilla
gospel
gossip
govern
gown
grab
grace
grain
grant
grape
grass
gravity
great
green
grid
grief
grit
grocery
group
grow
grunt
guard
guess
guide
guilt
guitar
gun
gym
habit
hair
half
hammer
hamster
hand
happy
harbor
hard
harsh
harvest
hat
have
hawk
hazard
head
health
heart
heavy
hedgehog
height
hello
helmet
help
hen
hero
hidden
high
hill
hint
hip
hire
history
hobby
hockey
hold
hole
holiday
hollow
home
honey
hood
hope
horn
horror
horse
hospital
host
hotel
hour
hover
hub
huge
human
humble
humor
hundred
hungry
hunt
hurdle
hurry
hurt
husband
hybrid
ice
icon
idea
identify
idle
ignore
ill
illegal
illness
image
imitate
immense
immune
impact
impose
improve
impulse
inch
include
income
increase
index
indicate
indoor
industry
infant
inflict
inform
inhale
inherit
initial
inject
injury
inmate
inner
innocent
input
inquiry
insane
insect
inside
inspire
install
intact
interest
into
invest
invite
involve
iron
island
isolate
issue
item
ivory
jacket
jaguar
jar
jazz
jealous
jeans
jelly
jewel
job
join
joke
journey
joy
judge
juice
jump
jungle
junior
junk
just
kangaroo
keen
keep
ketchup
key
kick
kid
kidney
kind
kingdom
kiss
kit
kitchen
kite
kitten
kiwi
knee
knife
knock
know
lab
label
labor
ladder
lady
lake
lamp
language
laptop
large
later
latin
laugh
laundry
lava
law
lawn
lawsuit
layer
lazy
leader
leaf
learn
leave
lecture
left
leg
legal
legend
leisure
lemon
lend
length
lens
leopard
lesson
letter
level
liar
liberty
library
license
life
lift
light
like
limb
limit
link
lion
liquid
list
little
live
lizard
load
loan
lobster
local
lock
logic
lonely
long
loop
lottery
loud
lounge
love
loyal
lucky
luggage
lumber
lunar
lunch
luxury
lyrics
machine
mad
magic
magnet
maid
mail
main
major
make
mammal
man
manage
mandate
mango
mansion
manual
maple
marble
march
margin
marine
market
marriage
mask
mass
master
match
material
math
matrix
matter
maximum
maze
meadow
mean
measure
meat
mechanic
medal
media
melody
melt
member
memory
mention
menu
mercy
merge
merit
merry
mesh
message
metal
method
middle
midnight
milk
million
mimic
mind
minimum
minor
minute
miracle
mirror
misery
miss
mistake
mix
mixed
mixture
mobile
model
modify
mom
moment
monitor
monkey
monster
month
moon
moral
more
morning
mosquito
mother
motion
motor
mountain
mouse
move
movie
much
muffin
mule
multiply
muscle
museum
mushroom
music
must
mutual
myself
mystery
myth
naive
name
napkin
narrow
nasty
nation
nature
near
neck
need
negative
neglect
neither
nephew
nerve
nest
net
network
neutral
never
news
next
nice
night
noble
noise
nominee
noodle
normal
north
nose
notable
note
nothing
notice
novel
now
nuclear
number
nurse
nut
oak
obey
object
oblige
obscure
observe
obtain
obvious
occur
ocean
october
odor
off
offer
office
often
oil
okay
old
olive
olympic
omit
once
one
onion
online
only
open
opera
opinion
oppose
option
orange
orbit
orchard
order
ordinary
organ
orient
original
orphan
ostrich
other
outdoor
outer
output
outside
oval
oven
over
own
owner
oxygen
oyster
ozone
pact
paddle
page
pair
palace
palm
panda
panel
panic
panther
paper
parade
parent
park
parrot
party
pass
patch
path
patient
patrol
pattern
pause
pave
payment
peace
peanut
pear
peasant
pelican
pen
penalty
pencil
people
pepper
perfect
permit
person
pet
phone
photo
phrase
physical
piano
picnic
picture
piece
pig
pigeon
pill
pilot
pink
pioneer
pipe
pistol
pitch
pizza
place
planet
plastic
plate
play
please
pledge
pluck
plug
plunge
poem
poet
point
polar
pole
police
pond
pony
pool
popular
portion
position
possible
post
potato
pottery
poverty
powder
power
practice
praise
predict
prefer
prepare
present
pretty
prevent
price
pride
primary
print
priority
prison
private
prize
problem
process
produce
profit
program
project
promote
proof
property
prosper
protect
proud
provide
public
pudding
pull
pulp
pulse
pumpkin
punch
pupil
puppy
purchase
purity
purpose
purse
push
put
puzzle
pyramid
quality
quantum
quarter
question
quick
quit
quiz
quote
rabbit
raccoon
race
rack
radar
radio
rail
rain
raise
rally
ramp
ranch
random
range
rapid
rare
rate
rather
raven
raw
razor
ready
real
reason
rebel
rebuild
recall
receive
recipe
record
recycle
reduce
reflect
reform
refuse
region
regret
regular
reject
relax
release
relief
rely
remain
remember
remind
remove
render
renew
rent
reopen
repair
repeat
replace
report
require
rescue
resemble
resist
resource
response
result
retire
retreat
return
reunion
reveal
review
reward
rhythm
rib
ribbon
rice
rich
ride
ridge
rifle
right
rigid
ring
riot
ripple
risk
ritual
rival
river
road
roast
robot
robust
rocket
romance
roof
rookie
room
rose
rotate
rough
round
route
royal
rubber
rude
rug
rule
run
runway
rural
sad
saddle
sadness
safe
sail
salad
salmon
salon
salt
salute
same
sample
sand
satisfy
satoshi
sauce
sausage
save
say
scale
scan
scare
scatter
scene
scheme
school
science
scissors
scorpion
scout
scrap
screen
script
scrub
sea
search
season
seat
second
secret
section
security
seed
seek
segment
select
sell
seminar
senior
sense
sentence
series
service
session
settle
setup
seven
shadow
shaft
shallow
share
shed
shell
sheriff
shield
shift
shine
ship
shiver
shock
shoe
shoot
shop
short
shoulder
shove
shrimp
shrug
shuffle
shy
sibling
sick
side
siege
sight
sign
silent
silk
silly
silver
similar
simple
since
sing
siren
sister
situate
six
size
skate
sketch
ski
skill
skin
skirt
skull
slab
slam
sleep
slender
slice
slide
slight
slim
slogan
slot
slow
slush
small
smart
smile
smoke
smooth
snack
snake
snap
sniff
snow
soap
soccer
social
sock
soda
soft
solar
soldier
solid
solution
solve
someone
song
soon
sorry
sort
soul
sound
soup
source
south
space
spare
spatial
spawn
speak
special
speed
spell
spend
sphere
spice
spider
spike
spin
spirit
split
spoil
sponsor
spoon
sport
spot
spray
spread
spring
spy
square
squeeze
squirrel
stable
stadium
staff
stage
stairs
stamp
stand
start
state
stay
steak
steel
stem
step
stereo
stick
still
sting
stock
stomach
stone
stool
story
stove
strategy
street
strike
strong
struggle
student
stuff
stumble
style
subject
submit
subway
success
such
sudden
suffer
sugar
suggest
suit
summer
sun
sunny
sunset
super
supply
supreme
sure
surface
surge
surprise
surround
survey
suspect
sustain
swallow
swamp
swap
swarm
swear
sweet
swift
swim
swing
switch
sword
symbol
symptom
syrup
system
table
tackle
tag
tail
talent
talk
tank
tape
target
task
taste
tattoo
taxi
teach
team
tell
ten
tenant
tennis
tent
term
test
text
thank
that
theme
then
theory
there
they
thing
this
thought
three
thrive
throw
thumb
thunder
ticket
tide
tiger
tilt
timber
time
tiny
tip
tired
tissue
title
toast
tobacco
today
toddler
toe
together
toilet
token
tomato
tomorrow
tone
tongue
tonight
tool
tooth
top
topic
topple
torch
tornado
tortoise
toss
total
tourist
toward
tower
town
toy
track
trade
traffic
tragic
train
transfer
trap
trash
travel
tray
treat
tree
trend
trial
tribe
trick
trigger
trim
trip
trophy
trouble
truck
true
truly
trumpet
trust
truth
try
tube
tuition
tumble
tuna
tunnel
turkey
turn
turtle
twelve
twenty
twice
twin
twist
two
type
typical
ugly
umbrella
unable
unaware
uncle
uncover
under
undo
unfair
unfold
unhappy
uniform
unique
unit
universe
unknown
unlock
until
unusual
unveil
update
upgrade
uphold
upon
upper
upset
urban
urge
usage
use
used
useful
useless
usual
utility
vacant
vacuum
vague
valid
valley
valve
van
vanish
vapor
various
vast
vault
vehicle
velvet
vendor
venture
venue
verb
verify
version
very
vessel
veteran
viable
vibrant
vicious
victory
video
view
village
vintage
violin
virtual
virus
visa
visit
visual
vital
vivid
vocal
voice
void
volcano
volume
vote
voyage
wage
wagon
wait
walk
wall
walnut
want
warfare
warm
warrior
wash
wasp
waste
water
wave
way
wealth
weapon
wear
weasel
weather
web
wedding
weekend
weird
welcome
west
wet
whale
what
wheat
wheel
when
where
whip
whisper
wide
width
wife
wild
will
win
window
wine
wing
wink
winner
winter
wire
wisdom
wise
wish
witness
wolf
woman
wonder
wood
wool
word
work
world
worry
worth
wrap
wreck
wrestle
wrist
write
wrong
yard
year
yellow
you
young
youth
zebra
zero
zone
zoo`.split(`
`);var ri={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.output=cn.exists=cn.hash=cn.bytes=cn.bool=cn.number=void 0;function wh(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}cn.number=wh;function M8(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}cn.bool=M8;function Sm(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}cn.bytes=Sm;function $8(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wh(r.outputLen),wh(r.blockLen)}cn.hash=$8;function x8(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}cn.exists=x8;function k8(r,e){Sm(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}cn.output=k8;const bO={number:wh,bool:M8,bytes:Sm,hash:$8,exists:x8,output:k8};cn.default=bO;var Lf={},S8={},Ra={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});A0.crypto=void 0;A0.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const e=A0,t=B=>new Uint8Array(B.buffer,B.byteOffset,B.byteLength);r.u8=t;const n=B=>new Uint32Array(B.buffer,B.byteOffset,Math.floor(B.byteLength/4));r.u32=n;const o=B=>new DataView(B.buffer,B.byteOffset,B.byteLength);r.createView=o;const i=(B,L)=>B<<32-L|B>>>L;if(r.rotr=i,r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!r.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(B,L)=>L.toString(16).padStart(2,"0"));function f(B){if(!(B instanceof Uint8Array))throw new Error("Uint8Array expected");let L="";for(let j=0;j<B.length;j++)L+=a[B[j]];return L}r.bytesToHex=f;function c(B){if(typeof B!="string")throw new TypeError("hexToBytes: expected string, got "+typeof B);if(B.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const L=new Uint8Array(B.length/2);for(let j=0;j<L.length;j++){const V=j*2,Z=B.slice(V,V+2),Q=Number.parseInt(Z,16);if(Number.isNaN(Q)||Q<0)throw new Error("Invalid byte sequence");L[j]=Q}return L}r.hexToBytes=c;const d=async()=>{};r.nextTick=d;async function m(B,L,j){let V=Date.now();for(let Z=0;Z<B;Z++){j(Z);const Q=Date.now()-V;Q>=0&&Q<L||(await(0,r.nextTick)(),V+=Q)}}r.asyncLoop=m;function v(B){if(typeof B!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof B}`);return new TextEncoder().encode(B)}r.utf8ToBytes=v;function _(B){if(typeof B=="string"&&(B=v(B)),!(B instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof B})`);return B}r.toBytes=_;function $(...B){if(!B.every(V=>V instanceof Uint8Array))throw new Error("Uint8Array list expected");if(B.length===1)return B[0];const L=B.reduce((V,Z)=>V+Z.length,0),j=new Uint8Array(L);for(let V=0,Z=0;V<B.length;V++){const Q=B[V];j.set(Q,Z),Z+=Q.length}return j}r.concatBytes=$;class k{clone(){return this._cloneInto()}}r.Hash=k;const S=B=>Object.prototype.toString.call(B)==="[object Object]"&&B.constructor===Object;function A(B,L){if(L!==void 0&&(typeof L!="object"||!S(L)))throw new TypeError("Options should be object or undefined");return Object.assign(B,L)}r.checkOpts=A;function R(B){const L=V=>B().update(_(V)).digest(),j=B();return L.outputLen=j.outputLen,L.blockLen=j.blockLen,L.create=()=>B(),L}r.wrapConstructor=R;function C(B){const L=(V,Z)=>B(Z).update(_(V)).digest(),j=B({});return L.outputLen=j.outputLen,L.blockLen=j.blockLen,L.create=V=>B(V),L}r.wrapConstructorWithOpts=C;function T(B=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(B));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(B).buffer);throw new Error("The environment doesn't have randomBytes function")}r.randomBytes=T})(Ra);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=void 0;const e=cn,t=Ra;class n extends t.Hash{constructor(a,f){super(),this.finished=!1,this.destroyed=!1,e.default.hash(a);const c=(0,t.toBytes)(f);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,m=new Uint8Array(d);m.set(c.length>d?a.create().update(c).digest():c);for(let v=0;v<m.length;v++)m[v]^=54;this.iHash.update(m),this.oHash=a.create();for(let v=0;v<m.length;v++)m[v]^=106;this.oHash.update(m),m.fill(0)}update(a){return e.default.exists(this),this.iHash.update(a),this}digestInto(a){e.default.exists(this),e.default.bytes(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:f,iHash:c,finished:d,destroyed:m,blockLen:v,outputLen:_}=this;return a=a,a.finished=d,a.destroyed=m,a.blockLen=v,a.outputLen=_,a.oHash=f._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o=(i,a,f)=>new n(i,a).update(f).digest();r.hmac=o,r.hmac.create=(i,a)=>new n(i,a)})(S8);Object.defineProperty(Lf,"__esModule",{value:!0});Lf.pbkdf2Async=Lf.pbkdf2=void 0;const pc=cn,_O=S8,uf=Ra;function E8(r,e,t,n){pc.default.hash(r);const o=(0,uf.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:a,asyncTick:f}=o;if(pc.default.number(i),pc.default.number(a),pc.default.number(f),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,uf.toBytes)(e),d=(0,uf.toBytes)(t),m=new Uint8Array(a),v=_O.hmac.create(r,c),_=v._cloneInto().update(d);return{c:i,dkLen:a,asyncTick:f,DK:m,PRF:v,PRFSalt:_}}function A8(r,e,t,n,o){return r.destroy(),e.destroy(),n&&n.destroy(),o.fill(0),t}function wO(r,e,t,n){const{c:o,dkLen:i,DK:a,PRF:f,PRFSalt:c}=E8(r,e,t,n);let d;const m=new Uint8Array(4),v=(0,uf.createView)(m),_=new Uint8Array(f.outputLen);for(let $=1,k=0;k<i;$++,k+=f.outputLen){const S=a.subarray(k,k+f.outputLen);v.setInt32(0,$,!1),(d=c._cloneInto(d)).update(m).digestInto(_),S.set(_.subarray(0,S.length));for(let A=1;A<o;A++){f._cloneInto(d).update(_).digestInto(_);for(let R=0;R<S.length;R++)S[R]^=_[R]}}return A8(f,c,a,d,_)}Lf.pbkdf2=wO;async function MO(r,e,t,n){const{c:o,dkLen:i,asyncTick:a,DK:f,PRF:c,PRFSalt:d}=E8(r,e,t,n);let m;const v=new Uint8Array(4),_=(0,uf.createView)(v),$=new Uint8Array(c.outputLen);for(let k=1,S=0;S<i;k++,S+=c.outputLen){const A=f.subarray(S,S+c.outputLen);_.setInt32(0,k,!1),(m=d._cloneInto(m)).update(v).digestInto($),A.set($.subarray(0,A.length)),await(0,uf.asyncLoop)(o-1,a,R=>{c._cloneInto(m).update($).digestInto($);for(let C=0;C<A.length;C++)A[C]^=$[C]})}return A8(c,d,f,m,$)}Lf.pbkdf2Async=MO;var Nf={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.SHA2=void 0;const ip=cn,Pl=Ra;function $O(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(t>>o&i),f=Number(t&i),c=n?4:0,d=n?0:4;r.setUint32(e+c,a,n),r.setUint32(e+d,f,n)}class xO extends Pl.Hash{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Pl.createView)(this.buffer)}update(e){ip.default.exists(this);const{view:t,buffer:n,blockLen:o}=this;e=(0,Pl.toBytes)(e);const i=e.length;for(let a=0;a<i;){const f=Math.min(o-this.pos,i-a);if(f===o){const c=(0,Pl.createView)(e);for(;o<=i-a;a+=o)this.process(c,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ip.default.exists(this),ip.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let v=a;v<o;v++)t[v]=0;$O(n,o-8,BigInt(this.length*8),i),this.process(n,0);const f=(0,Pl.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)f.setUint32(4*v,m[v],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:i,destroyed:a,pos:f}=this;return e.length=o,e.pos=f,e.finished=i,e.destroyed=a,o%t&&e.buffer.set(n),e}}Nu.SHA2=xO;Object.defineProperty(Nf,"__esModule",{value:!0});Nf.sha224=Nf.sha256=void 0;const kO=Nu,vi=Ra,SO=(r,e,t)=>r&e^~r&t,EO=(r,e,t)=>r&e^r&t^e&t,AO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ds=new Uint32Array(64);class B8 extends kO.SHA2{constructor(){super(64,32,8,!1),this.A=hs[0]|0,this.B=hs[1]|0,this.C=hs[2]|0,this.D=hs[3]|0,this.E=hs[4]|0,this.F=hs[5]|0,this.G=hs[6]|0,this.H=hs[7]|0}get(){const{A:e,B:t,C:n,D:o,E:i,F:a,G:f,H:c}=this;return[e,t,n,o,i,a,f,c]}set(e,t,n,o,i,a,f,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=f|0,this.H=c|0}process(e,t){for(let v=0;v<16;v++,t+=4)ds[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const _=ds[v-15],$=ds[v-2],k=(0,vi.rotr)(_,7)^(0,vi.rotr)(_,18)^_>>>3,S=(0,vi.rotr)($,17)^(0,vi.rotr)($,19)^$>>>10;ds[v]=S+ds[v-7]+k+ds[v-16]|0}let{A:n,B:o,C:i,D:a,E:f,F:c,G:d,H:m}=this;for(let v=0;v<64;v++){const _=(0,vi.rotr)(f,6)^(0,vi.rotr)(f,11)^(0,vi.rotr)(f,25),$=m+_+SO(f,c,d)+AO[v]+ds[v]|0,S=((0,vi.rotr)(n,2)^(0,vi.rotr)(n,13)^(0,vi.rotr)(n,22))+EO(n,o,i)|0;m=d,d=c,c=f,f=a+$|0,a=i,i=o,o=n,n=$+S|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,f=f+this.E|0,c=c+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(n,o,i,a,f,c,d,m)}roundClean(){ds.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class BO extends B8{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Nf.sha256=(0,vi.wrapConstructor)(()=>new B8);Nf.sha224=(0,vi.wrapConstructor)(()=>new BO);var Mi={},R8={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const e=BigInt(2**32-1),t=BigInt(32);function n(ne,w=!1){return w?{h:Number(ne&e),l:Number(ne>>t&e)}:{h:Number(ne>>t&e)|0,l:Number(ne&e)|0}}r.fromBig=n;function o(ne,w=!1){let s=new Uint32Array(ne.length),u=new Uint32Array(ne.length);for(let h=0;h<ne.length;h++){const{h:p,l:g}=n(ne[h],w);[s[h],u[h]]=[p,g]}return[s,u]}r.split=o;const i=(ne,w)=>BigInt(ne>>>0)<<t|BigInt(w>>>0);r.toBig=i;const a=(ne,w,s)=>ne>>>s,f=(ne,w,s)=>ne<<32-s|w>>>s,c=(ne,w,s)=>ne>>>s|w<<32-s,d=(ne,w,s)=>ne<<32-s|w>>>s,m=(ne,w,s)=>ne<<64-s|w>>>s-32,v=(ne,w,s)=>ne>>>s-32|w<<64-s,_=(ne,w)=>w,$=(ne,w)=>ne,k=(ne,w,s)=>ne<<s|w>>>32-s,S=(ne,w,s)=>w<<s|ne>>>32-s,A=(ne,w,s)=>w<<s-32|ne>>>64-s,R=(ne,w,s)=>ne<<s-32|w>>>64-s;function C(ne,w,s,u){const h=(w>>>0)+(u>>>0);return{h:ne+s+(h/2**32|0)|0,l:h|0}}r.add=C;const T=(ne,w,s)=>(ne>>>0)+(w>>>0)+(s>>>0),B=(ne,w,s,u)=>w+s+u+(ne/2**32|0)|0,L=(ne,w,s,u)=>(ne>>>0)+(w>>>0)+(s>>>0)+(u>>>0),j=(ne,w,s,u,h)=>w+s+u+h+(ne/2**32|0)|0,V=(ne,w,s,u,h)=>(ne>>>0)+(w>>>0)+(s>>>0)+(u>>>0)+(h>>>0),Z=(ne,w,s,u,h,p)=>w+s+u+h+p+(ne/2**32|0)|0,Q={fromBig:n,split:o,toBig:r.toBig,shrSH:a,shrSL:f,rotrSH:c,rotrSL:d,rotrBH:m,rotrBL:v,rotr32H:_,rotr32L:$,rotlSH:k,rotlSL:S,rotlBH:A,rotlBL:R,add:C,add3L:T,add3H:B,add4L:L,add4H:j,add5H:Z,add5L:V};r.default=Q})(R8);Object.defineProperty(Mi,"__esModule",{value:!0});Mi.sha384=Mi.sha512_256=Mi.sha512_224=Mi.sha512=Mi.SHA512=void 0;const RO=Nu,Wt=R8,B0=Ra,[CO,PO]=Wt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ps=new Uint32Array(80),ms=new Uint32Array(80);class Du extends RO.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:o,Ch:i,Cl:a,Dh:f,Dl:c,Eh:d,El:m,Fh:v,Fl:_,Gh:$,Gl:k,Hh:S,Hl:A}=this;return[e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A]}set(e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=a|0,this.Dh=f|0,this.Dl=c|0,this.Eh=d|0,this.El=m|0,this.Fh=v|0,this.Fl=_|0,this.Gh=$|0,this.Gl=k|0,this.Hh=S|0,this.Hl=A|0}process(e,t){for(let T=0;T<16;T++,t+=4)ps[T]=e.getUint32(t),ms[T]=e.getUint32(t+=4);for(let T=16;T<80;T++){const B=ps[T-15]|0,L=ms[T-15]|0,j=Wt.default.rotrSH(B,L,1)^Wt.default.rotrSH(B,L,8)^Wt.default.shrSH(B,L,7),V=Wt.default.rotrSL(B,L,1)^Wt.default.rotrSL(B,L,8)^Wt.default.shrSL(B,L,7),Z=ps[T-2]|0,Q=ms[T-2]|0,ne=Wt.default.rotrSH(Z,Q,19)^Wt.default.rotrBH(Z,Q,61)^Wt.default.shrSH(Z,Q,6),w=Wt.default.rotrSL(Z,Q,19)^Wt.default.rotrBL(Z,Q,61)^Wt.default.shrSL(Z,Q,6),s=Wt.default.add4L(V,w,ms[T-7],ms[T-16]),u=Wt.default.add4H(s,j,ne,ps[T-7],ps[T-16]);ps[T]=u|0,ms[T]=s|0}let{Ah:n,Al:o,Bh:i,Bl:a,Ch:f,Cl:c,Dh:d,Dl:m,Eh:v,El:_,Fh:$,Fl:k,Gh:S,Gl:A,Hh:R,Hl:C}=this;for(let T=0;T<80;T++){const B=Wt.default.rotrSH(v,_,14)^Wt.default.rotrSH(v,_,18)^Wt.default.rotrBH(v,_,41),L=Wt.default.rotrSL(v,_,14)^Wt.default.rotrSL(v,_,18)^Wt.default.rotrBL(v,_,41),j=v&$^~v&S,V=_&k^~_&A,Z=Wt.default.add5L(C,L,V,PO[T],ms[T]),Q=Wt.default.add5H(Z,R,B,j,CO[T],ps[T]),ne=Z|0,w=Wt.default.rotrSH(n,o,28)^Wt.default.rotrBH(n,o,34)^Wt.default.rotrBH(n,o,39),s=Wt.default.rotrSL(n,o,28)^Wt.default.rotrBL(n,o,34)^Wt.default.rotrBL(n,o,39),u=n&i^n&f^i&f,h=o&a^o&c^a&c;R=S|0,C=A|0,S=$|0,A=k|0,$=v|0,k=_|0,{h:v,l:_}=Wt.default.add(d|0,m|0,Q|0,ne|0),d=f|0,m=c|0,f=i|0,c=a|0,i=n|0,a=o|0;const p=Wt.default.add3L(ne,s,h);n=Wt.default.add3H(p,Q,w,u),o=p|0}({h:n,l:o}=Wt.default.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:a}=Wt.default.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:f,l:c}=Wt.default.add(this.Ch|0,this.Cl|0,f|0,c|0),{h:d,l:m}=Wt.default.add(this.Dh|0,this.Dl|0,d|0,m|0),{h:v,l:_}=Wt.default.add(this.Eh|0,this.El|0,v|0,_|0),{h:$,l:k}=Wt.default.add(this.Fh|0,this.Fl|0,$|0,k|0),{h:S,l:A}=Wt.default.add(this.Gh|0,this.Gl|0,S|0,A|0),{h:R,l:C}=Wt.default.add(this.Hh|0,this.Hl|0,R|0,C|0),this.set(n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C)}roundClean(){ps.fill(0),ms.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Mi.SHA512=Du;class TO extends Du{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class OO extends Du{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class IO extends Du{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Mi.sha512=(0,B0.wrapConstructor)(()=>new Du);Mi.sha512_224=(0,B0.wrapConstructor)(()=>new TO);Mi.sha512_256=(0,B0.wrapConstructor)(()=>new OO);Mi.sha384=(0,B0.wrapConstructor)(()=>new IO);const LO=gw(Nx);Object.defineProperty(ri,"__esModule",{value:!0});var C8=ri.mnemonicToSeedSync=ri.mnemonicToSeed=H8=ri.validateMnemonic=ri.entropyToMnemonic=ri.mnemonicToEntropy=N8=ri.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const P8=cn,T8=Lf,NO=Nf,O8=Mi,DO=Ra,mc=LO,FO=r=>r[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function I8(r){if(typeof r!="string")throw new TypeError(`Invalid mnemonic type: ${typeof r}`);return r.normalize("NFKD")}function Em(r){const e=I8(r),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}function L8(r){P8.default.bytes(r,16,20,24,28,32)}function UO(r,e=128){if(P8.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return U8((0,DO.randomBytes)(e/8),r)}var N8=ri.generateMnemonic=UO;const HO=r=>{const e=8-r.length/4;return new Uint8Array([(0,NO.sha256)(r)[0]>>e<<e])};function D8(r){if(!Array.isArray(r)||r.length!==2048||typeof r[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return r.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),mc.utils.chain(mc.utils.checksum(1,HO),mc.utils.radix2(11,!0),mc.utils.alphabet(r))}function F8(r,e){const{words:t}=Em(r),n=D8(e).decode(t);return L8(n),n}ri.mnemonicToEntropy=F8;function U8(r,e){return L8(r),D8(e).encode(r).join(FO(e)?"\u3000":" ")}ri.entropyToMnemonic=U8;function jO(r,e){try{F8(r,e)}catch{return!1}return!0}var H8=ri.validateMnemonic=jO;const j8=r=>I8(`mnemonic${r}`);function zO(r,e=""){return(0,T8.pbkdf2Async)(O8.sha512,Em(r).nfkd,j8(e),{c:2048,dkLen:64})}ri.mnemonicToSeed=zO;function qO(r,e=""){return(0,T8.pbkdf2)(O8.sha512,Em(r).nfkd,j8(e),{c:2048,dkLen:64})}C8=ri.mnemonicToSeedSync=qO;function Xp(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function KO(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function na(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function WO(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xp(r.outputLen),Xp(r.blockLen)}function VO(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function ZO(r,e){na(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const fa={number:Xp,bool:KO,bytes:na,hash:WO,exists:VO,output:ZO};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),fo=(r,e)=>r<<32-e|r>>>e,GO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GO)throw new Error("Non little-endian hardware is not supported");const YO=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function JO(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=YO[r[t]];return e}function XO(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){const n=t*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[t]=i}return e}function z8(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Am(r){if(typeof r=="string"&&(r=z8(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}function vc(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){const i=r[n];t.set(i,o),o+=i.length}return t}class q8{clone(){return this._cloneInto()}}function Ca(r){const e=n=>r().update(Am(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}class K8 extends q8{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,fa.hash(e);const n=Am(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return fa.exists(this),this.iHash.update(e),this}digestInto(e){fa.exists(this),fa.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:a,outputLen:f}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=a,e.outputLen=f,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mh=(r,e,t)=>new K8(r,e).update(t).digest();Mh.create=(r,e)=>new K8(r,e);function QO(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(t>>o&i),f=Number(t&i),c=n?4:0,d=n?0:4;r.setUint32(e+c,a,n),r.setUint32(e+d,f,n)}class Bm extends q8{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cf(this.buffer)}update(e){fa.exists(this);const{view:t,buffer:n,blockLen:o}=this;e=Am(e);const i=e.length;for(let a=0;a<i;){const f=Math.min(o-this.pos,i-a);if(f===o){const c=cf(e);for(;o<=i-a;a+=o)this.process(c,a);continue}n.set(e.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fa.exists(this),fa.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let v=a;v<o;v++)t[v]=0;QO(n,o-8,BigInt(this.length*8),i),this.process(n,0);const f=cf(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)f.setUint32(4*v,m[v],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:o,finished:i,destroyed:a,pos:f}=this;return e.length=o,e.pos=f,e.finished=i,e.destroyed=a,o%t&&e.buffer.set(n),e}}const eI=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),W8=Uint8Array.from({length:16},(r,e)=>e),tI=W8.map(r=>(9*r+5)%16);let Rm=[W8],Cm=[tI];for(let r=0;r<4;r++)for(let e of[Rm,Cm])e.push(e[r].map(t=>eI[t]));const V8=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),rI=Rm.map((r,e)=>r.map(t=>V8[e][t])),nI=Cm.map((r,e)=>r.map(t=>V8[e][t])),iI=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oI=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),gc=(r,e)=>r<<e|r>>>32-e;function By(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const yc=new Uint32Array(16);class sI extends Bm{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:o,h4:i}=this;return[e,t,n,o,i]}set(e,t,n,o,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,t){for(let $=0;$<16;$++,t+=4)yc[$]=e.getUint32(t,!0);let n=this.h0|0,o=n,i=this.h1|0,a=i,f=this.h2|0,c=f,d=this.h3|0,m=d,v=this.h4|0,_=v;for(let $=0;$<5;$++){const k=4-$,S=iI[$],A=oI[$],R=Rm[$],C=Cm[$],T=rI[$],B=nI[$];for(let L=0;L<16;L++){const j=gc(n+By($,i,f,d)+yc[R[L]]+S,T[L])+v|0;n=v,v=d,d=gc(f,10)|0,f=i,i=j}for(let L=0;L<16;L++){const j=gc(o+By(k,a,c,m)+yc[C[L]]+A,B[L])+_|0;o=_,_=m,m=gc(c,10)|0,c=a,a=j}}this.set(this.h1+f+m|0,this.h2+d+_|0,this.h3+v+o|0,this.h4+n+a|0,this.h0+i+c|0)}roundClean(){yc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const aI=Ca(()=>new sI),fI=(r,e,t)=>r&e^~r&t,lI=(r,e,t)=>r&e^r&t^e&t,uI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gs=new Uint32Array(64);class Z8 extends Bm{constructor(){super(64,32,8,!1),this.A=vs[0]|0,this.B=vs[1]|0,this.C=vs[2]|0,this.D=vs[3]|0,this.E=vs[4]|0,this.F=vs[5]|0,this.G=vs[6]|0,this.H=vs[7]|0}get(){const{A:e,B:t,C:n,D:o,E:i,F:a,G:f,H:c}=this;return[e,t,n,o,i,a,f,c]}set(e,t,n,o,i,a,f,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=a|0,this.G=f|0,this.H=c|0}process(e,t){for(let v=0;v<16;v++,t+=4)gs[v]=e.getUint32(t,!1);for(let v=16;v<64;v++){const _=gs[v-15],$=gs[v-2],k=fo(_,7)^fo(_,18)^_>>>3,S=fo($,17)^fo($,19)^$>>>10;gs[v]=S+gs[v-7]+k+gs[v-16]|0}let{A:n,B:o,C:i,D:a,E:f,F:c,G:d,H:m}=this;for(let v=0;v<64;v++){const _=fo(f,6)^fo(f,11)^fo(f,25),$=m+_+fI(f,c,d)+uI[v]+gs[v]|0,S=(fo(n,2)^fo(n,13)^fo(n,22))+lI(n,o,i)|0;m=d,d=c,c=f,f=a+$|0,a=i,i=o,o=n,n=$+S|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,a=a+this.D|0,f=f+this.E|0,c=c+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(n,o,i,a,f,c,d,m)}roundClean(){gs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class cI extends Z8{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Pm=Ca(()=>new Z8);Ca(()=>new cI);const bc=BigInt(2**32-1),Qp=BigInt(32);function G8(r,e=!1){return e?{h:Number(r&bc),l:Number(r>>Qp&bc)}:{h:Number(r>>Qp&bc)|0,l:Number(r&bc)|0}}function hI(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:i,l:a}=G8(r[o],e);[t[o],n[o]]=[i,a]}return[t,n]}const dI=(r,e)=>BigInt(r>>>0)<<Qp|BigInt(e>>>0),pI=(r,e,t)=>r>>>t,mI=(r,e,t)=>r<<32-t|e>>>t,vI=(r,e,t)=>r>>>t|e<<32-t,gI=(r,e,t)=>r<<32-t|e>>>t,yI=(r,e,t)=>r<<64-t|e>>>t-32,bI=(r,e,t)=>r>>>t-32|e<<64-t,_I=(r,e)=>e,wI=(r,e)=>r,MI=(r,e,t)=>r<<t|e>>>32-t,$I=(r,e,t)=>e<<t|r>>>32-t,xI=(r,e,t)=>e<<t-32|r>>>64-t,kI=(r,e,t)=>r<<t-32|e>>>64-t;function SI(r,e,t,n){const o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}const EI=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),AI=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,BI=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),RI=(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,CI=(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0),PI=(r,e,t,n,o,i)=>e+t+n+o+i+(r/2**32|0)|0,Vt={fromBig:G8,split:hI,toBig:dI,shrSH:pI,shrSL:mI,rotrSH:vI,rotrSL:gI,rotrBH:yI,rotrBL:bI,rotr32H:_I,rotr32L:wI,rotlSH:MI,rotlSL:$I,rotlBH:xI,rotlBL:kI,add:SI,add3L:EI,add3H:AI,add4L:BI,add4H:RI,add5H:PI,add5L:CI},[TI,OI]=Vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ys=new Uint32Array(80),bs=new Uint32Array(80);class R0 extends Bm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:o,Ch:i,Cl:a,Dh:f,Dl:c,Eh:d,El:m,Fh:v,Fl:_,Gh:$,Gl:k,Hh:S,Hl:A}=this;return[e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A]}set(e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=a|0,this.Dh=f|0,this.Dl=c|0,this.Eh=d|0,this.El=m|0,this.Fh=v|0,this.Fl=_|0,this.Gh=$|0,this.Gl=k|0,this.Hh=S|0,this.Hl=A|0}process(e,t){for(let T=0;T<16;T++,t+=4)ys[T]=e.getUint32(t),bs[T]=e.getUint32(t+=4);for(let T=16;T<80;T++){const B=ys[T-15]|0,L=bs[T-15]|0,j=Vt.rotrSH(B,L,1)^Vt.rotrSH(B,L,8)^Vt.shrSH(B,L,7),V=Vt.rotrSL(B,L,1)^Vt.rotrSL(B,L,8)^Vt.shrSL(B,L,7),Z=ys[T-2]|0,Q=bs[T-2]|0,ne=Vt.rotrSH(Z,Q,19)^Vt.rotrBH(Z,Q,61)^Vt.shrSH(Z,Q,6),w=Vt.rotrSL(Z,Q,19)^Vt.rotrBL(Z,Q,61)^Vt.shrSL(Z,Q,6),s=Vt.add4L(V,w,bs[T-7],bs[T-16]),u=Vt.add4H(s,j,ne,ys[T-7],ys[T-16]);ys[T]=u|0,bs[T]=s|0}let{Ah:n,Al:o,Bh:i,Bl:a,Ch:f,Cl:c,Dh:d,Dl:m,Eh:v,El:_,Fh:$,Fl:k,Gh:S,Gl:A,Hh:R,Hl:C}=this;for(let T=0;T<80;T++){const B=Vt.rotrSH(v,_,14)^Vt.rotrSH(v,_,18)^Vt.rotrBH(v,_,41),L=Vt.rotrSL(v,_,14)^Vt.rotrSL(v,_,18)^Vt.rotrBL(v,_,41),j=v&$^~v&S,V=_&k^~_&A,Z=Vt.add5L(C,L,V,OI[T],bs[T]),Q=Vt.add5H(Z,R,B,j,TI[T],ys[T]),ne=Z|0,w=Vt.rotrSH(n,o,28)^Vt.rotrBH(n,o,34)^Vt.rotrBH(n,o,39),s=Vt.rotrSL(n,o,28)^Vt.rotrBL(n,o,34)^Vt.rotrBL(n,o,39),u=n&i^n&f^i&f,h=o&a^o&c^a&c;R=S|0,C=A|0,S=$|0,A=k|0,$=v|0,k=_|0,{h:v,l:_}=Vt.add(d|0,m|0,Q|0,ne|0),d=f|0,m=c|0,f=i|0,c=a|0,i=n|0,a=o|0;const p=Vt.add3L(ne,s,h);n=Vt.add3H(p,Q,w,u),o=p|0}({h:n,l:o}=Vt.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:a}=Vt.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:f,l:c}=Vt.add(this.Ch|0,this.Cl|0,f|0,c|0),{h:d,l:m}=Vt.add(this.Dh|0,this.Dl|0,d|0,m|0),{h:v,l:_}=Vt.add(this.Eh|0,this.El|0,v|0,_|0),{h:$,l:k}=Vt.add(this.Fh|0,this.Fl|0,$|0,k|0),{h:S,l:A}=Vt.add(this.Gh|0,this.Gl|0,S|0,A|0),{h:R,l:C}=Vt.add(this.Hh|0,this.Hl|0,R|0,C|0),this.set(n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C)}roundClean(){ys.fill(0),bs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class II extends R0{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class LI extends R0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class NI extends R0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ry=Ca(()=>new R0);Ca(()=>new II);Ca(()=>new LI);Ca(()=>new NI);jt.hmacSha256Sync=(r,...e)=>Mh(Pm,r,jt.concatBytes(...e));const op=f3(Pm);function Cy(r){return BigInt(`0x${JO(r)}`)}function DI(r){return XO(r.toString(16).padStart(64,"0"))}const FI=z8("Bitcoin seed"),sp={private:76066276,public:76067358},ap=2147483648,UI=r=>aI(Pm(r)),HI=r=>cf(r).getUint32(0,!1),_c=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const e=new Uint8Array(4);return cf(e).setUint32(0,r,!1),e};class ia{constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||sp,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!jt.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:Cy(e.privateKey),this.privKeyBytes=DI(this.privKey),this.pubKey=XT(e.privateKey,!0)}else if(e.publicKey)this.pubKey=cr.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=UI(this.pubKey)}get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return HI(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return op.encode(this.serialize(this.versions.private,vc(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return op.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=sp){if(na(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=Mh(Ry,FI,e);return new ia({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=sp){const n=op.decode(e),o=cf(n),i=o.getUint32(0,!1),a={versions:t,depth:n[4],parentFingerprint:o.getUint32(5,!1),index:o.getUint32(9,!1),chainCode:n.slice(13,45)},f=n.slice(45),c=f[0]===0;if(i!==t[c?"private":"public"])throw new Error("Version mismatch");return c?new ia({...a,privateKey:f.slice(1)}):new ia({...a,publicKey:f})}static fromJSON(e){return ia.fromExtendedKey(e.xpriv)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const o of t){const i=/^(\d+)('?)$/.exec(o);if(!i||i.length!==3)throw new Error(`Invalid child index: ${o}`);let a=+i[1];if(!Number.isSafeInteger(a)||a>=ap)throw new Error("Invalid index");i[2]==="'"&&(a+=ap),n=n.deriveChild(a)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=_c(e);if(e>=ap){const f=this.privateKey;if(!f)throw new Error("Could not derive hardened child key");t=vc(new Uint8Array([0]),f,t)}else t=vc(this.pubKey,t);const n=Mh(Ry,this.chainCode,t),o=Cy(n.slice(0,32)),i=n.slice(32);if(!jt.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");const a={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const f=jt.mod(this.privKey+o,Or.n);if(!jt.isValidPrivateKey(f))throw new Error("The tweak was out of range or the resulted private key is invalid");a.privateKey=f}else{const f=cr.fromHex(this.pubKey).add(cr.fromPrivateKey(o));if(f.equals(cr.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");a.publicKey=f.toRawBytes(!0)}return new ia(a)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return na(e,32),rO(e,this.privKey,{canonical:!0,der:!1})}verify(e,t){if(na(e,32),na(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Go.fromCompact(t)}catch{return!1}return iO(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return na(t,33),vc(_c(e),new Uint8Array([this.depth]),_c(this.parentFingerprint),_c(this.index),this.chainCode,t)}}class Y8 extends Jp{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uO(e);const n=$m(t);if(this.iHash=e.create(),!(this.iHash instanceof Jp))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(o);i.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:a,outputLen:f}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=a,e.outputLen=f,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const J8=(r,e,t)=>new Y8(r,e).update(t).digest();J8.create=(r,e)=>new Y8(r,e);var jI=Object.defineProperty,ss=(r,e)=>{for(var t in e)jI(r,t,{get:e[t],enumerable:!0})};function zI(){return jt.bytesToHex(jt.randomPrivateKey())}function X8(r){return jt.bytesToHex(Iu.getPublicKey(r))}var qI={};ss(qI,{insertEventIntoAscendingList:()=>VI,insertEventIntoDescendingList:()=>WI,normalizeURL:()=>KI,utf8Decoder:()=>la,utf8Encoder:()=>ts});var la=new TextDecoder("utf-8"),ts=new TextEncoder;function KI(r){let e=new URL(r);return e.pathname=e.pathname.replace(/\/+/g,"/"),e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),(e.port==="80"&&e.protocol==="ws:"||e.port==="443"&&e.protocol==="wss:")&&(e.port=""),e.searchParams.sort(),e.hash="",e.toString()}function WI(r,e){var a;let t=0,n=r.length-1,o,i=t;if(n<0)i=0;else if(e.created_at<r[n].created_at)i=n+1;else if(e.created_at>=r[t].created_at)i=t;else for(;;){if(n<=t+1){i=n;break}if(o=Math.floor(t+(n-t)/2),r[o].created_at>e.created_at)t=o;else if(r[o].created_at<e.created_at)n=o;else{i=o;break}}return((a=r[i])==null?void 0:a.id)!==e.id?[...r.slice(0,i),e,...r.slice(i)]:r}function VI(r,e){var a;let t=0,n=r.length-1,o,i=t;if(n<0)i=0;else if(e.created_at>r[n].created_at)i=n+1;else if(e.created_at<=r[t].created_at)i=t;else for(;;){if(n<=t+1){i=n;break}if(o=Math.floor(t+(n-t)/2),r[o].created_at<e.created_at)t=o;else if(r[o].created_at>e.created_at)n=o;else{i=o;break}}return((a=r[i])==null?void 0:a.id)!==e.id?[...r.slice(0,i),e,...r.slice(i)]:r}function ZI(r){if(!Q8(r))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,r.pubkey,r.created_at,r.kind,r.tags,r.content])}function Tm(r){let e=Lu(ts.encode(ZI(r)));return jt.bytesToHex(e)}function Q8(r){if(typeof r!="object"||typeof r.kind!="number"||typeof r.content!="string"||typeof r.created_at!="number"||typeof r.pubkey!="string"||!r.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(r.tags))return!1;for(let e=0;e<r.tags.length;e++){let t=r.tags[e];if(!Array.isArray(t))return!1;for(let n=0;n<t.length;n++)if(typeof t[n]=="object")return!1}return!0}function e5(r){return Iu.verifySync(r.sig,Tm(r),r.pubkey)}function GI(r,e){return jt.bytesToHex(Iu.signSync(Tm(r),e))}var YI={};ss(YI,{getHex64:()=>Om,getInt:()=>t5,getSubscriptionId:()=>JI,matchEventId:()=>XI,matchEventKind:()=>eL,matchEventPubkey:()=>QI});function Om(r,e){let t=e.length+3,n=r.indexOf(`"${e}":`)+t,o=r.slice(n).indexOf('"')+n+1;return r.slice(o,o+64)}function t5(r,e){let t=e.length,n=r.indexOf(`"${e}":`)+t+3,o=r.slice(n),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function JI(r){let e=r.slice(0,22).indexOf('"EVENT"');if(e===-1)return null;let t=r.slice(e+7+1).indexOf('"');if(t===-1)return null;let n=e+7+1+t,o=r.slice(n+1,80).indexOf('"');if(o===-1)return null;let i=n+1+o;return r.slice(n+1,i)}function XI(r,e){return e===Om(r,"id")}function QI(r,e){return e===Om(r,"pubkey")}function eL(r,e){return e===t5(r,"kind")}var br={};ss(br,{decode:()=>tL,naddrEncode:()=>aL,neventEncode:()=>sL,noteEncode:()=>iL,nprofileEncode:()=>oL,npubEncode:()=>nL,nsecEncode:()=>rL});var Fu=5e3;function tL(r){var o,i,a,f,c,d;let{prefix:e,words:t}=$n.decode(r,Fu),n=new Uint8Array($n.fromWords(t));switch(e){case"nprofile":{let m=fp(n);if(!((o=m[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:jt.bytesToHex(m[0][0]),relays:m[1]?m[1].map(v=>la.decode(v)):[]}}}case"nevent":{let m=fp(n);if(!((i=m[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(m[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(m[2]&&m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:jt.bytesToHex(m[0][0]),relays:m[1]?m[1].map(v=>la.decode(v)):[],author:(a=m[2])!=null&&a[0]?jt.bytesToHex(m[2][0]):void 0}}}case"naddr":{let m=fp(n);if(!((f=m[0])!=null&&f[0]))throw new Error("missing TLV 0 for naddr");if(!((c=m[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(m[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((d=m[3])!=null&&d[0]))throw new Error("missing TLV 3 for naddr");if(m[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:la.decode(m[0][0]),pubkey:jt.bytesToHex(m[2][0]),kind:parseInt(jt.bytesToHex(m[3][0]),16),relays:m[1]?m[1].map(v=>la.decode(v)):[]}}}case"nsec":case"npub":case"note":return{type:e,data:jt.bytesToHex(n)};default:throw new Error(`unknown prefix ${e}`)}}function fp(r){let e={},t=r;for(;t.length>0;){let n=t[0],o=t[1],i=t.slice(2,2+o);t=t.slice(2+o),!(i.length<o)&&(e[n]=e[n]||[],e[n].push(i))}return e}function rL(r){return Im("nsec",r)}function nL(r){return Im("npub",r)}function iL(r){return Im("note",r)}function Im(r,e){let t=jt.hexToBytes(e),n=$n.toWords(t);return $n.encode(r,n,Fu)}function oL(r){let e=Lm({0:[jt.hexToBytes(r.pubkey)],1:(r.relays||[]).map(n=>ts.encode(n))}),t=$n.toWords(e);return $n.encode("nprofile",t,Fu)}function sL(r){let e=Lm({0:[jt.hexToBytes(r.id)],1:(r.relays||[]).map(n=>ts.encode(n)),2:r.author?[jt.hexToBytes(r.author)]:[]}),t=$n.toWords(e);return $n.encode("nevent",t,Fu)}function aL(r){let e=new ArrayBuffer(4);new DataView(e).setUint32(0,r.kind,!1);let t=Lm({0:[ts.encode(r.identifier)],1:(r.relays||[]).map(o=>ts.encode(o)),2:[jt.hexToBytes(r.pubkey)],3:[new Uint8Array(e)]}),n=$n.toWords(t);return $n.encode("naddr",n,Fu)}function Lm(r){let e=[];return Object.entries(r).forEach(([t,n])=>{n.forEach(o=>{let i=new Uint8Array(o.length+2);i.set([parseInt(t)],0),i.set([o.length],1),i.set(o,2),e.push(i)})}),jt.concatBytes(...e)}var e1={};ss(e1,{decrypt:()=>lL,encrypt:()=>fL});async function fL(r,e,t){const n=p8(r,"02"+e),o=r5(n);let i=Uint8Array.from(hO(16)),a=ts.encode(t),f=await crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!1,["encrypt"]),c=await crypto.subtle.encrypt({name:"AES-CBC",iv:i},f,a),d=bf.encode(new Uint8Array(c)),m=bf.encode(new Uint8Array(i.buffer));return`${d}?iv=${m}`}async function lL(r,e,t){let[n,o]=t.split("?iv="),i=p8(r,"02"+e),a=r5(i),f=await crypto.subtle.importKey("raw",a,{name:"AES-CBC"},!1,["decrypt"]),c=bf.decode(n),d=bf.decode(o),m=await crypto.subtle.decrypt({name:"AES-CBC",iv:d},f,c);return la.decode(m)}function r5(r){return r.slice(1,33)}var C0={};ss(C0,{queryProfile:()=>hL,searchDomain:()=>cL,useFetchImplementation:()=>uL});var P0;try{P0=fetch}catch{}function uL(r){P0=r}async function cL(r,e=""){try{return(await(await P0(`https://${r}/.well-known/nostr.json?name=${e}`)).json()).names}catch{return{}}}async function hL(r){var a,f;let[e,t]=r.split("@");if(t||(t=e,e="_"),!e.match(/^[A-Za-z0-9-_]+$/)||!t.includes("."))return null;let n;try{n=await(await P0(`https://${t}/.well-known/nostr.json?name=${e}`)).json()}catch{return null}if(!((a=n==null?void 0:n.names)!=null&&a[e]))return null;let o=n.names[e],i=((f=n.relays)==null?void 0:f[o])||[];return{pubkey:o,relays:i}}var dL={};ss(dL,{generateSeedWords:()=>mL,privateKeyFromSeedWords:()=>pL,validateWords:()=>vL});function pL(r,e){let n=ia.fromMasterSeed(C8(r,e)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return jt.bytesToHex(n)}function mL(){return N8(km)}function vL(r){return H8(r,km)}var gL={};ss(gL,{createDelegation:()=>yL,getDelegator:()=>bL});function yL(r,e){let t=[];(e.kind||-1)>=0&&t.push(`kind=${e.kind}`),e.until&&t.push(`created_at<${e.until}`),e.since&&t.push(`created_at>${e.since}`);let n=t.join("&");if(n==="")throw new Error("refusing to create a delegation without any conditions");let o=Lu(ts.encode(`nostr:delegation:${e.pubkey}:${n}`)),i=jt.bytesToHex(Iu.signSync(o,r));return{from:X8(r),to:e.pubkey,cond:n,sig:i}}function bL(r){let e=r.tags.find(f=>f[0]==="delegation"&&f.length>=4);if(!e)return null;let t=e[1],n=e[2],o=e[3],i=n.split("&");for(let f=0;f<i.length;f++){let[c,d,m]=i[f].split(/\b/);if(!(c==="kind"&&d==="="&&r.kind===parseInt(m))){if(c==="created_at"&&d==="<"&&r.created_at<parseInt(m))continue;if(c==="created_at"&&d===">"&&r.created_at>parseInt(m))continue;return null}}let a=Lu(ts.encode(`nostr:delegation:${r.pubkey}:${n}`));return Iu.verifySync(o,a,t)?t:null}var _L={};ss(_L,{useFetchImplementation:()=>wL,validateGithub:()=>ML});var Nm;try{Nm=fetch}catch{}function wL(r){Nm=r}async function ML(r,e,t){try{return await(await Nm(`https://gist.github.com/${e}/${t}/raw`)).text()===`Verifying that I control the following Nostr public key: ${r}`}catch{return!1}}var $L={};ss($L,{getZapEndpoint:()=>kL,makeZapReceipt:()=>AL,makeZapRequest:()=>SL,useFetchImplementation:()=>xL,validateZapRequest:()=>EL});var Dm;try{Dm=fetch}catch{}function xL(r){Dm=r}async function kL(r){try{let e="",{lud06:t,lud16:n}=JSON.parse(r.content);if(t){let{words:a}=$n.decode(t,1e3),f=$n.fromWords(a);e=la.decode(f)}else if(n){let[a,f]=n.split("@");e=`https://${f}/.well-known/lnurlp/${a}`}else return null;let i=await(await Dm(e)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function SL({profile:r,event:e,amount:t,relays:n,comment:o=""}){if(!t)throw new Error("amount not given");if(!r)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",r],["amount",t.toString()],["relays",...n]]};return e&&i.tags.push(["e",e]),i}function EL(r){let e;try{e=JSON.parse(r)}catch{return"Invalid zap request JSON."}if(!Q8(e))return"Zap request is not a valid Nostr event.";if(!e5(e))return"Invalid signature on zap request.";let t=e.tags.find(([i,a])=>i==="p"&&a);if(!t)return"Zap request doesn't have a 'p' tag.";if(!t[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let n=e.tags.find(([i,a])=>i==="e"&&a);return n&&!n[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":e.tags.find(([i,a])=>i==="relays"&&a)?null:"Zap request doesn't have a 'relays' tag."}function AL({zapRequest:r,preimage:e,bolt11:t,paidAt:n}){let i=JSON.parse(r).tags.filter(([f])=>f==="e"||f==="p"||f==="a"),a={kind:9735,created_at:Math.round(n.getTime()/1e3),content:"",tags:[...i,["bolt11",t],["description",r]]};return e&&a.tags.push(["preimage",e]),a}jt.hmacSha256Sync=(r,...e)=>J8(Lu,r,jt.concatBytes(...e));jt.sha256Sync=(...r)=>Lu(jt.concatBytes(...r));const T0=[0,2,3,10001,10002],BL=T0.concat([1e4]);class Pr{constructor(e){Gt(this,"tags");this.tags=e}static from(e){return new Pr(kt.exports.ensurePlural(e).flatMap(Gr("tags")))}static wrap(e){return new Pr((e||[]).filter(oi))}all(){return this.tags}first(){return kt.exports.first(this.tags)}nth(e){return this.tags[e]}last(){return Yr(this.tags)}relays(){return $o(Rp(this.tags).filter(i5)).map(Yf("url"))}pubkeys(){return this.type("p").values().all()}asMeta(){return Gw(this.tags)}values(){return new Pr(this.tags.map(e=>e[1]))}filter(e){return new Pr(this.tags.filter(e))}type(e){return new Pr(this.tags.filter(t=>t[0]===e))}equals(e){return new Pr(this.tags.filter(t=>t[1]===e))}mark(e){return new Pr(this.tags.filter(t=>Yr(t)===e))}}const RL=r=>Pr.from(r).type("e").mark("reply").first()||Pr.from(r).type("e").last(),Nn=r=>Pr.wrap([RL(r)]).values().first(),CL=r=>Pr.from(r).type("e").mark("root").first(),ua=r=>Pr.wrap([CL(r)]).values().first(),er=r=>{var e,t,n,o;if((e=r.kind0)!=null&&e.display_name)return kt.exports.ellipsize((t=r.kind0)==null?void 0:t.display_name,60);if((n=r.kind0)!=null&&n.name)return kt.exports.ellipsize((o=r.kind0)==null?void 0:o.name,60);try{return br.npubEncode(r.pubkey).slice(-8)}catch(i){return console.error(i),""}},n5=({url:r})=>Yr(r.split("://")),Fm=r=>["","+","\u{1F919}","\u{1F44D}","\u2764\uFE0F","\u{1F60E}","\u{1F3C5}"].includes(r),PL=(r,e)=>!(![1,7,9735].includes(r.kind)||r.pubkey===e||r.kind===7&&!Fm(r.content)),Uu=r=>typeof r=="string"&&r.match(/^wss?:\/\/.+/),i5=r=>Uu(r)&&!r.slice(6).match(/:\d+/)&&!r.slice(6).match(/\d+\.\d+\.\d+\.\d+/)&&!r.slice(6).match(/\/npub/),O0=r=>r.replace(/\/+$/,"").toLowerCase().trim(),I0=["name","about","picture"],t1=r=>({replies:[],reactions:[],zaps:[],...r}),Hu=r=>{if(r.match(/[a-zA-Z0-9]{64}/))return r;try{return br.decode(r).data}catch{return null}},Py=(r,e)=>yu(Array,r)?r.map(vx(e)):{...r,...e},TL="modulepreload",OL=function(r){return"/noskb/"+r},Ty={},o5=function(e,t,n){if(!t||t.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=OL(i),i in Ty)return;Ty[i]=!0;const a=i.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const v=o[m];if(v.href===i&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${f}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":TL,a||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),a)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},ju=r=>{const{activeElement:e}=document,t=document.createElement("textarea");t.innerHTML=r,document.body.appendChild(t),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),e.focus(),n},s5=async(r,e={})=>{if(window.DataTransferItem&&r instanceof DataTransferItem&&(r=r.getAsFile()),!r)return r;const{default:t}=await o5(()=>import("./compressor.esm.bf8af3ea.js"),[]);return new Promise((n,o)=>{new t(r,{maxWidth:1024,maxHeight:1024,convertSize:kt.exports.bytes(1,"mb"),...e,success:n,error:i=>{if(i.toString().includes("File or Blob"))return n(r);o(i)}})})},IL=(r,e)=>{r.addEventListener("change",async t=>{const n=t.target,[o]=n.files;e(o||null)})},LL=r=>new File([r],r.name,{type:r.type}),NL=r=>{r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()},$h=r=>e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),r()},Um=r=>{var a;const e=r.trim(),t=[];let n="",o=0;const i=(f,c,d=null)=>{n&&(t.push({type:"text",value:n}),n=""),t.push({type:f,value:d||c}),o+=c.length};for(;o<e.length;){const f=e.slice(o),c=f.match(/^\n+/);if(c){i("newline",c[0]);continue}const d=f.match(/^#\[\d+\]/i);if(d){i("mention",d[0]);continue}const m=f.match(/^#\w+/i);if(m){i("topic",m[0]);continue}const v=f.match(/^(nostr:)?n(event|ote|profile|pub)1[\d\w]+/i);if(v)try{const k=v[0].replace("nostr:",""),{type:S,data:A}=br.decode(k);i(`nostr:${S}`,v[0],{...A,entity:k});continue}catch(k){console.log(k)}const _=f.match(/^((http|ws)s?:\/\/)?[-a-z0-9@:%_\+~#=\.]+\.[a-z]{1,6}[-a-z0-9:%_\+~#\?!&\/=;\.]*/gi);if(_&&!((a=Yr(t))!=null&&a.value.endsWith("/"))){let k=_[0];if(!k.match(/\.\./)&&k.length>4){k.match(/[\.\?,:]$/)&&(k=k.slice(0,-1)),k.match("://")||(k="https://"+k),i("link",_[0],k);continue}}const $=f.match(/^[\w\d]+ ?/i);$?(n+=$[0],o+=$[0].length):(n+=e[o],o+=1)}return n&&t.push({type:"text",value:n}),t},r1=localStorage.mobile||window.navigator.maxTouchPoints>1,DL=r=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]},Tl=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,FL=typeof AbortController=="function",xh=FL?AbortController:class{constructor(){this.signal=new a5}abort(e=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||e,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},UL=typeof AbortSignal=="function",HL=typeof xh.AbortSignal=="function",a5=UL?AbortSignal:HL?xh.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(e){e.type==="abort"&&(this.aborted=!0,this.onabort(e),this._listeners.forEach(t=>t(e),this))}onabort(){}addEventListener(e,t){e==="abort"&&this._listeners.push(t)}removeEventListener(e,t){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==t))}},Hm=new Set,lp=(r,e)=>{const t=`LRU_CACHE_OPTION_${r}`;L0(t)&&jm(t,`${r} option`,`options.${e}`,$a)},up=(r,e)=>{const t=`LRU_CACHE_METHOD_${r}`;if(L0(t)){const{prototype:n}=$a,{get:o}=Object.getOwnPropertyDescriptor(n,r);jm(t,`${r} method`,`cache.${e}()`,o)}},jL=(r,e)=>{const t=`LRU_CACHE_PROPERTY_${r}`;if(L0(t)){const{prototype:n}=$a,{get:o}=Object.getOwnPropertyDescriptor(n,r);jm(t,`${r} property`,`cache.${e}`,o)}},f5=(...r)=>{typeof It.exports=="object"&&It.exports&&typeof It.exports.emitWarning=="function"?It.exports.emitWarning(...r):console.error(...r)},L0=r=>!Hm.has(r),jm=(r,e,t,n)=>{Hm.add(r);const o=`The ${e} is deprecated. Please use ${t} instead.`;f5(o,"DeprecationWarning",r,n)},_s=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),l5=r=>_s(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?qc:null:null;class qc extends Array{constructor(e){super(e),this.fill(0)}}class zL{constructor(e){if(e===0)return[];const t=l5(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class $a{constructor(e={}){const{max:t=0,ttl:n,ttlResolution:o=1,ttlAutopurge:i,updateAgeOnGet:a,updateAgeOnHas:f,allowStale:c,dispose:d,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:_,maxSize:$=0,maxEntrySize:k=0,sizeCalculation:S,fetchMethod:A,fetchContext:R,noDeleteOnFetchRejection:C,noDeleteOnStaleGet:T,allowStaleOnFetchRejection:B,allowStaleOnFetchAbort:L,ignoreFetchAbort:j}=e,{length:V,maxAge:Z,stale:Q}=e instanceof $a?{}:e;if(t!==0&&!_s(t))throw new TypeError("max option must be a nonnegative integer");const ne=t?l5(t):Array;if(!ne)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=$,this.maxEntrySize=k||this.maxSize,this.sizeCalculation=S||V,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=A||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=R,!this.fetchMethod&&R!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new ne(t),this.prev=new ne(t),this.head=0,this.tail=0,this.free=new zL(t),this.initialFill=1,this.size=0,typeof d=="function"&&(this.dispose=d),typeof m=="function"?(this.disposeAfter=m,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!_,this.noDeleteOnFetchRejection=!!C,this.allowStaleOnFetchRejection=!!B,this.allowStaleOnFetchAbort=!!L,this.ignoreFetchAbort=!!j,this.maxEntrySize!==0){if(this.maxSize!==0&&!_s(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!_s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!Q,this.noDeleteOnStaleGet=!!T,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!f,this.ttlResolution=_s(o)||o===0?o:1,this.ttlAutopurge=!!i,this.ttl=n||Z||0,this.ttl){if(!_s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const w="LRU_CACHE_UNBOUNDED";L0(w)&&(Hm.add(w),f5("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",w,$a))}Q&&lp("stale","allowStale"),Z&&lp("maxAge","ttl"),V&&lp("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new qc(this.max),this.starts=new qc(this.max),this.setItemTTL=(n,o,i=Tl.now())=>{if(this.starts[n]=o!==0?i:0,this.ttls[n]=o,o!==0&&this.ttlAutopurge){const a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},o+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Tl.now():0},this.statusTTL=(n,o)=>{n&&(n.ttl=this.ttls[o],n.start=this.starts[o],n.now=e||t(),n.remainingTTL=n.now+n.ttl-n.start)};let e=0;const t=()=>{const n=Tl.now();if(this.ttlResolution>0){e=n;const o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{const o=this.keyMap.get(n);return o===void 0?0:this.ttls[o]===0||this.starts[o]===0?1/0:this.starts[o]+this.ttls[o]-(e||t())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||t())-this.starts[n]>this.ttls[n]}updateItemAge(e){}statusTTL(e,t){}setItemTTL(e,t,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new qc(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,t,n,o)=>{if(this.isBackgroundFetch(t))return 0;if(!_s(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(t,e),!_s(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.addItemSize=(e,t,n)=>{if(this.sizes[e]=t,this.maxSize){const o=this.maxSize-this.sizes[e];for(;this.calculatedSize>o;)this.evict(!0)}this.calculatedSize+=this.sizes[e],n&&(n.entrySize=t,n.totalCalculatedSize=this.calculatedSize)}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,n,o){if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;!(!this.isValidIndex(t)||((e||!this.isStale(t))&&(yield t),t===this.head));)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;!(!this.isValidIndex(t)||((e||!this.isStale(t))&&(yield t),t===this.tail));)t=this.next[t]}isValidIndex(e){return e!==void 0&&this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*rentries(){for(const e of this.rindexes())this.valList[e]!==void 0&&this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield[this.keyList[e],this.valList[e]])}*keys(){for(const e of this.indexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*rkeys(){for(const e of this.rindexes())this.keyList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.keyList[e])}*values(){for(const e of this.indexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}*rvalues(){for(const e of this.rindexes())this.valList[e]!==void 0&&!this.isBackgroundFetch(this.valList[e])&&(yield this.valList[e])}[Symbol.iterator](){return this.entries()}find(e,t){for(const n of this.indexes()){const o=this.valList[n],i=this.isBackgroundFetch(o)?o.__staleWhileFetching:o;if(i!==void 0&&e(i,this.keyList[n],this))return this.get(this.keyList[n],t)}}forEach(e,t=this){for(const n of this.indexes()){const o=this.valList[n],i=this.isBackgroundFetch(o)?o.__staleWhileFetching:o;i!==void 0&&e.call(t,i,this.keyList[n],this)}}rforEach(e,t=this){for(const n of this.rindexes()){const o=this.valList[n],i=this.isBackgroundFetch(o)?o.__staleWhileFetching:o;i!==void 0&&e.call(t,i,this.keyList[n],this)}}get prune(){return up("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){const e=[];for(const t of this.indexes({allowStale:!0})){const n=this.keyList[t],o=this.valList[t],i=this.isBackgroundFetch(o)?o.__staleWhileFetching:o;if(i===void 0)continue;const a={value:i};if(this.ttls){a.ttl=this.ttls[t];const f=Tl.now()-this.starts[t];a.start=Math.floor(Date.now()-f)}this.sizes&&(a.size=this.sizes[t]),e.unshift([n,a])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const o=Date.now()-n.start;n.start=Tl.now()-o}this.set(t,n.value,n)}}dispose(e,t,n){}set(e,t,{ttl:n=this.ttl,start:o,noDisposeOnSet:i=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,status:d}={}){if(a=this.requireSize(e,t,a,f),this.maxEntrySize&&a>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.delete(e),this;let m=this.size===0?void 0:this.keyMap.get(e);if(m===void 0)m=this.newIndex(),this.keyList[m]=e,this.valList[m]=t,this.keyMap.set(e,m),this.next[this.tail]=m,this.prev[m]=this.tail,this.tail=m,this.size++,this.addItemSize(m,a,d),d&&(d.set="add"),c=!1;else{this.moveToTail(m);const v=this.valList[m];if(t!==v){if(this.isBackgroundFetch(v)?v.__abortController.abort(new Error("replaced")):i||(this.dispose(v,e,"set"),this.disposeAfter&&this.disposed.push([v,e,"set"])),this.removeItemSize(m),this.valList[m]=t,this.addItemSize(m,a,d),d){d.set="replace";const _=v&&this.isBackgroundFetch(v)?v.__staleWhileFetching:v;_!==void 0&&(d.oldValue=_)}}else d&&(d.set="update")}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(m,n,o),this.statusTTL(d,m),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,n=this.keyList[t],o=this.valList[t];return this.isBackgroundFetch(o)?o.__abortController.abort(new Error("evicted")):(this.dispose(o,n,"evict"),this.disposeAfter&&this.disposed.push([o,n,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(n),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas,status:n}={}){const o=this.keyMap.get(e);if(o!==void 0)if(this.isStale(o))n&&(n.has="stale",this.statusTTL(n,o));else return t&&this.updateItemAge(o),n&&(n.has="hit"),this.statusTTL(n,o),!0;else n&&(n.has="miss");return!1}peek(e,{allowStale:t=this.allowStale}={}){const n=this.keyMap.get(e);if(n!==void 0&&(t||!this.isStale(n))){const o=this.valList[n];return this.isBackgroundFetch(o)?o.__staleWhileFetching:o}}backgroundFetch(e,t,n,o){const i=t===void 0?void 0:this.valList[t];if(this.isBackgroundFetch(i))return i;const a=new xh;n.signal&&n.signal.addEventListener("abort",()=>a.abort(n.signal.reason));const f={signal:a.signal,options:n,context:o},c=($,k=!1)=>{const{aborted:S}=a.signal,A=n.ignoreFetchAbort&&$!==void 0;return n.status&&(S&&!k?(n.status.fetchAborted=!0,n.status.fetchError=a.signal.reason,A&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),S&&!A&&!k?m(a.signal.reason):(this.valList[t]===_&&($===void 0?_.__staleWhileFetching?this.valList[t]=_.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,$,f.options))),$)},d=$=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=$),m($)),m=$=>{const{aborted:k}=a.signal,S=k&&n.allowStaleOnFetchAbort,A=S||n.allowStaleOnFetchRejection,R=A||n.noDeleteOnFetchRejection;if(this.valList[t]===_&&(!R||_.__staleWhileFetching===void 0?this.delete(e):S||(this.valList[t]=_.__staleWhileFetching)),A)return n.status&&_.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),_.__staleWhileFetching;if(_.__returned===_)throw $},v=($,k)=>{this.fetchMethod(e,i,f).then(S=>$(S),k),a.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&($(),n.allowStaleOnFetchAbort&&($=S=>c(S,!0)))})};n.status&&(n.status.fetchDispatched=!0);const _=new Promise(v).then(c,d);return _.__abortController=a,_.__staleWhileFetching=i,_.__returned=null,t===void 0?(this.set(e,_,{...f.options,status:void 0}),t=this.keyMap.get(e)):this.valList[t]=_,_}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:m=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:v=this.allowStaleOnFetchRejection,ignoreFetchAbort:_=this.ignoreFetchAbort,allowStaleOnFetchAbort:$=this.allowStaleOnFetchAbort,fetchContext:k=this.fetchContext,forceRefresh:S=!1,status:A,signal:R}={}){if(!this.fetchMethod)return A&&(A.fetch="get"),this.get(e,{allowStale:t,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:A});const C={allowStale:t,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:i,noDisposeOnSet:a,size:f,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:m,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:$,ignoreFetchAbort:_,status:A,signal:R};let T=this.keyMap.get(e);if(T===void 0){A&&(A.fetch="miss");const B=this.backgroundFetch(e,T,C,k);return B.__returned=B}else{const B=this.valList[T];if(this.isBackgroundFetch(B)){const Q=t&&B.__staleWhileFetching!==void 0;return A&&(A.fetch="inflight",Q&&(A.returnedStale=!0)),Q?B.__staleWhileFetching:B.__returned=B}const L=this.isStale(T);if(!S&&!L)return A&&(A.fetch="hit"),this.moveToTail(T),n&&this.updateItemAge(T),this.statusTTL(A,T),B;const j=this.backgroundFetch(e,T,C,k),V=j.__staleWhileFetching!==void 0,Z=V&&t;return A&&(A.fetch=V&&L?"stale":"refresh",Z&&L&&(A.returnedStale=!0)),Z?j.__staleWhileFetching:j.__returned=j}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:i}={}){const a=this.keyMap.get(e);if(a!==void 0){const f=this.valList[a],c=this.isBackgroundFetch(f);return this.statusTTL(i,a),this.isStale(a)?(i&&(i.get="stale"),c?(i&&(i.returnedStale=t&&f.__staleWhileFetching!==void 0),t?f.__staleWhileFetching:void 0):(o||this.delete(e),i&&(i.returnedStale=t),t?f:void 0)):(i&&(i.get="hit"),c?f.__staleWhileFetching:(this.moveToTail(a),n&&this.updateItemAge(a),f))}else i&&(i.get="miss")}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return up("del","delete"),this.delete}delete(e){let t=!1;if(this.size!==0){const n=this.keyMap.get(e);if(n!==void 0)if(t=!0,this.size===1)this.clear();else{this.removeItemSize(n);const o=this.valList[n];this.isBackgroundFetch(o)?o.__abortController.abort(new Error("deleted")):(this.dispose(o,e,"delete"),this.disposeAfter&&this.disposed.push([o,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(const e of this.rindexes({allowStale:!0})){const t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort(new Error("deleted"));else{const n=this.keyList[e];this.dispose(t,n,"delete"),this.disposeAfter&&this.disposed.push([t,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return up("reset","clear"),this.clear}get length(){return jL("length","size"),this.size}static get AbortController(){return xh}static get AbortSignal(){return a5}}const qL=$a,KL=tn(([r,e])=>e.lru);class N0{constructor({max:e=1e3,sort:t=KL}={}){Gt(this,"max");Gt(this,"sort");Gt(this,"data");Gt(this,"lru");this.max=e,this.sort=t,this.data=new Map,this.lru=new Map}set(e,t){this.data.set(e,t),this.lru.set(e,Date.now())}delete(e){this.data.delete(e),this.lru.delete(e)}get(e){return this.data.get(e)}size(){return this.data.size}entries(){return this.data.entries()}keys(){return this.data.keys()}values(){return this.data.values()}find(e){for(const t of this.data.values())if(e(t))return t}load(e){for(const[t,{value:n,lru:o}]of e)this.data.set(t,n),this.lru.set(t,o)}dump(){return Array.from(this.data.keys()).map(e=>[e,{value:this.data.get(e),lru:this.lru.get(e)}])}prune(){if(!(this.data.size<=this.max))for(const e of this.sort(this.dump()).map(gu(0)).slice(this.max))this.delete(e)}clear(){this.data.clear(),this.lru.clear()}}const Kc=new Worker(new URL("/noskb/assets/database.697af47b.js",self.location),{type:"module"});Kc.addEventListener("error",yf);class WL{constructor({onMessage:e}){Gt(this,"id");Gt(this,"onMessage");this.id=Math.random().toString().slice(2),this.onMessage=t=>{t.data.channel===this.id&&e(t.data)},Kc.addEventListener("message",this.onMessage)}close(){Kc.removeEventListener("message",this.onMessage)}send(e,t){Kc.postMessage({channel:this.id,topic:e,payload:t})}}const VL=(r,e)=>new Promise(t=>{const n=new WL({onMessage:o=>{t(o),n.close()}});n.send(r,e)}),zm=async(r,...e)=>{const t=await VL("localforage.call",{method:r,args:e});if(t.topic!=="localforage.return")throw new Error(`callLocalforage received invalid response: ${t}`);return t.payload},ZL=(r,e)=>zm("setItem",r,e),GL=r=>zm("removeItem",r),YL=r=>zm("getItem",r),zu={};class Pa{constructor(e,t,n={}){Gt(this,"name");Gt(this,"pk");Gt(this,"opts");Gt(this,"cache");Gt(this,"listeners");Gt(this,"ready");Gt(this,"interval");Gt(this,"_persist",qh(4e3,()=>{ZL(this.name,this.cache.dump())}));this.name=e,this.pk=t,this.opts=n,this.cache=this.opts.cache||new N0,this.listeners=[],this.ready=Gn(!1),zu[e]=this,(async()=>{const o=Date.now();let i=await YL(this.name)||[];kt.exports.isObject(i)&&(i=Object.entries(kt.exports.mapValues(Yf("value"),i))),this.cache.load(i),this._notify(),Ts(`Table ${e} ready in ${Date.now()-o}ms (${this.cache.size()} records)`),this.ready.set(!0)})(),this.interval=window.setInterval(()=>{this.cache.prune(),this._persist()},3e4+1e4*Math.random())}_notify(){for(const e of this.listeners)e(this);this._persist()}subscribe(e){return this.listeners.push(e),e(this),()=>{this.listeners=gf([e],this.listeners)}}bulkPut(e){for(const t of e){const n=t[this.pk];if(!n)throw new Error(`Missing gray-6 key on ${this.name}`);this.cache.set(n,t)}this._notify()}put(e){this.bulkPut([e])}bulkPatch(e){for(const t of e){const n=t[this.pk];if(!n)throw new Error(`Missing gray-6 key on ${this.name}`);this.cache.set(n,{...this.cache.get(n),...t})}this._notify()}patch(e){this.bulkPatch([e])}bulkRemove(e){for(const t of e)this.cache.delete(t);this._notify()}remove(e){this.bulkRemove([e])}async drop(){this.cache.clear(),await GL(this.name)}toArray(){return Array.from(this.cache.values())}all(e={}){return this.toArray().filter(Qv(e))}find(e={}){return this.cache.find(Qv(e))}get(e){return this.cache.get(e)}}const u5=(()=>{let r=[];return{connect:()=>{for(const e of Object.values(zu))e.subscribe(()=>r.forEach(t=>t(e.name)))},subscribe:e=>(r.push(e),()=>{r=gf([e],r)})}})(),on=(r,e)=>{r=kt.exports.ensurePlural(r);const t=Gn(null),n=r.map(i=>zu[i]),o=e(...n);return yu(Promise,o)?o.then(i=>t.set(i)):t.set(o),t.refresh=qh(300,async()=>t.set(await e(...n))),u5.subscribe(i=>{r.includes(i)&&t.refresh()}),t},JL=async()=>{for(const r of Object.values(zu))await r.drop(),Ts(`Successfully dropped table ${r.name}`)},fl=Jf("agent/keys/method"),fu=Jf("agent/keys/pubkey"),Df=Jf("agent/keys/privkey"),n1=()=>window.nostr,XL=()=>["privkey","extension"].includes(vo(fl)),QL=r=>br.npubEncode(r),eN=(r,e)=>{fl.set(r),r==="privkey"?(Df.set(e),fu.set(X8(e))):(Df.set(null),fu.set(e))},tN=()=>{fl.set(null),fu.set(null),Df.set(null)},rN=r=>{const e=vo(fl);if(r.pubkey=vo(fu),r.id=Tm(r),e==="privkey")return Object.assign(r,{sig:GI(r,vo(Df))});if(e==="extension")return n1().signEvent(r);throw new Error(`Unable to sign event, method is ${e}`)},nN=()=>{const r=vo(fl);if(r==="privkey"){const e=vo(Df);return{encrypt:(t,n)=>e1.encrypt(e,t,n),decrypt:async(t,n)=>{try{return e1.decrypt(e,t,n)}catch(o){return yf(o),`<Failed to decrypt message: ${o}>`}}}}if(r==="extension")return{encrypt:(e,t)=>n1().nip04.encrypt(e,t),decrypt:async(e,t)=>{try{return await n1().nip04.decrypt(e,t)}catch(n){return yf(n),`<Failed to decrypt message: ${n}>`}}};throw new Error("No encryption method available.")},mn={method:fl,pubkey:fu,privkey:Df,canSign:XL,validate:QL,login:eN,clear:tN,sign:rN,getCrypt:nN};var Va=null;typeof WebSocket<"u"?Va=WebSocket:typeof MozWebSocket<"u"?Va=MozWebSocket:typeof Ac<"u"?Va=Ac.WebSocket||Ac.MozWebSocket:typeof window<"u"?Va=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Va=self.WebSocket||self.MozWebSocket);const iN=Va;var oN=Object.defineProperty,sN=(r,e,t)=>e in r?oN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c5=(r,e,t)=>(sN(r,typeof e!="symbol"?e+"":e,t),t),h5=class{constructor(){Gt(this,"listeners",{})}addListener(r,e){return this.listeners[r]=this.listeners[r]||[],this.listeners[r].push(e),()=>this.removeListener(r,e)}addListeners(r){const e=[];for(const[t,n]of Object.entries(r))e.push(this.addListener(t,n));return()=>e.forEach(t=>t())}removeListener(r,e){this.listeners[r]=(this.listeners[r]||[]).filter(t=>t!==e)}clear(){this.listeners={}}emit(r,...e){for(const t of this.listeners[r]||[])t(...e);for(const t of this.listeners[h5.ANY]||[])t(r,...e)}},qu=h5;c5(qu,"ANY",Math.random().toString().slice(2));var Oy=()=>{let r,e;const t=new Promise((n,o)=>{r=n,e=o});return Object.assign(t,{resolve:r,reject:e})},ws=class{constructor(r){Gt(this,"ws");Gt(this,"url");Gt(this,"ready");Gt(this,"timeout");Gt(this,"queue");Gt(this,"bus");Gt(this,"status");Gt(this,"error");Gt(this,"_onOpen");Gt(this,"_onMessage");Gt(this,"_onError");Gt(this,"_onClose");this.url=r,this.ready=Oy(),this.queue=[],this.bus=new qu,this.status=ws.STATUS.NEW,this._onOpen=()=>{this.error=void 0,this.status=ws.STATUS.READY,this.ready.resolve(),this.bus.emit("open")},this._onMessage=e=>{this.queue.push(e.data),this.timeout||this.handleMessagesAsync()},this._onError=e=>{this.error=e,this.bus.emit("error",e)},this._onClose=()=>{this.disconnect(),this.ready.reject(),this.status=ws.STATUS.CLOSED,this.bus.emit("close")}}async connect(){[ws.STATUS.NEW,ws.STATUS.CLOSED].includes(this.status)&&(this.ws&&console.error("Attempted to connect when already connected",this),this.ready=Oy(),this.ws=new iN(this.url),this.status=ws.STATUS.PENDING,this.ws.addEventListener("open",this._onOpen),this.ws.addEventListener("message",this._onMessage),this.ws.addEventListener("error",this._onError),this.ws.addEventListener("close",this._onClose)),await this.ready.catch(()=>null)}disconnect(){if(this.ws){const r=this.ws;this.ready.then(()=>r.close(),()=>null),this.ws.removeEventListener("open",this._onOpen),this.ws.removeEventListener("message",this._onMessage),this.ws.removeEventListener("error",this._onError),this.ws.removeEventListener("close",this._onClose),this.ws=void 0}}cleanup(){this.disconnect(),this.bus.clear()}handleMessages(){for(const r of this.queue.splice(0,10)){let e;try{e=JSON.parse(r)}catch{continue}this.bus.emit("message",this.url,e)}this.queue.length>0?this.handleMessagesAsync():this.timeout=void 0}handleMessagesAsync(){this.timeout=setTimeout(()=>this.handleMessages(),10)}send(r){var e,t;this.status===ws.STATUS.READY&&(((e=this.ws)==null?void 0:e.readyState)!==1&&console.warn("Send attempted before socket was ready",this),(t=this.ws)==null||t.send(JSON.stringify(r)))}},qm=ws;c5(qm,"STATUS",{NEW:"new",PENDING:"pending",CLOSED:"closed",READY:"ready"});var Iy=r=>[r,Math.random().toString().slice(2,10)].join("-"),aN=class{constructor(r){Gt(this,"target");this.target=r}subscribe(r,{onEvent:e,onEose:t}){const n=Iy("REQ"),o=this.target.bus.addListeners({EVENT:(i,a,f)=>a===n&&(e==null?void 0:e(i,f)),EOSE:(i,a)=>a===n&&(t==null?void 0:t(i))});return this.target.send("REQ",n,...r),{unsubscribe:()=>{this.target.send("CLOSE",n),o()}}}publish(r,{verb:e="EVENT",onOk:t,onError:n}){const o=this.target.bus.addListeners({OK:(i,a,...f)=>a===r.id&&t(i,a,...f),ERROR:(i,a,...f)=>a===r.id&&n(i,a,...f)});return this.target.send(e,r),{unsubscribe:o}}count(r,{onCount:e}){const t=Iy("COUNT"),n=this.target.bus.addListeners({COUNT:(o,i,...a)=>{i===t&&(e(o,...a),n())}});return this.target.send("COUNT",t,...r),{unsubscribe:n}}handleAuth({onAuth:r,onOk:e}){let t;return{unsubscribe:this.target.bus.addListeners({AUTH:async(o,i)=>{t=await r(o,i)},OK:(o,i,a,f)=>{i===(t==null?void 0:t.id)&&(t=null,e(o,i,a,f))}})}}},fN=class{constructor(r,e){this.urls=r,this.socket=e,this.bus=new qu,this.unsubscribe=e.bus.addListeners({message:(t,[{relays:n},[o,...i]])=>{this.bus.emit(o,n[0],...i)}})}async send(...r){await this.socket.connect(),this.socket.send([{relays:this.urls},r])}cleanup(){this.bus.clear(),this.unsubscribe()}},lN=class{constructor(){Gt(this,"data");this.data=new Map,this.bus=new qu}has(r){return this.data.has(r)}get(r){if(!this.data.has(r)){const e=new qm(r);this.data.set(r,e),this.bus.emit("init",{url:r}),e.bus.addListeners({open:()=>this.bus.emit("open",{url:r}),close:()=>this.bus.emit("close",{url:r})})}return this.data.get(r)}remove(r){const e=this.data.get(r);e&&(e.cleanup(),this.data.delete(r))}clear(){for(const r of this.data.keys())this.remove(r)}},uN=class{constructor(r){Gt(this,"sockets");Gt(this,"bus");this.sockets=r,this.bus=new qu,this.listeners=r.map(e=>e.bus.addListener("message",(t,[n,...o])=>{this.bus.emit(n,t,...o)}))}send(...r){this.sockets.forEach(async e=>{await e.connect(),e.send(r)})}cleanup(){this.bus.clear(),this.listeners.map(r=>r())}};const Za={multiplextrUrl:null,authHandler:null},Hn={stats:{},errors:{},getStats(r){return this.stats[r]||(this.stats[r]={error:null,timeouts:0,subsCount:0,eoseCount:0,eoseTimer:0,eventsCount:0,activeSubsCount:0,lastRequest:0,openedAt:0,closedAt:0}),this.stats[r]},onPublish(r){r.forEach(e=>{const t=this.getStats(e);t.lastRequest=Date.now()})},onSubscriptionStart(r){r.forEach(e=>{const t=this.getStats(e);t.subsCount+=1,t.activeSubsCount+=1,t.lastRequest=Date.now(),t.activeSubsCount>10&&Ei(`Relay ${e} has >10 active subscriptions`)})},onSubscriptionEnd(r){r.forEach(e=>{const t=this.getStats(e);t.activeSubsCount-=1})},onEvent(r){const e=this.getStats(r);e.eventsCount+=1},onEose(r,e){const t=this.getStats(r);t.eoseCount+=1,t.eoseTimer+=e},onTimeout(r){const e=this.getStats(r);e.timeouts+=1}},i1="wss://rly.nostrkid.com".split(",").filter(oi),d5=r=>{r.length===0&&yf("Attempted to connect to zero urls");const e=new Set(Ar("url",r).map(O0));return e.size!==r.length&&Ei("Attempted to connect to non-unique relays"),Array.from(e)},ca=new lN;ca.bus.addListeners({open:({url:r})=>{const e=Hn.getStats(r);e.openedAt=Date.now()},close:({url:r})=>{const e=Hn.getStats(r);e.closedAt=Date.now()}});function cN(r){ca.remove(r),delete Hn.stats[r],delete Hn.errors[r]}function hN(r){if(Hn.errors[r])return[0,kt.exports.switcher(Hn.errors[r],{disconnected:"Disconnected",unauthorized:"Logging in",forbidden:"Failed to log in"})];const e=Hn.getStats(r),{timeouts:t,subsCount:n,eoseTimer:o,eoseCount:i}=e,a=t>0?t/n:null,f=i>0?Math.max(1,500/(o/i)):null;return a&&a>.5?[1-a,"Slow connection"]:f&&f<.7?[f,"Slow connection"]:f?[f,"Connected"]:ca.get(r).status===qm.STATUS.READY?[1,"Connected"]:[.5,"Not Connected"]}function Km(r){i1.length>0&&(r=i1);let e;Za.multiplextrUrl&&(r.length>1||ca.has(Za.multiplextrUrl))&&(ca.get(Za.multiplextrUrl).error||(e=new fN(r,ca.get(Za.multiplextrUrl)))),e||(e=new uN(r.map(n=>ca.get(n))));const t=new aN(e);return t.handleAuth({onAuth(n,o){return Hn.errors[n]="unauthorized",Za.authHandler(n,o)},onOk(n,o,i,a){Hn.errors[n]=i?null:"forbidden"}}),t}async function dN({relays:r,event:e,onProgress:t,timeout:n=3e3,verb:o="EVENT"}){const i=d5(r),a=Km(i);return Hn.onPublish(i),Ts(`Publishing to ${i.length} relays`,e,i),new Promise(f=>{const c=new Set,d=new Set,m=new Set,v=()=>{const k=jx(c,d,m),S=zx(i,k);return{succeeded:d,failed:m,timeouts:c,completed:k,pending:S}},_=()=>{const k=v();k.pending.size===0?(Ts(`Finished publishing to ${i.length} relays`,e,k),f(k),$.unsubscribe(),a.target.cleanup()):t&&t(k)};setTimeout(()=>{for(const k of i)!d.has(k)&&!m.has(k)&&c.add(k);_()},n);const $=a.publish(e,{verb:o,onOk:k=>{d.add(k),c.delete(k),m.delete(k),_()},onError:k=>{m.add(k),c.delete(k),_()}});_()})}async function pN({relays:r,filter:e,onEvent:t,onEose:n}){const o=d5(r),i=Km(o),a=kt.exports.ensurePlural(e),f=Date.now(),c=new Set,d=new Set;return Ts(`Starting subscription with ${r.length} relays`,a,r),r.length!==new Set(Ar("url",r)).size&&yf("Subscribed to non-unique relays",r),Hn.onSubscriptionStart(o),i.subscribe(a,{onEvent:(m,v)=>{c.has(v.id)||(c.add(v.id),e5(v)&&(Hn.onEvent(m),t({...v,seen_on:m,content:v.content||""})))},onEose:m=>{n==null||n(m),d.has(m)||Hn.onEose(m,Date.now()-f),d.add(m)}}),{unsub:()=>{Ts("Closing subscription",a),i.target.cleanup(),Hn.onSubscriptionEnd(o)}}}async function mN(r){const e=kt.exports.ensurePlural(r),t=Km(["wss://rbr.bio"]);return new Promise(n=>{const o=t.count(e,{onCount:(i,{count:a})=>n(a)});setTimeout(()=>{n(0),o.unsubscribe(),t.target.cleanup()},3e3)})}const Tr={Config:Za,Meta:Hn,forceUrls:i1,disconnect:cN,getQuality:hN,publish:dN,subscribe:pN,count:mN},mo=Jf("agent/user/profile",{pubkey:null,kind0:null,lnurl:null,zapper:null,settings:{relayLimit:20,defaultZap:21,showMedia:!0,reportAnalytics:!0,dufflepudUrl:"https://dufflepud.onrender.com",multiplextrUrl:{VITE_THEME_DARK:"transparent:transparent,black:#0f0f0e,white:#FFFFFF,accent:#EB5E28,accent-light:#FB652C,gray-1:#FFFFFF,gray-2:#FAF6F1,gray-3:#F2EBE1,gray-4:#E9E0D3,gray-5:#B3AA98,gray-6:#565249,gray-7:#393530,gray-8:#252422,danger:#ff0000,warning:#ebd112,success:#37ab51,input:#FAF6F1,input-hover:#F2EBE1",VITE_THEME_LIGHT:"transparent:transparent,black:#0f0f0e,white:#FFFFFF,accent:#EB5E28,accent-light:#FB652C,gray-8:#FFFFFF,gray-7:#FAF6F1,gray-6:#F2EBE1,gray-5:#E9E0D3,gray-4:#B3AA98,gray-3:#565249,gray-2:#393530,gray-1:#252422,danger:#ff0000,warning:#ebd112,success:#37ab51,input:#FAF6F1,input-hover:#F2EBE1",VITE_DUFFLEPUD_URL:"https://dufflepud.onrender.com",VITE_SHOW_DEBUG_ROUTE:"false",VITE_FORCE_RELAYS:"wss://rly.nostrkid.com",BASE_URL:"/noskb/",MODE:"production",DEV:!1,PROD:!0}.VITE_MULTIPLEXTR_URL},petnames:[],relays:[],mutes:[]}),vN=Xi(mo,Gr("settings")),Ly=Xi(mo,Gr("petnames")),p5=Xi(mo,Gr("relays")),gN=Xi(mo,Gr("mutes")),yN=Xi([mn.pubkey,p5],([r,e])=>mn.canSign()&&xi(Gr("write"),e));let Mn=null;mo.subscribe(r=>{Mn=r,Tr.Config.multiplextrUrl=r.settings.multiplextrUrl});mn.pubkey.subscribe(r=>{r&&mo.update(e=>({...e,pubkey:r}))});const at={profile:mo,canPublish:yN,getProfile:()=>Mn,getPubkey:()=>Mn==null?void 0:Mn.pubkey,settings:vN,getSettings:()=>Mn.settings,getSetting:r=>Mn.settings[r],dufflepud:r=>`${Mn.settings.dufflepudUrl}${r}`,petnames:Ly,getPetnames:()=>Mn.petnames,petnamePubkeys:Xi(Ly,Mo(gu(1))),updatePetnames(r){const e=r(Mn.petnames);if(mo.update(Ko("petnames",e)),mn.canSign())return jn.setPetnames(e).publish(Mn.relays)},addPetname(r,e,t){const n=["p",r,e,t||""];return this.updatePetnames(tu(wi(o=>o[1]===r),qv([n])))},removePetname(r){return this.updatePetnames(wi(e=>e[1]===r))},relays:p5,getRelays:()=>Mn.relays,updateRelays(r){const e=Vi(Gr("url"),r(Mn.relays));if(mo.update(Ko("relays",e)),mn.canSign())return jn.setRelays(e).publish(e)},addRelay(r){return this.updateRelays(e=>e.concat({url:r,write:!0,read:!0}))},removeRelay(r){return this.updateRelays(wi(tf({url:r})))},setRelayWriteCondition(r,e){return this.updateRelays(Mo(Xw(tf({url:r}),Ko("write",e))))},mutes:gN,getMutes:()=>Mn.mutes,applyMutes:r=>{const e=new Set(Mn.mutes.map(t=>t[1]));return r.filter(t=>!(e.has(t.id)||e.has(t.pubkey)||e.has(Nn(t))||e.has(ua(t))))},updateMutes(r){const e=r(Mn.mutes);if(mo.update(Ko("mutes",e)),mn.canSign())return jn.setMutes(e.map(S1(0,2))).publish(Mn.relays)},addMute(r,e){return this.updateMutes(tu(wi(t=>t[1]===e),qv([[r,e]])))},removeMute(r){return this.updateMutes(wi(e=>e[1]===r))}},bN=tn(([r,e])=>e.value.created_at),_N=tn(([r,e])=>e.value.last_seen),Ta=new Pa("people","pubkey",{cache:new N0({max:5e3,sort:r=>{const e=Pr.wrap(at.getPetnames()).values().all(),t=new Set(e.concat(at.getPubkey()));return tn(([n,{lru:o,value:i}])=>t.has(i.pubkey)?0:i.created_at,r)}})}),Ku=new Pa("userEvents","id",{cache:new N0({max:2e3,sort:bN})}),m5=new Pa("notifications","id"),Wc=new Pa("contacts","pubkey"),Yi=new Pa("rooms","id"),Ns=new Pa("relays","url"),lu=new Pa("routes","id",{cache:new N0({max:3e3,sort:_N})});u5.connect();const Br=r=>Ta.get(r)||{pubkey:r},wN=Xi(Ar("ready",Object.values(zu)),zw(oi)),v5=r=>{const e=wN.subscribe(t=>{t&&(r(),setTimeout(()=>e()))})},MN=Object.freeze(Object.defineProperty({__proto__:null,people:Ta,userEvents:Ku,notifications:m5,contacts:Wc,rooms:Yi,relays:Ns,routes:lu,getPersonWithFallback:Br,onReady:v5},Symbol.toStringTag,{value:"Module"})),$N=async()=>{await Ns.bulkPatch([{url:"wss://brb.io"},{url:"wss://nostr.zebedee.cloud"},{url:"wss://nostr-pub.wellorder.net"},{url:"wss://relay.nostr.band"},{url:"wss://nostr.pleb.network"},{url:"wss://relay.nostrich.de"},{url:"wss://relay.damus.io"}]);try{const e=await Kh("https://dufflepud.onrender.com/relay");await Ns.bulkPatch(Mo(Yf("url"),e.relays.filter(Uu)))}catch(r){Ei("Failed to fetch relays list",r)}},Ny=new qL({max:1e3}),Wm=(r,e=null,t=null)=>{const n=e?{pubkey:r,mode:e}:{pubkey:r},o=[e,r].join(":");let i=t||Ny.get(o);return i||(i=lu.all(n),i.length>0&&Ny.set(o,i)),b5(Mo(Fs(["url","score"]),ll(i)))},D0=r=>Wm(r,"read"),Ji=r=>Wm(r,"write"),g5=(r,e=null)=>{const t=e?{pubkey:r,mode:e}:{pubkey:r},n=Cc(Gr("pubkey"),lu.all(t));return U0(r.map(o=>Wm(o,e,n[o]||[])))},Vm=r=>g5(r,"write"),Zm=()=>at.getRelays().map(Ko("score",1)),Wu=()=>Zm().filter(Gr("read")).map(Fs(["url","score"])),F0=()=>Zm().filter(Gr("write")).map(Fs(["url","score"])),o1=r=>{const e=Nn(r),t=Pr.from(r).equals(e).relays(),n=D0(r.pubkey);return ll(t.concat({url:r.seen_on}).concat(n))},y5=r=>ll(D0(r.pubkey).concat({url:r.seen_on,score:1})),xN=r=>({url:r.seen_on,score:1}),Gm=(r,e=null)=>{let t=Ji(r);return t.length===0&&e&&(t=[xN(e)]),t.length===0&&(t=D0(r)),kt.exports.first(t)},wc=r=>{const n=Pr.from(r).type("p").values().all().concat(r.pubkey).map(o=>D0(o).slice(0,3));return ll(U0(n).concat(F0()))},ll=tu(Vi(Gr("url")),Gf(Gr("url"))),b5=tn(r=>-r.score),An=(r,e=1)=>{let t=at.getSetting("relayLimit");return t>10&&(t*=e),r=r.filter(n=>!(Tr.Meta.errors[n.url]||Tr.Meta.getStats(n.url).closed>Date.now()-3e4)),r=r.slice(0,t),r.length<t&&(r=r.concat(Xf(Wu()).slice(0,t-r.length))),ll(r)},U0=r=>{const e={};for(const t of r)for(const n of t){const{url:o,score:i=.5}=n;e[o]||(e[o]={score:0,count:0}),e[o].score+=i,e[o].count+=1}for(const t of Object.values(e))t.weight=Math.log(r.length/t.count),t.weightedScore=t.weight+Math.log1p(Math.exp(t.score-t.count));return b5(Object.entries(e).map(([t,{weightedScore:n}])=>({url:t,score:n})))},Vc={},Fi=(r,e)=>{Vc[r]=Vc[r]||[],Vc[r].push(e)},kN=async r=>{const e=at.getPubkey(),t=kt.exports.chunk(100,kt.exports.ensurePlural(r).filter(oi));for(let n=0;n<t.length;n++){for(const o of t[n]){o.pubkey===e&&Ku.put(o);for(const i of Vc[o.kind]||[])i(o)}n<t.length-1&&await Vo(30)}},H0=(r,e)=>{Ta.patch({pubkey:r,updated_at:dn(),...e}),r===at.getPubkey()&&at.profile.update(t=>({...t,...e}))},SN=(r,e)=>C0.queryProfile(e).then(t=>{var n;if((t==null?void 0:t.pubkey)===r&&(H0(r,{verified_as:e}),((n=t.relays)==null?void 0:n.length)>0)){const o=t.relays.filter(Uu);Ns.bulkPatch(o.map(i=>({url:O0(i)}))),o.forEach(i=>{Yo(r,i,"nip05","write",dn()),Yo(r,i,"nip05","read",dn())})}},kt.exports.noop),EN=async(r,e)=>{let t;if(e.startsWith("lnurl1"))t=P1(()=>b3(e));else if(e.includes("@")){const[a,f]=e.split("@");f&&a&&(t=`https://${f}/.well-known/lnurlp/${a}`)}if(!t)return;const n=await Hx(()=>fetch(t)),o=await js(()=>n==null?void 0:n.json()),i=y3("lnurl",t);(o==null?void 0:o.allowsNostr)&&(o==null?void 0:o.nostrPubkey)&&H0(r,{lnurl:i,zapper:Fs(["callback","maxSendable","minSendable","nostrPubkey"],o)})};Fi(0,r=>{js(()=>{const e=JSON.parse(r.content),t=Ta.get(r.pubkey);if(r.created_at<(t==null?void 0:t.kind0_updated_at))return;e.nip05&&SN(r.pubkey,e.nip05);const n=e.lud16||e.lud06;n&&EN(r.pubkey,n.toLowerCase()),H0(r.pubkey,{kind0:{...t==null?void 0:t.kind0,...e},kind0_updated_at:r.created_at})})});Fi(3,r=>{const e=Ta.get(r.pubkey);r.created_at<(e==null?void 0:e.petnames_updated_at)||H0(r.pubkey,{petnames_updated_at:r.created_at,petnames:r.tags.filter(t=>t[0]==="p")})});const Vu=(r,e)=>t=>{const n=at.getProfile();if(t.pubkey!==n.pubkey)return;const o=`${r}_updated_at`;t.created_at<(n==null?void 0:n[o])||at.profile.update(i=>{const a=e(t,i);return a?{...i,[r]:a,[o]:t.created_at}:i})};Fi(2,Vu("relays",(r,e)=>ll(e.relays.concat({url:r.content}))));Fi(3,Vu("relays",(r,e)=>js(()=>Object.entries(JSON.parse(r.content)).map(([t,n])=>{const{write:o,read:i}=n;return{url:O0(t),write:![!1,"!"].includes(o),read:![!1,"!"].includes(i)}}).filter(t=>Uu(t.url)))));Fi(1e4,Vu("mutes",(r,e)=>r.tags));Fi(10001,Vu("relays",(r,e)=>r.tags.map(([t,n,o])=>({url:t,read:n!=="!",write:o!=="!"}))));Fi(10002,Vu("relays",(r,e)=>Pr.from(r).type("r").all().map(([t,n,o])=>({url:n,read:(o||"read")==="read",write:(o||"write")==="write"}))));Fi(40,r=>{const e=Yi.get(r.id);if(r.created_at<(e==null?void 0:e.updated_at))return;const t=js(()=>Fs(I0,JSON.parse(r.content)));!(t!=null&&t.name)||Yi.patch({id:r.id,pubkey:r.pubkey,updated_at:r.created_at,...t})});Fi(41,r=>{const e=Pr.from(r).type("e").values().first();if(!e)return;const t=Yi.get(e);if(r.created_at<(t==null?void 0:t.updated_at))return;const n=js(()=>Fs(I0,JSON.parse(r.content)));!(n!=null&&n.name)||Yi.patch({id:e,pubkey:r.pubkey,updated_at:r.created_at,...n})});const AN=r=>{if(r==="nip05"||r==="kind:10002")return 1;if(r==="kind:3")return .8;if(r==="kind:2")return .5},Yo=(r,e,t,n,o)=>{if(!i5(e))return;const i=O0(e),a=m3([r,i,n].join("")).toString(),f=AN(t)*(1-(dn()-o)/Hs(30,"days")),c={id:a,pubkey:r,url:i,mode:n,score:0,count:0,types:[]},d=lu.get(a)||c,m=d.score*d.count+f,v=d.count+1;f>0&&(Ns.patch({url:d.url}),lu.put({...d,count:v,score:m/v,types:$o(d.types.concat(t)),last_seen:Math.max(o,d.last_seen||0)}))};Fi(2,r=>{Yo(r.pubkey,r.content,"kind:2","read",r.created_at),Yo(r.pubkey,r.content,"kind:2","write",r.created_at)});Fi(3,r=>{js(()=>{Object.entries(JSON.parse(r.content||"")).forEach(([e,t])=>{const{write:n,read:o}=t;[!1,"!"].includes(n)||Yo(r.pubkey,e,"kind:3","write",r.created_at),[!1,"!"].includes(o)||Yo(r.pubkey,e,"kind:3","read",r.created_at)})})});Fi(10002,r=>{r.tags.forEach(([e,t,n])=>{n?Yo(r.pubkey,t,"kind:10002",n,r.created_at):(Yo(r.pubkey,t,"kind:10002","read",r.created_at),Yo(r.pubkey,t,"kind:10002","write",r.created_at))})});const j0={processEvents:kN},BN=(r,e)=>new qn(22242,{tags:[["challenge",e],["relay",r]]}),RN=r=>new qn(0,{content:JSON.stringify(r)}),CN=r=>new qn(10002,{tags:r.map(e=>{const t=["r",e.url];return e.write||t.push("read"),t})}),PN=r=>new qn(3,{tags:r}),TN=r=>new qn(1e4,{tags:r}),ON=r=>new qn(40,{content:JSON.stringify(Fs(I0,r))}),IN=({id:r,...e})=>new qn(41,{content:JSON.stringify(Fs(I0,e)),tags:[["e",r]]}),LN=(r,e,t)=>new qn(42,{content:e,tags:[["e",r,t,"root"]]}),NN=(r,e)=>new qn(4,{content:e,tags:[["p",r]]}),DN=(r,e=[],t=[])=>{const n=kt.exports.doPipe([],[o=>o.concat(_5(e)),o=>o.concat(t.map(i=>["t",i])),o=>w5(r,o),$5]);return new qn(1,{content:r,tags:n})},FN=(r,e)=>new qn(7,{content:e,tags:M5(r)}),UN=(r,e,t=[],n=[])=>{const o=kt.exports.doPipe([],[i=>i.concat(_5(t)),i=>i.concat(n.map(a=>["t",a])),i=>zN(r,i),i=>w5(e,i),$5]);return new qn(1,{content:e,tags:o})},HN=(r,e,t,n,o,i)=>{const a=[["relays",...r],["amount",o.toString()],["lnurl",i],["p",t]];return n&&a.push(["e",n]),new qn(9734,{content:e,tags:a})},jN=r=>new qn(5,{tags:r.map(e=>["e",e])}),_5=Mo(r=>{const e=er(Br(r)),t=Gm(r);return["p",r,(t==null?void 0:t.url)||"",e]}),w5=(r,e)=>{const t=new Set(Pr.wrap(e).values().all());for(const{type:n,value:o}of Um(r))if(n.match(/nostr:(note|nevent)/)&&!t.has(o.id)&&(e=e.concat([["e",o.id]]),t.add(o.id)),n.match(/nostr:(nprofile|npub)/)&&!t.has(o.pubkey)){const i=er(Br(o.pubkey)),a=Gm(o.pubkey);e=e.concat([["p",o.pubkey,(a==null?void 0:a.url)||"",i]]),t.add(o.pubkey)}return e},M5=r=>{const{url:e}=Gm(r.pubkey,r),t=ua(r)||Nn(r)||r.id;return[["p",r.pubkey,e],["e",r.id,e,"reply"],["e",t,e,"root"]]},zN=(r,e=[])=>{const t=vo(mn.pubkey);return e.concat(M5(r)).concat(r.tags.filter(n=>!(n[1]===t||!["p","e"].includes(n[0])||["reply","root"].includes(Yr(n)))))},$5=Vi(r=>r.slice(0,2).join(":"));class qn{constructor(e,{content:t="",tags:n=[]}){Gt(this,"event");const o=vo(mn.pubkey),i=Math.round(new Date().valueOf()/1e3);n.push(["client","coracle"]),this.event={kind:e,content:t,tags:n,pubkey:o,created_at:i}}getSignedEvent(){return mn.sign(this.event)}async publish(e,t=null,n="EVENT"){const o=await this.getSignedEvent(),i=Tr.publish({relays:e,event:o,onProgress:t,verb:n});return j0.processEvents(o),[o,i]}}const jn={authenticate:BN,updateUser:RN,setRelays:CN,setPetnames:PN,setMutes:TN,createRoom:ON,updateRoom:IN,createChatMessage:LN,createDirectMessage:NN,createNote:DN,createReaction:FN,createReply:UN,requestZap:HN,deleteEvent:jN,PublishableEvent:qn},x5=r=>$o(r).filter(e=>{const t=Ta.get(e);return!t||t.updated_at<dn()-Hs(1,"days")}),qN=({relays:r,filter:e,onChunk:t=null,shouldProcess:n=!0,delay:o=500})=>Tr.subscribe({filter:e,relays:r,onEvent:g3(o,i=>{n&&j0.processEvents(i),t&&t(i)})}),z0=({relays:r,filter:e,onChunk:t=null,shouldProcess:n=!0,timeout:o=5e3})=>new Promise(i=>{let a=!1;const f=new Set,c=[],d=async v=>{const _=await m;if(a)return;const $=f.size===r.length;v&&r.forEach(k=>{f.has(k.url)||Tr.Meta.onTimeout(k.url)}),($||v)&&(_.unsub(),i(c),a=!0)};setTimeout(()=>d(!0),o);const m=Tr.subscribe({relays:r,filter:e,onEvent:g3(500,v=>{n&&j0.processEvents(v),t&&t(v);for(const _ of v)c.push(_)}),onEose:v=>{f.add(v),d(!1)}})}),KN=async(r,{relays:e=null,kinds:t=T0,force:n=!1}={})=>{r=$o(r),n||(r=x5(r)),await Promise.all(kt.exports.chunk(256,r).map(async o=>{await z0({relays:An(e||Vm(o),.5),filter:{kinds:t,authors:o}})}))},WN=(r,e={})=>{const t=r.filter(Nn);return t.length===0?[]:z0({relays:An(U0(t.map(o1)),.3),filter:{kinds:[1],ids:t.map(Nn)},...e})},VN=({notes:r,onChunk:e,depth:t=0})=>Promise.all(kt.exports.chunk(256,r).map(async n=>{for(;n.length>0&&t>0;){const o=n.splice(0),i=x5(Ar("pubkey",o)),a=[{kinds:[1,7,9735],"#e":Ar("id",o)}],f=An(U0(o.map(y5)));i.length>0&&a.push({kinds:T0,authors:i}),t-=1;const c=z0({relays:f,filter:a,onChunk:e});t>0&&(n=await c)}})),ZN=(r,e)=>{e=e.map(Ko("isContext",!0));const t=e.filter(hn("kind",1)),n=e.filter(hn("kind",7)),o=e.filter(hn("kind",9735)),i=Cc(Nn,t),a=Cc(Nn,n),f=Cc(Nn,o),c=({replies:d=[],reactions:m=[],zaps:v=[],..._})=>{const $=d.concat(i[_.id]||[]),k=m.concat(a[_.id]||[]),S=v.concat(f[_.id]||[]);return{..._,replies:tn(A=>-A.created_at,Vi(Gr("id"),$).map(c)),reactions:Vi(Gr("id"),k),zaps:Vi(Gr("id"),S)}};return r.map(c)},Cr={load:z0,listen:qN,loadPeople:KN,loadParents:WN,streamContext:VN,applyContext:ZN},k5=r=>Pr.wrap(Br(r).petnames).type("p").values().all(),Ym=()=>Pr.wrap(at.getPetnames()).values().all(),GN=()=>{const r=Ym();return $o(gf(r,r.flatMap(k5)))};let cp;const Bo=Jf("app/alerts/lastChecked",{}),S5=Xi([on("notifications",r=>Ar("created_at",r.all()).reduce(vu,0)),Bo],([r,e])=>r>(e.notifications||0));Xi([on("contacts",r=>r.all()),Bo],([r,e])=>Boolean(xi(t=>t.lastMessage>e[t.pubkey],r)));const YN=Xi([on("rooms",r=>r.all()),Bo],([r,e])=>Boolean(xi(t=>t.lastMessage>e[t.pubkey],r))),JN=async(r,e)=>{m5.bulkPut(e.filter(t=>PL(t,r)))},XN=async(r,e)=>{const t=e.filter(hn("kind",4));t.length!==0&&Bo.update(n=>{for(const o of t)if(o.pubkey===r){const i=Pr.from(o).type("p").values().first();n[i]=Math.max(n[i]||0,o.created_at),Wc.patch({pubkey:i,accepted:!0})}else{const i=Wc.get(o.pubkey),a=Math.max((i==null?void 0:i.lastMessage)||0,o.created_at);Wc.patch({pubkey:o.pubkey,lastMessage:a})}return n})},QN=async(r,e)=>{const t=e.filter(hn("kind",42));t.length!==0&&Bo.update(n=>{for(const o of t){const i=Pr.from(o).type("e").values().first();if(o.pubkey===r)n[i]=Math.max(n[i]||0,o.created_at);else{const a=Yi.get(i),f=Math.max((a==null?void 0:a.lastMessage)||0,o.created_at);Yi.patch({id:i,lastMessage:f})}}return n})},eD=async r=>{const e=dn()-Hs(30,"days"),t=Ar("id",Yi.all({joined:!0})),n=kt.exports.doPipe(Ku.all({"created_at:gt":e,kind:1}),[tn(o=>-o.created_at),S1(0,256),Ar("id")]);cp&&cp.unsub(),cp=await Cr.listen({delay:5e3,relays:Wu(),filter:[{kinds:[1,4],authors:[r],since:e},{kinds:[1,7,4,9735],"#p":[r],since:e},{kinds:[1,7,4,9735],"#e":n,since:e},{kinds:[42],"#e":t,since:e}],onChunk:async o=>{o=at.applyMutes(o),await Cr.loadPeople(Ar("pubkey",o)),await JN(r,o),await XN(r,o),await QN(r,o)}})},tD={listen:eD},xn={person:(r,e="notes")=>`/people/${br.npubEncode(r)}/${e}`},s1=Gn(null),en=Gn(null);en.show=(r,e,t=5)=>{const n=kt.exports.uuid();en.set({id:n,type:r,message:e}),t&&setTimeout(()=>{Gr("id",vo(en))===n&&en.set(null)},t*1e3)};const kh=Gn(!1),Xt={history:[],set:r=>{r?(Xt.history.push(r),Zr(location.pathname+`#m=${Xt.history.length-1}`)):(Xt.history=[],Zr(location.pathname))},close:()=>Xt.set(null),clear:async()=>{for(;vo(Xt);)history.back(),await Vo(30)},subscribe:r=>(r(Yr(Xt.history)),Yl.listen(({action:e})=>{const t=location.hash.match(/\bm=(\d+)/),n=t?parseInt(t[1]):null;Xt.history.splice(n===null?-1:n+1),r(Xt.history[n])}))},Mc=r=>JSON.parse(JSON.stringify(r||null).replace(/\w{60}\w+/g,"[REDACTED]"));setTimeout(()=>{_w.addOnError(r=>window.location.host.startsWith("localhost")||!at.getSetting("reportAnalytics")?!1:(r.context=Mc(r.context),r.request=Mc(r.request),r.exceptions=Mc(r.exceptions),r.breadcrumbs=Mc(r.breadcrumbs),r.setUser(E5),!0))});const E5=Math.random().toString().slice(2),hp=async r=>{const e=at.getPubkey(),t=e?m3(e):"unknown",{dufflepudUrl:n,reportAnalytics:o}=at.getSettings();if(o)try{await fetch(`${n}/usage/${t}/${E5}/${r}`,{method:"post"})}catch(i){i.toString().includes("Failed to fetch")||Ei(i)}},A5=r=>Gw(r.split(",").map(e=>e.split(":"))),rD=A5("transparent:transparent,black:#0f0f0e,white:#FFFFFF,accent:#EB5E28,accent-light:#FB652C,gray-8:#FFFFFF,gray-7:#FAF6F1,gray-6:#F2EBE1,gray-5:#E9E0D3,gray-4:#B3AA98,gray-3:#565249,gray-2:#393530,gray-1:#252422,danger:#ff0000,warning:#ebd112,success:#37ab51,input:#FAF6F1,input-hover:#F2EBE1"),nD=A5("transparent:transparent,black:#0f0f0e,white:#FFFFFF,accent:#EB5E28,accent-light:#FB652C,gray-1:#FFFFFF,gray-2:#FAF6F1,gray-3:#F2EBE1,gray-4:#E9E0D3,gray-5:#B3AA98,gray-6:#565249,gray-7:#393530,gray-8:#252422,danger:#ff0000,warning:#ebd112,success:#37ab51,input:#FAF6F1,input-hover:#F2EBE1"),iD=window.matchMedia("(prefers-color-scheme: dark)").matches,Jm=Jf("ui/theme",iD?"dark":"light"),B5=r=>kt.exports.switcher(r,{light:rD,dark:nD}),oD=(r,e)=>Gr(e,B5(r)),sD=r=>Object.entries(B5(r)).map(([e,t])=>`--${e}: ${t};`).join(`
`),Zu=async r=>{Wu().length>0&&(tD.listen(r),await Cr.loadPeople([r],{force:!0}),await Cr.loadPeople(Ym()))},Xm=(r,e)=>{mn.login(r,e),Xt.set({type:"login/connect",noEscape:!0})},aD=r=>{const e=kt.exports.createMap("id",r),t=[];for(const n of Object.values(e)){const o=Nn(n);o&&t.push(n.id),e[o]&&(e[o].replies=e[o].replies.concat([n]))}return tn(n=>-n.created_at,Object.values(yx(t,e)))},uu=(r,e)=>e.publish(r,({completed:t,succeeded:n,failed:o,timeouts:i,pending:a})=>{let f=`Published to ${n.size}/${r.length} relays`;const c=[];o.size>0&&c.push(`${o.size} failed`),i.size>0&&c.push(`${i.size} timed out`),a.size>0&&c.push(`${a.size} pending`),c.length>0&&(f+=` (${c.join(", ")})`),en.show("info",f,a.size?null:5)});var R5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var i=arguments[o];if(!!i){var a=typeof i;if(a==="string"||a==="number")n.push(i);else if(Array.isArray(i)){if(i.length){var f=t.apply(null,i);f&&n.push(f)}}else if(a==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var c in i)e.call(i,c)&&i[c]&&n.push(c)}}}return n.join(" ")}r.exports?(t.default=t,r.exports=t):window.classNames=t})()})(R5);const tr=R5.exports;function fD(r){let e,t,n,o,i;const a=r[7].default,f=Ir(a,r,r[6],null);let c=[r[3],{href:r[1]},{class:r[2]},{target:t=r[0]?"_blank":null}],d={};for(let m=0;m<c.length;m+=1)d=Ft(d,c[m]);return{c(){e=K("a"),f&&f.c(),vn(e,d)},m(m,v){F(m,e,v),f&&f.m(e,null),n=!0,o||(i=ct(e,"click",r[8]),o=!0)},p(m,[v]){f&&f.p&&(!n||v&64)&&Nr(f,a,m,m[6],n?Lr(a,m[6],v,null):Dr(m[6]),null),vn(e,d=ai(c,[v&8&&m[3],(!n||v&2)&&{href:m[1]},(!n||v&4)&&{class:m[2]},(!n||v&1&&t!==(t=m[0]?"_blank":null))&&{target:t}]))},i(m){n||(O(f,m),n=!0)},o(m){z(f,m),n=!1},d(m){m&&D(e),f&&f.d(m),o=!1,i()}}}function lD(r,e,t){let{$$slots:n={},$$scope:o}=e,{external:i=!1}=e,{loading:a=!1}=e,{type:f="anchor"}=e,{href:c=null}=e,d;function m(v){Si.call(this,r,v)}return r.$$set=v=>{t(3,e=Ft(Ft({},e),Wr(v))),"external"in v&&t(0,i=v.external),"loading"in v&&t(4,a=v.loading),"type"in v&&t(5,f=v.type),"href"in v&&t(1,c=v.href),"$$scope"in v&&t(6,o=v.$$scope)},r.$$.update=()=>{t(2,d=tr(e.class,"cursor-pointer transition-all",{"opacity-50":a},kt.exports.switcher(f,{anchor:"underline",button:"py-2 px-4 rounded bg-input text-accent whitespace-nowrap border border-solid border-gray-6 hover:bg-input-hover","button-circle":"w-10 h-10 flex justify-center items-center rounded-full bg-input text-accent whitespace-nowrap border border-solid border-gray-6 hover:bg-input-hover","button-accent":"py-2 px-4 rounded bg-accent text-white whitespace-nowrap border border-solid border-accent-light hover:bg-accent-light"})))},e=Wr(e),[i,c,d,e,a,f,o,n,m]}class $t extends ut{constructor(e){super(),lt(this,e,lD,fD,ft,{external:0,loading:4,type:5,href:1})}}function Dy(r){let e,t,n;const o=r[5].default,i=Ir(o,r,r[4],null);let a=[r[2],{class:t=tr(r[2].class,r[1],"w-full")}],f={};for(let c=0;c<a.length;c+=1)f=Ft(f,a[c]);return{c(){e=K("div"),i&&i.c(),vn(e,f)},m(c,d){F(c,e,d),i&&i.m(e,null),n=!0},p(c,d){i&&i.p&&(!n||d&16)&&Nr(i,o,c,c[4],n?Lr(o,c[4],d,null):Dr(c[4]),null),vn(e,f=ai(a,[d&4&&c[2],(!n||d&4&&t!==(t=tr(c[2].class,c[1],"w-full")))&&{class:t}]))},i(c){n||(O(i,c),n=!0)},o(c){z(i,c),n=!1},d(c){c&&D(e),i&&i.d(c)}}}function Fy(r){let e,t,n;const o=r[5].default,i=Ir(o,r,r[4],null);let a=[r[2],{class:t=tr(r[2].class,r[1],"max-w-lg p-2 py-16")}],f={};for(let c=0;c<a.length;c+=1)f=Ft(f,a[c]);return{c(){e=K("div"),i&&i.c(),vn(e,f)},m(c,d){F(c,e,d),i&&i.m(e,null),n=!0},p(c,d){i&&i.p&&(!n||d&16)&&Nr(i,o,c,c[4],n?Lr(o,c[4],d,null):Dr(c[4]),null),vn(e,f=ai(a,[d&4&&c[2],(!n||d&4&&t!==(t=tr(c[2].class,c[1],"max-w-lg p-2 py-16")))&&{class:t}]))},i(c){n||(O(i,c),n=!0)},o(c){z(i,c),n=!1},d(c){c&&D(e),i&&i.d(c)}}}function Uy(r){let e,t,n;const o=r[5].default,i=Ir(o,r,r[4],null);let a=[r[2],{class:t=tr(r[2].class,r[1],"max-w-2xl p-4")}],f={};for(let c=0;c<a.length;c+=1)f=Ft(f,a[c]);return{c(){e=K("div"),i&&i.c(),vn(e,f)},m(c,d){F(c,e,d),i&&i.m(e,null),n=!0},p(c,d){i&&i.p&&(!n||d&16)&&Nr(i,o,c,c[4],n?Lr(o,c[4],d,null):Dr(c[4]),null),vn(e,f=ai(a,[d&4&&c[2],(!n||d&4&&t!==(t=tr(c[2].class,c[1],"max-w-2xl p-4")))&&{class:t}]))},i(c){n||(O(i,c),n=!0)},o(c){z(i,c),n=!1},d(c){c&&D(e),i&&i.d(c)}}}function uD(r){let e,t,n,o,i=r[0]==="inherit"&&Dy(r),a=r[0]==="lg"&&Fy(r),f=r[0]==="2xl"&&Uy(r);return{c(){i&&i.c(),e=oe(),a&&a.c(),t=oe(),f&&f.c(),n=dt()},m(c,d){i&&i.m(c,d),F(c,e,d),a&&a.m(c,d),F(c,t,d),f&&f.m(c,d),F(c,n,d),o=!0},p(c,[d]){c[0]==="inherit"?i?(i.p(c,d),d&1&&O(i,1)):(i=Dy(c),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(tt(),z(i,1,1,()=>{i=null}),rt()),c[0]==="lg"?a?(a.p(c,d),d&1&&O(a,1)):(a=Fy(c),a.c(),O(a,1),a.m(t.parentNode,t)):a&&(tt(),z(a,1,1,()=>{a=null}),rt()),c[0]==="2xl"?f?(f.p(c,d),d&1&&O(f,1)):(f=Uy(c),f.c(),O(f,1),f.m(n.parentNode,n)):f&&(tt(),z(f,1,1,()=>{f=null}),rt())},i(c){o||(O(i),O(a),O(f),o=!0)},o(c){z(i),z(a),z(f),o=!1},d(c){i&&i.d(c),c&&D(e),a&&a.d(c),c&&D(t),f&&f.d(c),c&&D(n)}}}function cD(r,e,t){let{$$slots:n={},$$scope:o}=e,{gap:i=6}=e,{size:a="2xl"}=e;const f=`flex flex-col m-auto text-gray-3 gap-${i}`;if(!["inherit","lg","2xl"].includes(a))throw new Error(`Invalid size: ${a}`);return r.$$set=c=>{t(2,e=Ft(Ft({},e),Wr(c))),"gap"in c&&t(3,i=c.gap),"size"in c&&t(0,a=c.size),"$$scope"in c&&t(4,o=c.$$scope)},e=Wr(e),[a,f,e,i,o,n]}class At extends ut{constructor(e){super(),lt(this,e,cD,uD,ft,{gap:3,size:0})}}function Hy(r){let e;return{c(){e=K("div"),e.innerHTML='<div class="pointer-events-auto flex h-10 w-10 cursor-pointer items-center justify-center rounded-full border border-solid border-accent-light bg-accent text-white"><i class="fa fa-times fa-lg"></i></div>',q(e,"class","pointer-events-none sticky top-0 z-10 flex w-full justify-end p-2")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function hD(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A=r[0]&&Hy();const R=r[4].default,C=Ir(R,r,r[3],null);return{c(){e=oe(),t=K("div"),n=K("div"),o=oe(),i=K("div"),a=K("div"),A&&A.c(),f=oe(),c=K("div"),d=oe(),m=K("div"),C&&C.c(),q(n,"class","fixed inset-0 cursor-pointer bg-black opacity-75"),q(c,"class","absolute mt-12 h-full w-full bg-gray-7"),q(m,"class","relative h-full w-full cursor-auto border-t border-solid border-gray-6 bg-gray-7 pt-2 pb-10"),q(a,"class","mt-12 min-h-full"),q(i,"class","modal-content h-full overflow-auto"),Rt(i,"cursor-pointer",r[0]),q(t,"class","modal fixed inset-0 z-30")},m(T,B){F(T,e,B),F(T,t,B),I(t,n),I(t,o),I(t,i),I(i,a),A&&A.m(a,null),I(a,f),I(a,c),I(a,d),I(a,m),C&&C.m(m,null),r[7](i),r[8](t),$=!0,k||(S=[ct(document.body,"keydown",r[6]),ct(n,"click",function(){Qr(r[0])&&r[0].apply(this,arguments)}),ct(m,"click",Ss(r[5])),ct(i,"click",function(){Qr(r[0])&&r[0].apply(this,arguments)})],k=!0)},p(T,[B]){r=T,r[0]?A||(A=Hy(),A.c(),A.m(a,f)):A&&(A.d(1),A=null),C&&C.p&&(!$||B&8)&&Nr(C,R,r,r[3],$?Lr(R,r[3],B,null):Dr(r[3]),null),(!$||B&1)&&Rt(i,"cursor-pointer",r[0])},i(T){$||(O(C,T),Nt(()=>{v||(v=$i(i,Qt,{y:1e3},!0)),v.run(1)}),Nt(()=>{_||(_=$i(t,Xl,{},!0)),_.run(1)}),$=!0)},o(T){z(C,T),v||(v=$i(i,Qt,{y:1e3},!1)),v.run(0),_||(_=$i(t,Xl,{},!1)),_.run(0),$=!1},d(T){T&&D(e),T&&D(t),A&&A.d(),C&&C.d(T),r[7](null),T&&v&&v.end(),r[8](null),T&&_&&_.end(),k=!1,sn(S)}}}function dD(r,e,t){let{$$slots:n={},$$scope:o}=e,{onEscape:i=null}=e,a,f;function c(_){Si.call(this,r,_)}const d=_=>{_.key==="Escape"&&!a.querySelector(".modal")&&(i==null||i())};function m(_){Ct[_?"unshift":"push"](()=>{f=_,t(2,f)})}function v(_){Ct[_?"unshift":"push"](()=>{a=_,t(1,a)})}return r.$$set=_=>{"onEscape"in _&&t(0,i=_.onEscape),"$$scope"in _&&t(3,o=_.$$scope)},[i,a,f,o,n,c,d,m,v]}class Lo extends ut{constructor(e){super(),lt(this,e,dD,hD,ft,{onEscape:0})}}function pD(r){let e;return{c(){e=K("div"),q(e,"class","circle svelte-1w4sjib"),lr(e,"--size",r[0]+r[1]),lr(e,"--colorInner",r[5]),lr(e,"--colorCenter",r[4]),lr(e,"--colorOuter",r[3]),lr(e,"--durationInner",r[7]),lr(e,"--durationCenter",r[8]),lr(e,"--durationOuter",r[6]),Rt(e,"pause-animation",r[2])},m(t,n){F(t,e,n)},p(t,[n]){n&3&&lr(e,"--size",t[0]+t[1]),n&32&&lr(e,"--colorInner",t[5]),n&16&&lr(e,"--colorCenter",t[4]),n&8&&lr(e,"--colorOuter",t[3]),n&128&&lr(e,"--durationInner",t[7]),n&256&&lr(e,"--durationCenter",t[8]),n&64&&lr(e,"--durationOuter",t[6]),n&4&&Rt(e,"pause-animation",t[2])},i:Fe,o:Fe,d(t){t&&D(e)}}}function mD(r,e,t){let{size:n="60"}=e,{unit:o="px"}=e,{pause:i=!1}=e,{colorOuter:a="#FF3E00"}=e,{colorCenter:f="#40B3FF"}=e,{colorInner:c="#676778"}=e,{durationMultiplier:d=1}=e,{durationOuter:m=`${d*2}s`}=e,{durationInner:v=`${d*1.5}s`}=e,{durationCenter:_=`${d*3}s`}=e;return r.$$set=$=>{"size"in $&&t(0,n=$.size),"unit"in $&&t(1,o=$.unit),"pause"in $&&t(2,i=$.pause),"colorOuter"in $&&t(3,a=$.colorOuter),"colorCenter"in $&&t(4,f=$.colorCenter),"colorInner"in $&&t(5,c=$.colorInner),"durationMultiplier"in $&&t(9,d=$.durationMultiplier),"durationOuter"in $&&t(6,m=$.durationOuter),"durationInner"in $&&t(7,v=$.durationInner),"durationCenter"in $&&t(8,_=$.durationCenter)},[n,o,i,a,f,c,m,v,_,d]}class vD extends ut{constructor(e){super(),lt(this,e,mD,pD,ft,{size:0,unit:1,pause:2,colorOuter:3,colorCenter:4,colorInner:5,durationMultiplier:9,durationOuter:6,durationInner:7,durationCenter:8})}}function gD(r){let e,t,n,o,i;const a=r[2].default,f=Ir(a,r,r[1],null);return n=new vD({props:{colorOuter:"#CCC5B9",colorInner:"#403D39",colorCenter:"#EB5E28"}}),{c(){e=K("div"),f&&f.c(),t=oe(),le(n.$$.fragment),q(e,"class","flex flex-col items-center justify-center gap-4 py-20")},m(c,d){F(c,e,d),f&&f.m(e,null),I(e,t),ae(n,e,null),i=!0},p(c,[d]){r=c,f&&f.p&&(!i||d&2)&&Nr(f,a,r,r[1],i?Lr(a,r[1],d,null):Dr(r[1]),null)},i(c){i||(O(f,c),O(n.$$.fragment,c),o||Nt(()=>{o=_r(e,Xl,{delay:r[0]}),o.start()}),i=!0)},o(c){z(f,c),z(n.$$.fragment,c),i=!1},d(c){c&&D(e),f&&f.d(c),fe(n)}}}function yD(r,e,t){let{$$slots:n={},$$scope:o}=e,{delay:i=1e3}=e;return r.$$set=a=>{"delay"in a&&t(0,i=a.delay),"$$scope"in a&&t(1,o=a.$$scope)},[i,o,n]}class ei extends ut{constructor(e){super(),lt(this,e,yD,gD,ft,{delay:0})}}function bD(r){let e,t,n,o;const i=r[4].default,a=Ir(i,r,r[3],null);return{c(){e=K("div"),a&&a.c(),q(e,"class",t=tr(r[2].class,`overflow-hidden w-${r[1]} h-${r[1]} inline-block shrink-0 rounded-full border border-solid
     border-white bg-cover bg-center`)),q(e,"style",n="background-image: url("+r[0]+"); "+(r[2].style||""))},m(f,c){F(f,e,c),a&&a.m(e,null),o=!0},p(f,[c]){a&&a.p&&(!o||c&8)&&Nr(a,i,f,f[3],o?Lr(i,f[3],c,null):Dr(f[3]),null),(!o||c&6&&t!==(t=tr(f[2].class,`overflow-hidden w-${f[1]} h-${f[1]} inline-block shrink-0 rounded-full border border-solid
     border-white bg-cover bg-center`)))&&q(e,"class",t),(!o||c&5&&n!==(n="background-image: url("+f[0]+"); "+(f[2].style||"")))&&q(e,"style",n)},i(f){o||(O(a,f),o=!0)},o(f){z(a,f),o=!1},d(f){f&&D(e),a&&a.d(f)}}}function _D(r,e,t){let{$$slots:n={},$$scope:o}=e,{src:i}=e,{size:a=4}=e;return r.$$set=f=>{t(2,e=Ft(Ft({},e),Wr(f))),"src"in f&&t(0,i=f.src),"size"in f&&t(1,a=f.size),"$$scope"in f&&t(3,o=f.$$scope)},e=Wr(e),[i,a,e,o,n]}class wD extends ut{constructor(e){super(),lt(this,e,_D,bD,ft,{src:0,size:1})}}function MD(r){let e,t,n,o,i,a,f,c,d=[r[0],{width:"189"},{height:"189"},{viewBox:"0 0 189 189"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"}],m={};for(let v=0;v<d.length;v+=1)m=Ft(m,d[v]);return{c(){e=yi("svg"),t=yi("g"),n=yi("path"),o=yi("path"),i=yi("path"),a=yi("defs"),f=yi("clipPath"),c=yi("rect"),q(n,"d","M43.7937 12.5298C0.57938 44.8609 0.342815 92.8076 16.3236 126.458C33.6361 162.913 75.9226 184.525 117.769 173.613C156.42 163.534 183.82 122.549 182.358 95.8221"),q(n,"stroke-width","12"),q(n,"stroke-linecap","round"),q(o,"d","M78.6923 75.6945C50.8177 86.6612 44.0155 112.559 47.9751 133.172C52.2646 155.502 72.1284 173.572 96.2818 173.985C118.59 174.366 139.116 156.332 142.045 141.655"),q(o,"stroke-width","12"),q(o,"stroke-linecap","round"),q(i,"d","M43.5856 12.4047C17.9702 31.569 17.83 59.9895 27.3026 79.936C37.5646 101.545 62.6301 114.355 87.4348 107.887C110.345 101.913 126.587 77.6188 125.72 61.7764"),q(i,"stroke-width","12"),q(i,"stroke-linecap","round"),q(t,"id","paths"),q(t,"clip-path","url(#clip0_753_289)"),lr(t,"stroke","var(--logo-color, #EB5E28)"),q(c,"width","189"),q(c,"height","189"),q(c,"fill","white"),q(f,"id","clip0_753_289"),Sv(e,m)},m(v,_){F(v,e,_),I(e,t),I(t,n),I(t,o),I(t,i),I(e,a),I(a,f),I(f,c)},p(v,[_]){Sv(e,m=ai(d,[_&1&&v[0],{width:"189"},{height:"189"},{viewBox:"0 0 189 189"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"}]))},i:Fe,o:Fe,d(v){v&&D(e)}}}function $D(r,e,t){return r.$$set=n=>{t(0,e=Ft(Ft({},e),Wr(n)))},e=Wr(e),[e]}class xD extends ut{constructor(e){super(),lt(this,e,$D,MD,ft,{})}}function kD(r){let e,t,n,o;return t=new xD({props:{class:"logo absolute left-2/4 top-2/4 -translate-x-1/2 -translate-y-1/2",style:"height: 85%; width: 85%;"}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"class",n=tr(r[4].class,`relative overflow-hidden w-${r[1]} h-${r[1]} inline-block shrink-0 rounded-full border border-solid
       border-white bg-cover bg-center`)),lr(e,"--logo-color",r[2]),lr(e,"--logo-bg-color",r[3]),lr(e,"background-color","var(--logo-bg-color)")},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,a){(!o||a&18&&n!==(n=tr(i[4].class,`relative overflow-hidden w-${i[1]} h-${i[1]} inline-block shrink-0 rounded-full border border-solid
       border-white bg-cover bg-center`)))&&q(e,"class",n)},i(i){o||(O(t.$$.fragment,i),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function SD(r){let e,t;return e=new wD({props:{size:r[1],src:r[0].kind0.picture,class:r[4].class}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2&&(i.size=n[1]),o&1&&(i.src=n[0].kind0.picture),o&16&&(i.class=n[4].class),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function ED(r){let e,t,n,o;const i=[SD,kD],a=[];function f(c,d){var m;return(m=c[0].kind0)!=null&&m.picture?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,[d]){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function AD(r,e,t){let{person:n}=e,{size:o=4}=e;const i=_f(n.pubkey),a=va(i,{lightness:80}),f=va(i,{saturation:30,lightness:30});return r.$$set=c=>{t(4,e=Ft(Ft({},e),Wr(c))),"person"in c&&t(0,n=c.person),"size"in c&&t(1,o=c.size)},e=Wr(e),[n,o,a,f,e]}class No extends ut{constructor(e){super(),lt(this,e,AD,ED,ft,{person:0,size:1})}}function BD(r){let e,t;return e=new O$({props:{to:xn.person(r[0].pubkey),class:"relative z-10 flex items-center gap-2",$$slots:{default:[CD]},$$scope:{ctx:r}}}),e.$on("click",NL),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.to=xn.person(n[0].pubkey)),o&5&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function RD(r){let e,t,n,o,i=er(r[0])+"",a,f;return t=new No({props:{person:r[0]}}),{c(){e=K("span"),le(t.$$.fragment),n=oe(),o=K("span"),a=Le(i),q(o,"class","text-lg font-bold"),q(e,"class","relative z-10 flex items-center gap-2")},m(c,d){F(c,e,d),ae(t,e,null),I(e,n),I(e,o),I(o,a),f=!0},p(c,d){const m={};d&1&&(m.person=c[0]),t.$set(m),(!f||d&1)&&i!==(i=er(c[0])+"")&&Mt(a,i)},i(c){f||(O(t.$$.fragment,c),f=!0)},o(c){z(t.$$.fragment,c),f=!1},d(c){c&&D(e),fe(t)}}}function CD(r){let e,t,n,o=er(r[0])+"",i,a;return e=new No({props:{person:r[0]}}),{c(){le(e.$$.fragment),t=oe(),n=K("span"),i=Le(o),q(n,"class","text-lg font-bold")},m(f,c){ae(e,f,c),F(f,t,c),F(f,n,c),I(n,i),a=!0},p(f,c){const d={};c&1&&(d.person=f[0]),e.$set(d),(!a||c&1)&&o!==(o=er(f[0])+"")&&Mt(i,o)},i(f){a||(O(e.$$.fragment,f),a=!0)},o(f){z(e.$$.fragment,f),a=!1},d(f){fe(e,f),f&&D(t),f&&D(n)}}}function PD(r){let e,t,n,o;const i=[RD,BD],a=[];function f(c,d){return c[1]?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,[d]){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function TD(r,e,t){let{person:n}=e,{inert:o=!1}=e;return r.$$set=i=>{"person"in i&&t(0,n=i.person),"inert"in i&&t(1,o=i.inert)},[n,o]}class q0 extends ut{constructor(e){super(),lt(this,e,TD,PD,ft,{person:0,inert:1})}}function OD(r){let e,t,n,o,i,a;const f=r[4].default,c=Ir(f,r,r[3],null);return{c(){e=K("div"),c&&c.c(),q(e,"class",t=tr(r[2].class,"card rounded-2xl p-3 text-gray-2",{"border border-solid border-gray-6 bg-gray-7":!r[1],"border border-solid border-gray-6 bg-gray-8":r[1],"cursor-pointer transition-all":r[0],"hover:bg-gray-8":r[0]&&!r[1],"hover:bg-gray-7":r[0]&&r[1]}))},m(d,m){F(d,e,m),c&&c.m(e,null),o=!0,i||(a=ct(e,"click",r[5]),i=!0)},p(d,[m]){c&&c.p&&(!o||m&8)&&Nr(c,f,d,d[3],o?Lr(f,d[3],m,null):Dr(d[3]),null),(!o||m&7&&t!==(t=tr(d[2].class,"card rounded-2xl p-3 text-gray-2",{"border border-solid border-gray-6 bg-gray-7":!d[1],"border border-solid border-gray-6 bg-gray-8":d[1],"cursor-pointer transition-all":d[0],"hover:bg-gray-8":d[0]&&!d[1],"hover:bg-gray-7":d[0]&&d[1]})))&&q(e,"class",t)},i(d){o||(O(c,d),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(d){z(c,d),o=!1},d(d){d&&D(e),c&&c.d(d),i=!1,a()}}}function ID(r,e,t){let{$$slots:n={},$$scope:o}=e,{interactive:i=!1}=e,{invertColors:a=!1}=e;function f(c){Si.call(this,r,c)}return r.$$set=c=>{t(2,e=Ft(Ft({},e),Wr(c))),"interactive"in c&&t(0,i=c.interactive),"invertColors"in c&&t(1,a=c.invertColors),"$$scope"in c&&t(3,o=c.$$scope)},e=Wr(e),[i,a,e,o,n,f]}class K0 extends ut{constructor(e){super(),lt(this,e,ID,OD,ft,{interactive:0,invertColors:1})}}var Yn="top",Ci="bottom",Pi="right",Jn="left",Qm="auto",Gu=[Yn,Ci,Pi,Jn],Ff="start",cu="end",LD="clippingParents",C5="viewport",Ol="popper",ND="reference",jy=Gu.reduce(function(r,e){return r.concat([e+"-"+Ff,e+"-"+cu])},[]),P5=[].concat(Gu,[Qm]).reduce(function(r,e){return r.concat([e,e+"-"+Ff,e+"-"+cu])},[]),DD="beforeRead",FD="read",UD="afterRead",HD="beforeMain",jD="main",zD="afterMain",qD="beforeWrite",KD="write",WD="afterWrite",VD=[DD,FD,UD,HD,jD,zD,qD,KD,WD];function Ro(r){return r?(r.nodeName||"").toLowerCase():null}function Ui(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function xa(r){var e=Ui(r).Element;return r instanceof e||r instanceof Element}function ki(r){var e=Ui(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function ev(r){if(typeof ShadowRoot>"u")return!1;var e=Ui(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function ZD(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},i=e.elements[t];!ki(i)||!Ro(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(a){var f=o[a];f===!1?i.removeAttribute(a):i.setAttribute(a,f===!0?"":f)}))})}function GD(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],i=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),f=a.reduce(function(c,d){return c[d]="",c},{});!ki(o)||!Ro(o)||(Object.assign(o.style,f),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const T5={name:"applyStyles",enabled:!0,phase:"write",fn:ZD,effect:GD,requires:["computeStyles"]};function _o(r){return r.split("-")[0]}var ma=Math.max,Sh=Math.min,Uf=Math.round;function a1(){var r=navigator.userAgentData;return r!=null&&r.brands?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function O5(){return!/^((?!chrome|android).)*safari/i.test(a1())}function Hf(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),o=1,i=1;e&&ki(r)&&(o=r.offsetWidth>0&&Uf(n.width)/r.offsetWidth||1,i=r.offsetHeight>0&&Uf(n.height)/r.offsetHeight||1);var a=xa(r)?Ui(r):window,f=a.visualViewport,c=!O5()&&t,d=(n.left+(c&&f?f.offsetLeft:0))/o,m=(n.top+(c&&f?f.offsetTop:0))/i,v=n.width/o,_=n.height/i;return{width:v,height:_,top:m,right:d+v,bottom:m+_,left:d,x:d,y:m}}function tv(r){var e=Hf(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function I5(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&ev(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function rs(r){return Ui(r).getComputedStyle(r)}function YD(r){return["table","td","th"].indexOf(Ro(r))>=0}function Ws(r){return((xa(r)?r.ownerDocument:r.document)||window.document).documentElement}function W0(r){return Ro(r)==="html"?r:r.assignedSlot||r.parentNode||(ev(r)?r.host:null)||Ws(r)}function zy(r){return!ki(r)||rs(r).position==="fixed"?null:r.offsetParent}function JD(r){var e=/firefox/i.test(a1()),t=/Trident/i.test(a1());if(t&&ki(r)){var n=rs(r);if(n.position==="fixed")return null}var o=W0(r);for(ev(o)&&(o=o.host);ki(o)&&["html","body"].indexOf(Ro(o))<0;){var i=rs(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Yu(r){for(var e=Ui(r),t=zy(r);t&&YD(t)&&rs(t).position==="static";)t=zy(t);return t&&(Ro(t)==="html"||Ro(t)==="body"&&rs(t).position==="static")?e:t||JD(r)||e}function rv(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function ql(r,e,t){return ma(r,Sh(e,t))}function XD(r,e,t){var n=ql(r,e,t);return n>t?t:n}function L5(){return{top:0,right:0,bottom:0,left:0}}function N5(r){return Object.assign({},L5(),r)}function D5(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var QD=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,N5(typeof e!="number"?e:D5(e,Gu))};function eF(r){var e,t=r.state,n=r.name,o=r.options,i=t.elements.arrow,a=t.modifiersData.popperOffsets,f=_o(t.placement),c=rv(f),d=[Jn,Pi].indexOf(f)>=0,m=d?"height":"width";if(!(!i||!a)){var v=QD(o.padding,t),_=tv(i),$=c==="y"?Yn:Jn,k=c==="y"?Ci:Pi,S=t.rects.reference[m]+t.rects.reference[c]-a[c]-t.rects.popper[m],A=a[c]-t.rects.reference[c],R=Yu(i),C=R?c==="y"?R.clientHeight||0:R.clientWidth||0:0,T=S/2-A/2,B=v[$],L=C-_[m]-v[k],j=C/2-_[m]/2+T,V=ql(B,j,L),Z=c;t.modifiersData[n]=(e={},e[Z]=V,e.centerOffset=V-j,e)}}function tF(r){var e=r.state,t=r.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!I5(e.elements.popper,o)||(e.elements.arrow=o))}const rF={name:"arrow",enabled:!0,phase:"main",fn:eF,effect:tF,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jf(r){return r.split("-")[1]}var nF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iF(r){var e=r.x,t=r.y,n=window,o=n.devicePixelRatio||1;return{x:Uf(e*o)/o||0,y:Uf(t*o)/o||0}}function qy(r){var e,t=r.popper,n=r.popperRect,o=r.placement,i=r.variation,a=r.offsets,f=r.position,c=r.gpuAcceleration,d=r.adaptive,m=r.roundOffsets,v=r.isFixed,_=a.x,$=_===void 0?0:_,k=a.y,S=k===void 0?0:k,A=typeof m=="function"?m({x:$,y:S}):{x:$,y:S};$=A.x,S=A.y;var R=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),T=Jn,B=Yn,L=window;if(d){var j=Yu(t),V="clientHeight",Z="clientWidth";if(j===Ui(t)&&(j=Ws(t),rs(j).position!=="static"&&f==="absolute"&&(V="scrollHeight",Z="scrollWidth")),j=j,o===Yn||(o===Jn||o===Pi)&&i===cu){B=Ci;var Q=v&&j===L&&L.visualViewport?L.visualViewport.height:j[V];S-=Q-n.height,S*=c?1:-1}if(o===Jn||(o===Yn||o===Ci)&&i===cu){T=Pi;var ne=v&&j===L&&L.visualViewport?L.visualViewport.width:j[Z];$-=ne-n.width,$*=c?1:-1}}var w=Object.assign({position:f},d&&nF),s=m===!0?iF({x:$,y:S}):{x:$,y:S};if($=s.x,S=s.y,c){var u;return Object.assign({},w,(u={},u[B]=C?"0":"",u[T]=R?"0":"",u.transform=(L.devicePixelRatio||1)<=1?"translate("+$+"px, "+S+"px)":"translate3d("+$+"px, "+S+"px, 0)",u))}return Object.assign({},w,(e={},e[B]=C?S+"px":"",e[T]=R?$+"px":"",e.transform="",e))}function oF(r){var e=r.state,t=r.options,n=t.gpuAcceleration,o=n===void 0?!0:n,i=t.adaptive,a=i===void 0?!0:i,f=t.roundOffsets,c=f===void 0?!0:f,d={placement:_o(e.placement),variation:jf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,qy(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,qy(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const sF={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oF,data:{}};var $c={passive:!0};function aF(r){var e=r.state,t=r.instance,n=r.options,o=n.scroll,i=o===void 0?!0:o,a=n.resize,f=a===void 0?!0:a,c=Ui(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(m){m.addEventListener("scroll",t.update,$c)}),f&&c.addEventListener("resize",t.update,$c),function(){i&&d.forEach(function(m){m.removeEventListener("scroll",t.update,$c)}),f&&c.removeEventListener("resize",t.update,$c)}}const fF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:aF,data:{}};var lF={left:"right",right:"left",bottom:"top",top:"bottom"};function Zc(r){return r.replace(/left|right|bottom|top/g,function(e){return lF[e]})}var uF={start:"end",end:"start"};function Ky(r){return r.replace(/start|end/g,function(e){return uF[e]})}function nv(r){var e=Ui(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function iv(r){return Hf(Ws(r)).left+nv(r).scrollLeft}function cF(r,e){var t=Ui(r),n=Ws(r),o=t.visualViewport,i=n.clientWidth,a=n.clientHeight,f=0,c=0;if(o){i=o.width,a=o.height;var d=O5();(d||!d&&e==="fixed")&&(f=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:f+iv(r),y:c}}function hF(r){var e,t=Ws(r),n=nv(r),o=(e=r.ownerDocument)==null?void 0:e.body,i=ma(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ma(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-n.scrollLeft+iv(r),c=-n.scrollTop;return rs(o||t).direction==="rtl"&&(f+=ma(t.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:f,y:c}}function ov(r){var e=rs(r),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function F5(r){return["html","body","#document"].indexOf(Ro(r))>=0?r.ownerDocument.body:ki(r)&&ov(r)?r:F5(W0(r))}function Kl(r,e){var t;e===void 0&&(e=[]);var n=F5(r),o=n===((t=r.ownerDocument)==null?void 0:t.body),i=Ui(n),a=o?[i].concat(i.visualViewport||[],ov(n)?n:[]):n,f=e.concat(a);return o?f:f.concat(Kl(W0(a)))}function f1(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function dF(r,e){var t=Hf(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function Wy(r,e,t){return e===C5?f1(cF(r,t)):xa(e)?dF(e,t):f1(hF(Ws(r)))}function pF(r){var e=Kl(W0(r)),t=["absolute","fixed"].indexOf(rs(r).position)>=0,n=t&&ki(r)?Yu(r):r;return xa(n)?e.filter(function(o){return xa(o)&&I5(o,n)&&Ro(o)!=="body"}):[]}function mF(r,e,t,n){var o=e==="clippingParents"?pF(r):[].concat(e),i=[].concat(o,[t]),a=i[0],f=i.reduce(function(c,d){var m=Wy(r,d,n);return c.top=ma(m.top,c.top),c.right=Sh(m.right,c.right),c.bottom=Sh(m.bottom,c.bottom),c.left=ma(m.left,c.left),c},Wy(r,a,n));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function U5(r){var e=r.reference,t=r.element,n=r.placement,o=n?_o(n):null,i=n?jf(n):null,a=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2,c;switch(o){case Yn:c={x:a,y:e.y-t.height};break;case Ci:c={x:a,y:e.y+e.height};break;case Pi:c={x:e.x+e.width,y:f};break;case Jn:c={x:e.x-t.width,y:f};break;default:c={x:e.x,y:e.y}}var d=o?rv(o):null;if(d!=null){var m=d==="y"?"height":"width";switch(i){case Ff:c[d]=c[d]-(e[m]/2-t[m]/2);break;case cu:c[d]=c[d]+(e[m]/2-t[m]/2);break}}return c}function hu(r,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?r.placement:n,i=t.strategy,a=i===void 0?r.strategy:i,f=t.boundary,c=f===void 0?LD:f,d=t.rootBoundary,m=d===void 0?C5:d,v=t.elementContext,_=v===void 0?Ol:v,$=t.altBoundary,k=$===void 0?!1:$,S=t.padding,A=S===void 0?0:S,R=N5(typeof A!="number"?A:D5(A,Gu)),C=_===Ol?ND:Ol,T=r.rects.popper,B=r.elements[k?C:_],L=mF(xa(B)?B:B.contextElement||Ws(r.elements.popper),c,m,a),j=Hf(r.elements.reference),V=U5({reference:j,element:T,strategy:"absolute",placement:o}),Z=f1(Object.assign({},T,V)),Q=_===Ol?Z:j,ne={top:L.top-Q.top+R.top,bottom:Q.bottom-L.bottom+R.bottom,left:L.left-Q.left+R.left,right:Q.right-L.right+R.right},w=r.modifiersData.offset;if(_===Ol&&w){var s=w[o];Object.keys(ne).forEach(function(u){var h=[Pi,Ci].indexOf(u)>=0?1:-1,p=[Yn,Ci].indexOf(u)>=0?"y":"x";ne[u]+=s[p]*h})}return ne}function vF(r,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,i=t.rootBoundary,a=t.padding,f=t.flipVariations,c=t.allowedAutoPlacements,d=c===void 0?P5:c,m=jf(n),v=m?f?jy:jy.filter(function(k){return jf(k)===m}):Gu,_=v.filter(function(k){return d.indexOf(k)>=0});_.length===0&&(_=v);var $=_.reduce(function(k,S){return k[S]=hu(r,{placement:S,boundary:o,rootBoundary:i,padding:a})[_o(S)],k},{});return Object.keys($).sort(function(k,S){return $[k]-$[S]})}function gF(r){if(_o(r)===Qm)return[];var e=Zc(r);return[Ky(r),e,Ky(e)]}function yF(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,i=o===void 0?!0:o,a=t.altAxis,f=a===void 0?!0:a,c=t.fallbackPlacements,d=t.padding,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,$=t.flipVariations,k=$===void 0?!0:$,S=t.allowedAutoPlacements,A=e.options.placement,R=_o(A),C=R===A,T=c||(C||!k?[Zc(A)]:gF(A)),B=[A].concat(T).reduce(function(H,ee){return H.concat(_o(ee)===Qm?vF(e,{placement:ee,boundary:m,rootBoundary:v,padding:d,flipVariations:k,allowedAutoPlacements:S}):ee)},[]),L=e.rects.reference,j=e.rects.popper,V=new Map,Z=!0,Q=B[0],ne=0;ne<B.length;ne++){var w=B[ne],s=_o(w),u=jf(w)===Ff,h=[Yn,Ci].indexOf(s)>=0,p=h?"width":"height",g=hu(e,{placement:w,boundary:m,rootBoundary:v,altBoundary:_,padding:d}),M=h?u?Pi:Jn:u?Ci:Yn;L[p]>j[p]&&(M=Zc(M));var x=Zc(M),y=[];if(i&&y.push(g[s]<=0),f&&y.push(g[M]<=0,g[x]<=0),y.every(function(H){return H})){Q=w,Z=!1;break}V.set(w,y)}if(Z)for(var l=k?3:1,b=function(ee){var Y=B.find(function(re){var Me=V.get(re);if(Me)return Me.slice(0,ee).every(function(de){return de})});if(Y)return Q=Y,"break"},E=l;E>0;E--){var P=b(E);if(P==="break")break}e.placement!==Q&&(e.modifiersData[n]._skip=!0,e.placement=Q,e.reset=!0)}}const bF={name:"flip",enabled:!0,phase:"main",fn:yF,requiresIfExists:["offset"],data:{_skip:!1}};function Vy(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function Zy(r){return[Yn,Pi,Ci,Jn].some(function(e){return r[e]>=0})}function _F(r){var e=r.state,t=r.name,n=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=hu(e,{elementContext:"reference"}),f=hu(e,{altBoundary:!0}),c=Vy(a,n),d=Vy(f,o,i),m=Zy(c),v=Zy(d);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const wF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_F};function MF(r,e,t){var n=_o(r),o=[Jn,Yn].indexOf(n)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,a=i[0],f=i[1];return a=a||0,f=(f||0)*o,[Jn,Pi].indexOf(n)>=0?{x:f,y:a}:{x:a,y:f}}function $F(r){var e=r.state,t=r.options,n=r.name,o=t.offset,i=o===void 0?[0,0]:o,a=P5.reduce(function(m,v){return m[v]=MF(v,e.rects,i),m},{}),f=a[e.placement],c=f.x,d=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=a}const xF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$F};function kF(r){var e=r.state,t=r.name;e.modifiersData[t]=U5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const SF={name:"popperOffsets",enabled:!0,phase:"read",fn:kF,data:{}};function EF(r){return r==="x"?"y":"x"}function AF(r){var e=r.state,t=r.options,n=r.name,o=t.mainAxis,i=o===void 0?!0:o,a=t.altAxis,f=a===void 0?!1:a,c=t.boundary,d=t.rootBoundary,m=t.altBoundary,v=t.padding,_=t.tether,$=_===void 0?!0:_,k=t.tetherOffset,S=k===void 0?0:k,A=hu(e,{boundary:c,rootBoundary:d,padding:v,altBoundary:m}),R=_o(e.placement),C=jf(e.placement),T=!C,B=rv(R),L=EF(B),j=e.modifiersData.popperOffsets,V=e.rects.reference,Z=e.rects.popper,Q=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,ne=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,s={x:0,y:0};if(!!j){if(i){var u,h=B==="y"?Yn:Jn,p=B==="y"?Ci:Pi,g=B==="y"?"height":"width",M=j[B],x=M+A[h],y=M-A[p],l=$?-Z[g]/2:0,b=C===Ff?V[g]:Z[g],E=C===Ff?-Z[g]:-V[g],P=e.elements.arrow,H=$&&P?tv(P):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:L5(),Y=ee[h],re=ee[p],Me=ql(0,V[g],H[g]),de=T?V[g]/2-l-Me-Y-ne.mainAxis:b-Me-Y-ne.mainAxis,_e=T?-V[g]/2+l+Me+re+ne.mainAxis:E+Me+re+ne.mainAxis,te=e.elements.arrow&&Yu(e.elements.arrow),X=te?B==="y"?te.clientTop||0:te.clientLeft||0:0,ye=(u=w==null?void 0:w[B])!=null?u:0,Ge=M+de-ye-X,Pe=M+_e-ye,W=ql($?Sh(x,Ge):x,M,$?ma(y,Pe):y);j[B]=W,s[B]=W-M}if(f){var U,N=B==="x"?Yn:Jn,G=B==="x"?Ci:Pi,ke=j[L],ge=L==="y"?"height":"width",xe=ke+A[N],ot=ke-A[G],Ie=[Yn,Jn].indexOf(R)!==-1,je=(U=w==null?void 0:w[L])!=null?U:0,ht=Ie?xe:ke-V[ge]-Z[ge]-je+ne.altAxis,De=Ie?ke+V[ge]+Z[ge]-je-ne.altAxis:ot,ze=$&&Ie?XD(ht,ke,De):ql($?ht:xe,ke,$?De:ot);j[L]=ze,s[L]=ze-ke}e.modifiersData[n]=s}}const BF={name:"preventOverflow",enabled:!0,phase:"main",fn:AF,requiresIfExists:["offset"]};function RF(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function CF(r){return r===Ui(r)||!ki(r)?nv(r):RF(r)}function PF(r){var e=r.getBoundingClientRect(),t=Uf(e.width)/r.offsetWidth||1,n=Uf(e.height)/r.offsetHeight||1;return t!==1||n!==1}function TF(r,e,t){t===void 0&&(t=!1);var n=ki(e),o=ki(e)&&PF(e),i=Ws(e),a=Hf(r,o,t),f={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!t)&&((Ro(e)!=="body"||ov(i))&&(f=CF(e)),ki(e)?(c=Hf(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=iv(i))),{x:a.left+f.scrollLeft-c.x,y:a.top+f.scrollTop-c.y,width:a.width,height:a.height}}function OF(r){var e=new Map,t=new Set,n=[];r.forEach(function(i){e.set(i.name,i)});function o(i){t.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(f){if(!t.has(f)){var c=e.get(f);c&&o(c)}}),n.push(i)}return r.forEach(function(i){t.has(i.name)||o(i)}),n}function IF(r){var e=OF(r);return VD.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function LF(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function NF(r){var e=r.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Gy={placement:"bottom",modifiers:[],strategy:"absolute"};function Yy(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function DF(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,i=o===void 0?Gy:o;return function(f,c,d){d===void 0&&(d=i);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gy,i),modifiersData:{},elements:{reference:f,popper:c},attributes:{},styles:{}},v=[],_=!1,$={state:m,setOptions:function(R){var C=typeof R=="function"?R(m.options):R;S(),m.options=Object.assign({},i,m.options,C),m.scrollParents={reference:xa(f)?Kl(f):f.contextElement?Kl(f.contextElement):[],popper:Kl(c)};var T=IF(NF([].concat(n,m.options.modifiers)));return m.orderedModifiers=T.filter(function(B){return B.enabled}),k(),$.update()},forceUpdate:function(){if(!_){var R=m.elements,C=R.reference,T=R.popper;if(!!Yy(C,T)){m.rects={reference:TF(C,Yu(T),m.options.strategy==="fixed"),popper:tv(T)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(ne){return m.modifiersData[ne.name]=Object.assign({},ne.data)});for(var B=0;B<m.orderedModifiers.length;B++){if(m.reset===!0){m.reset=!1,B=-1;continue}var L=m.orderedModifiers[B],j=L.fn,V=L.options,Z=V===void 0?{}:V,Q=L.name;typeof j=="function"&&(m=j({state:m,options:Z,name:Q,instance:$})||m)}}}},update:LF(function(){return new Promise(function(A){$.forceUpdate(),A(m)})}),destroy:function(){S(),_=!0}};if(!Yy(f,c))return $;$.setOptions(d).then(function(A){!_&&d.onFirstUpdate&&d.onFirstUpdate(A)});function k(){m.orderedModifiers.forEach(function(A){var R=A.name,C=A.options,T=C===void 0?{}:C,B=A.effect;if(typeof B=="function"){var L=B({state:m,name:R,instance:$,options:T}),j=function(){};v.push(L||j)}})}function S(){v.forEach(function(A){return A()}),v=[]}return $}}var FF=[fF,SF,sF,T5,xF,bF,BF,rF,wF],UF=DF({defaultModifiers:FF}),HF="tippy-box",H5="tippy-content",jF="tippy-backdrop",j5="tippy-arrow",z5="tippy-svg-arrow",ta={passive:!0,capture:!0},q5=function(){return document.body};function dp(r,e,t){if(Array.isArray(r)){var n=r[e];return n==null?Array.isArray(t)?t[e]:t:n}return r}function sv(r,e){var t={}.toString.call(r);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function K5(r,e){return typeof r=="function"?r.apply(void 0,e):r}function Jy(r,e){if(e===0)return r;var t;return function(n){clearTimeout(t),t=setTimeout(function(){r(n)},e)}}function zF(r){return r.split(/\s+/).filter(Boolean)}function Ga(r){return[].concat(r)}function Xy(r,e){r.indexOf(e)===-1&&r.push(e)}function qF(r){return r.filter(function(e,t){return r.indexOf(e)===t})}function KF(r){return r.split("-")[0]}function Eh(r){return[].slice.call(r)}function Qy(r){return Object.keys(r).reduce(function(e,t){return r[t]!==void 0&&(e[t]=r[t]),e},{})}function Wl(){return document.createElement("div")}function V0(r){return["Element","Fragment"].some(function(e){return sv(r,e)})}function WF(r){return sv(r,"NodeList")}function VF(r){return sv(r,"MouseEvent")}function ZF(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function GF(r){return V0(r)?[r]:WF(r)?Eh(r):Array.isArray(r)?r:Eh(document.querySelectorAll(r))}function pp(r,e){r.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function eb(r,e){r.forEach(function(t){t&&t.setAttribute("data-state",e)})}function YF(r){var e,t=Ga(r),n=t[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function JF(r,e){var t=e.clientX,n=e.clientY;return r.every(function(o){var i=o.popperRect,a=o.popperState,f=o.props,c=f.interactiveBorder,d=KF(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=d==="bottom"?m.top.y:0,_=d==="top"?m.bottom.y:0,$=d==="right"?m.left.x:0,k=d==="left"?m.right.x:0,S=i.top-n+v>c,A=n-i.bottom-_>c,R=i.left-t+$>c,C=t-i.right-k>c;return S||A||R||C})}function mp(r,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){r[n](o,t)})}function tb(r,e){for(var t=e;t;){var n;if(r.contains(t))return!0;t=t.getRootNode==null||(n=t.getRootNode())==null?void 0:n.host}return!1}var co={isTouch:!1},rb=0;function XF(){co.isTouch||(co.isTouch=!0,window.performance&&document.addEventListener("mousemove",W5))}function W5(){var r=performance.now();r-rb<20&&(co.isTouch=!1,document.removeEventListener("mousemove",W5)),rb=r}function QF(){var r=document.activeElement;if(ZF(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function eU(){document.addEventListener("touchstart",XF,ta),window.addEventListener("blur",QF)}var tU=typeof window<"u"&&typeof document<"u",rU=tU?!!window.msCrypto:!1,nU={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},iU={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Wi=Object.assign({appendTo:q5,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},nU,iU),oU=Object.keys(Wi),sU=function(e){var t=Object.keys(e);t.forEach(function(n){Wi[n]=e[n]})};function V5(r){var e=r.plugins||[],t=e.reduce(function(n,o){var i=o.name,a=o.defaultValue;if(i){var f;n[i]=r[i]!==void 0?r[i]:(f=Wi[i])!=null?f:a}return n},{});return Object.assign({},r,t)}function aU(r,e){var t=e?Object.keys(V5(Object.assign({},Wi,{plugins:e}))):oU,n=t.reduce(function(o,i){var a=(r.getAttribute("data-tippy-"+i)||"").trim();if(!a)return o;if(i==="content")o[i]=a;else try{o[i]=JSON.parse(a)}catch{o[i]=a}return o},{});return n}function nb(r,e){var t=Object.assign({},e,{content:K5(e.content,[r])},e.ignoreAttributes?{}:aU(r,e.plugins));return t.aria=Object.assign({},Wi.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var fU=function(){return"innerHTML"};function l1(r,e){r[fU()]=e}function ib(r){var e=Wl();return r===!0?e.className=j5:(e.className=z5,V0(r)?e.appendChild(r):l1(e,r)),e}function ob(r,e){V0(e.content)?(l1(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?l1(r,e.content):r.textContent=e.content)}function u1(r){var e=r.firstElementChild,t=Eh(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(H5)}),arrow:t.find(function(n){return n.classList.contains(j5)||n.classList.contains(z5)}),backdrop:t.find(function(n){return n.classList.contains(jF)})}}function Z5(r){var e=Wl(),t=Wl();t.className=HF,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=Wl();n.className=H5,n.setAttribute("data-state","hidden"),ob(n,r.props),e.appendChild(t),t.appendChild(n),o(r.props,r.props);function o(i,a){var f=u1(e),c=f.box,d=f.content,m=f.arrow;a.theme?c.setAttribute("data-theme",a.theme):c.removeAttribute("data-theme"),typeof a.animation=="string"?c.setAttribute("data-animation",a.animation):c.removeAttribute("data-animation"),a.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?c.setAttribute("role",a.role):c.removeAttribute("role"),(i.content!==a.content||i.allowHTML!==a.allowHTML)&&ob(d,r.props),a.arrow?m?i.arrow!==a.arrow&&(c.removeChild(m),c.appendChild(ib(a.arrow))):c.appendChild(ib(a.arrow)):m&&c.removeChild(m)}return{popper:e,onUpdate:o}}Z5.$$tippy=!0;var lU=1,xc=[],vp=[];function uU(r,e){var t=nb(r,Object.assign({},Wi,V5(Qy(e)))),n,o,i,a=!1,f=!1,c=!1,d=!1,m,v,_,$=[],k=Jy(Ge,t.interactiveDebounce),S,A=lU++,R=null,C=qF(t.plugins),T={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},B={id:A,reference:r,popper:Wl(),popperInstance:R,props:t,state:T,plugins:C,clearDelayTimeouts:ht,setProps:De,setContent:ze,show:xt,hide:qe,hideWithInteractivity:Ye,enable:Ie,disable:je,unmount:St,destroy:Ke};if(!t.render)return B;var L=t.render(B),j=L.popper,V=L.onUpdate;j.setAttribute("data-tippy-root",""),j.id="tippy-"+B.id,B.popper=j,r._tippy=B,j._tippy=B;var Z=C.map(function(we){return we.fn(B)}),Q=r.hasAttribute("aria-expanded");return te(),l(),M(),x("onCreate",[B]),t.showOnCreate&&xe(),j.addEventListener("mouseenter",function(){B.props.interactive&&B.state.isVisible&&B.clearDelayTimeouts()}),j.addEventListener("mouseleave",function(){B.props.interactive&&B.props.trigger.indexOf("mouseenter")>=0&&h().addEventListener("mousemove",k)}),B;function ne(){var we=B.props.touch;return Array.isArray(we)?we:[we,0]}function w(){return ne()[0]==="hold"}function s(){var we;return!!((we=B.props.render)!=null&&we.$$tippy)}function u(){return S||r}function h(){var we=u().parentNode;return we?YF(we):document}function p(){return u1(j)}function g(we){return B.state.isMounted&&!B.state.isVisible||co.isTouch||m&&m.type==="focus"?0:dp(B.props.delay,we?0:1,Wi.delay)}function M(we){we===void 0&&(we=!1),j.style.pointerEvents=B.props.interactive&&!we?"":"none",j.style.zIndex=""+B.props.zIndex}function x(we,nt,Ne){if(Ne===void 0&&(Ne=!0),Z.forEach(function(ve){ve[we]&&ve[we].apply(ve,nt)}),Ne){var Re;(Re=B.props)[we].apply(Re,nt)}}function y(){var we=B.props.aria;if(!!we.content){var nt="aria-"+we.content,Ne=j.id,Re=Ga(B.props.triggerTarget||r);Re.forEach(function(ve){var ie=ve.getAttribute(nt);if(B.state.isVisible)ve.setAttribute(nt,ie?ie+" "+Ne:Ne);else{var se=ie&&ie.replace(Ne,"").trim();se?ve.setAttribute(nt,se):ve.removeAttribute(nt)}})}}function l(){if(!(Q||!B.props.aria.expanded)){var we=Ga(B.props.triggerTarget||r);we.forEach(function(nt){B.props.interactive?nt.setAttribute("aria-expanded",B.state.isVisible&&nt===u()?"true":"false"):nt.removeAttribute("aria-expanded")})}}function b(){h().removeEventListener("mousemove",k),xc=xc.filter(function(we){return we!==k})}function E(we){if(!(co.isTouch&&(c||we.type==="mousedown"))){var nt=we.composedPath&&we.composedPath()[0]||we.target;if(!(B.props.interactive&&tb(j,nt))){if(Ga(B.props.triggerTarget||r).some(function(Ne){return tb(Ne,nt)})){if(co.isTouch||B.state.isVisible&&B.props.trigger.indexOf("click")>=0)return}else x("onClickOutside",[B,we]);B.props.hideOnClick===!0&&(B.clearDelayTimeouts(),B.hide(),f=!0,setTimeout(function(){f=!1}),B.state.isMounted||Y())}}}function P(){c=!0}function H(){c=!1}function ee(){var we=h();we.addEventListener("mousedown",E,!0),we.addEventListener("touchend",E,ta),we.addEventListener("touchstart",H,ta),we.addEventListener("touchmove",P,ta)}function Y(){var we=h();we.removeEventListener("mousedown",E,!0),we.removeEventListener("touchend",E,ta),we.removeEventListener("touchstart",H,ta),we.removeEventListener("touchmove",P,ta)}function re(we,nt){de(we,function(){!B.state.isVisible&&j.parentNode&&j.parentNode.contains(j)&&nt()})}function Me(we,nt){de(we,nt)}function de(we,nt){var Ne=p().box;function Re(ve){ve.target===Ne&&(mp(Ne,"remove",Re),nt())}if(we===0)return nt();mp(Ne,"remove",v),mp(Ne,"add",Re),v=Re}function _e(we,nt,Ne){Ne===void 0&&(Ne=!1);var Re=Ga(B.props.triggerTarget||r);Re.forEach(function(ve){ve.addEventListener(we,nt,Ne),$.push({node:ve,eventType:we,handler:nt,options:Ne})})}function te(){w()&&(_e("touchstart",ye,{passive:!0}),_e("touchend",Pe,{passive:!0})),zF(B.props.trigger).forEach(function(we){if(we!=="manual")switch(_e(we,ye),we){case"mouseenter":_e("mouseleave",Pe);break;case"focus":_e(rU?"focusout":"blur",W);break;case"focusin":_e("focusout",W);break}})}function X(){$.forEach(function(we){var nt=we.node,Ne=we.eventType,Re=we.handler,ve=we.options;nt.removeEventListener(Ne,Re,ve)}),$=[]}function ye(we){var nt,Ne=!1;if(!(!B.state.isEnabled||U(we)||f)){var Re=((nt=m)==null?void 0:nt.type)==="focus";m=we,S=we.currentTarget,l(),!B.state.isVisible&&VF(we)&&xc.forEach(function(ve){return ve(we)}),we.type==="click"&&(B.props.trigger.indexOf("mouseenter")<0||a)&&B.props.hideOnClick!==!1&&B.state.isVisible?Ne=!0:xe(we),we.type==="click"&&(a=!Ne),Ne&&!Re&&ot(we)}}function Ge(we){var nt=we.target,Ne=u().contains(nt)||j.contains(nt);if(!(we.type==="mousemove"&&Ne)){var Re=ge().concat(j).map(function(ve){var ie,se=ve._tippy,Ee=(ie=se.popperInstance)==null?void 0:ie.state;return Ee?{popperRect:ve.getBoundingClientRect(),popperState:Ee,props:t}:null}).filter(Boolean);JF(Re,we)&&(b(),ot(we))}}function Pe(we){var nt=U(we)||B.props.trigger.indexOf("click")>=0&&a;if(!nt){if(B.props.interactive){B.hideWithInteractivity(we);return}ot(we)}}function W(we){B.props.trigger.indexOf("focusin")<0&&we.target!==u()||B.props.interactive&&we.relatedTarget&&j.contains(we.relatedTarget)||ot(we)}function U(we){return co.isTouch?w()!==we.type.indexOf("touch")>=0:!1}function N(){G();var we=B.props,nt=we.popperOptions,Ne=we.placement,Re=we.offset,ve=we.getReferenceClientRect,ie=we.moveTransition,se=s()?u1(j).arrow:null,Ee=ve?{getBoundingClientRect:ve,contextElement:ve.contextElement||u()}:r,ce={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ae){var Te=Ae.state;if(s()){var it=p(),Oe=it.box;["placement","reference-hidden","escaped"].forEach(function(pe){pe==="placement"?Oe.setAttribute("data-placement",Te.placement):Te.attributes.popper["data-popper-"+pe]?Oe.setAttribute("data-"+pe,""):Oe.removeAttribute("data-"+pe)}),Te.attributes.popper={}}}},be=[{name:"offset",options:{offset:Re}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ie}},ce];s()&&se&&be.push({name:"arrow",options:{element:se,padding:3}}),be.push.apply(be,(nt==null?void 0:nt.modifiers)||[]),B.popperInstance=UF(Ee,j,Object.assign({},nt,{placement:Ne,onFirstUpdate:_,modifiers:be}))}function G(){B.popperInstance&&(B.popperInstance.destroy(),B.popperInstance=null)}function ke(){var we=B.props.appendTo,nt,Ne=u();B.props.interactive&&we===q5||we==="parent"?nt=Ne.parentNode:nt=K5(we,[Ne]),nt.contains(j)||nt.appendChild(j),B.state.isMounted=!0,N()}function ge(){return Eh(j.querySelectorAll("[data-tippy-root]"))}function xe(we){B.clearDelayTimeouts(),we&&x("onTrigger",[B,we]),ee();var nt=g(!0),Ne=ne(),Re=Ne[0],ve=Ne[1];co.isTouch&&Re==="hold"&&ve&&(nt=ve),nt?n=setTimeout(function(){B.show()},nt):B.show()}function ot(we){if(B.clearDelayTimeouts(),x("onUntrigger",[B,we]),!B.state.isVisible){Y();return}if(!(B.props.trigger.indexOf("mouseenter")>=0&&B.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(we.type)>=0&&a)){var nt=g(!1);nt?o=setTimeout(function(){B.state.isVisible&&B.hide()},nt):i=requestAnimationFrame(function(){B.hide()})}}function Ie(){B.state.isEnabled=!0}function je(){B.hide(),B.state.isEnabled=!1}function ht(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(i)}function De(we){if(!B.state.isDestroyed){x("onBeforeUpdate",[B,we]),X();var nt=B.props,Ne=nb(r,Object.assign({},nt,Qy(we),{ignoreAttributes:!0}));B.props=Ne,te(),nt.interactiveDebounce!==Ne.interactiveDebounce&&(b(),k=Jy(Ge,Ne.interactiveDebounce)),nt.triggerTarget&&!Ne.triggerTarget?Ga(nt.triggerTarget).forEach(function(Re){Re.removeAttribute("aria-expanded")}):Ne.triggerTarget&&r.removeAttribute("aria-expanded"),l(),M(),V&&V(nt,Ne),B.popperInstance&&(N(),ge().forEach(function(Re){requestAnimationFrame(Re._tippy.popperInstance.forceUpdate)})),x("onAfterUpdate",[B,we])}}function ze(we){B.setProps({content:we})}function xt(){var we=B.state.isVisible,nt=B.state.isDestroyed,Ne=!B.state.isEnabled,Re=co.isTouch&&!B.props.touch,ve=dp(B.props.duration,0,Wi.duration);if(!(we||nt||Ne||Re)&&!u().hasAttribute("disabled")&&(x("onShow",[B],!1),B.props.onShow(B)!==!1)){if(B.state.isVisible=!0,s()&&(j.style.visibility="visible"),M(),ee(),B.state.isMounted||(j.style.transition="none"),s()){var ie=p(),se=ie.box,Ee=ie.content;pp([se,Ee],0)}_=function(){var be;if(!(!B.state.isVisible||d)){if(d=!0,j.offsetHeight,j.style.transition=B.props.moveTransition,s()&&B.props.animation){var Qe=p(),Ae=Qe.box,Te=Qe.content;pp([Ae,Te],ve),eb([Ae,Te],"visible")}y(),l(),Xy(vp,B),(be=B.popperInstance)==null||be.forceUpdate(),x("onMount",[B]),B.props.animation&&s()&&Me(ve,function(){B.state.isShown=!0,x("onShown",[B])})}},ke()}}function qe(){var we=!B.state.isVisible,nt=B.state.isDestroyed,Ne=!B.state.isEnabled,Re=dp(B.props.duration,1,Wi.duration);if(!(we||nt||Ne)&&(x("onHide",[B],!1),B.props.onHide(B)!==!1)){if(B.state.isVisible=!1,B.state.isShown=!1,d=!1,a=!1,s()&&(j.style.visibility="hidden"),b(),Y(),M(!0),s()){var ve=p(),ie=ve.box,se=ve.content;B.props.animation&&(pp([ie,se],Re),eb([ie,se],"hidden"))}y(),l(),B.props.animation?s()&&re(Re,B.unmount):B.unmount()}}function Ye(we){h().addEventListener("mousemove",k),Xy(xc,k),k(we)}function St(){B.state.isVisible&&B.hide(),B.state.isMounted&&(G(),ge().forEach(function(we){we._tippy.unmount()}),j.parentNode&&j.parentNode.removeChild(j),vp=vp.filter(function(we){return we!==B}),B.state.isMounted=!1,x("onHidden",[B]))}function Ke(){B.state.isDestroyed||(B.clearDelayTimeouts(),B.unmount(),X(),delete r._tippy,B.state.isDestroyed=!0,x("onDestroy",[B]))}}function Ju(r,e){e===void 0&&(e={});var t=Wi.plugins.concat(e.plugins||[]);eU();var n=Object.assign({},e,{plugins:t}),o=GF(r),i=o.reduce(function(a,f){var c=f&&uU(f,n);return c&&a.push(c),a},[]);return V0(r)?i[0]:i}Ju.defaultProps=Wi;Ju.setDefaultProps=sU;Ju.currentInput=co;Object.assign({},T5,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});Ju.setDefaultProps({render:Z5});const{document:cU}=Pw,hU=r=>({instance:r&4}),sb=r=>({instance:r[2]}),dU=r=>({}),ab=r=>({});function pU(r){let e,t,n,o,i,a,f,c,d;const m=r[7].trigger,v=Ir(m,r,r[6],ab),_=r[7].tooltip,$=Ir(_,r,r[6],sb);return{c(){e=oe(),t=K("div"),v&&v.c(),o=oe(),i=K("div"),a=K("div"),$&&$.c(),q(t,"class",n=r[3].class),q(i,"class","hidden")},m(k,S){F(k,e,S),F(k,t,S),v&&v.m(t,null),r[10](t),F(k,o,S),F(k,i,S),I(i,a),$&&$.m(a,null),r[11](i),f=!0,c||(d=[ct(window,"scroll",r[8]),ct(cU.body,"keydown",r[9])],c=!0)},p(k,[S]){v&&v.p&&(!f||S&64)&&Nr(v,m,k,k[6],f?Lr(m,k[6],S,dU):Dr(k[6]),ab),(!f||S&8&&n!==(n=k[3].class))&&q(t,"class",n),$&&$.p&&(!f||S&68)&&Nr($,_,k,k[6],f?Lr(_,k[6],S,hU):Dr(k[6]),sb)},i(k){f||(O(v,k),O($,k),f=!0)},o(k){z(v,k),z($,k),f=!1},d(k){k&&D(e),k&&D(t),v&&v.d(k),r[10](null),k&&D(o),k&&D(i),$&&$.d(k),r[11](null),c=!1,sn(d)}}}function mU(r,e,t){let{$$slots:n={},$$scope:o}=e,{theme:i="dark"}=e,{triggerType:a="click"}=e,f,c,d;jr(()=>(t(2,d=Ju(f,{theme:i,appendTo:()=>document.body,allowHTML:!0,interactive:!0,trigger:a,animation:"shift-away",onShow:()=>{const[k]=c.children;k&&(d.popper.querySelector(".tippy-content").appendChild(k),d.popper.addEventListener("mouseleave",S=>d.hide()),d.popper.addEventListener("click",S=>{S.target.closest(".tippy-close")&&d.hide()}))},onHidden:()=>{const[k]=d.popper.querySelector(".tippy-content").children;c.appendChild(k)}})),()=>{d.destroy()}));const m=k=>{d.hide()},v=k=>{k.key==="Escape"&&d.hide()};function _(k){Ct[k?"unshift":"push"](()=>{f=k,t(0,f)})}function $(k){Ct[k?"unshift":"push"](()=>{c=k,t(1,c)})}return r.$$set=k=>{t(3,e=Ft(Ft({},e),Wr(k))),"theme"in k&&t(4,i=k.theme),"triggerType"in k&&t(5,a=k.triggerType),"$$scope"in k&&t(6,o=k.$$scope)},e=Wr(e),[f,c,d,e,i,a,o,n,m,v,_,$]}class Ah extends ut{constructor(e){super(),lt(this,e,mU,pU,ft,{theme:4,triggerType:5})}}function fb(r,e,t){const n=r.slice();return n[3]=e[t],n}function lb(r){let e,t;return e=new q0({props:{person:Br(r[3])}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.person=Br(n[3])),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function vU(r){let e,t,n,o;const i=r[2].default,a=Ir(i,r,r[1],null);let f=r[0],c=[];for(let m=0;m<f.length;m+=1)c[m]=lb(fb(r,f,m));const d=m=>z(c[m],1,1,()=>{c[m]=null});return{c(){e=K("div"),a&&a.c(),t=oe(),n=K("div");for(let m=0;m<c.length;m+=1)c[m].c();q(n,"class","flex flex-col gap-1"),q(e,"class","flex flex-col gap-2")},m(m,v){F(m,e,v),a&&a.m(e,null),I(e,t),I(e,n);for(let _=0;_<c.length;_+=1)c[_].m(n,null);o=!0},p(m,[v]){if(a&&a.p&&(!o||v&2)&&Nr(a,i,m,m[1],o?Lr(i,m[1],v,null):Dr(m[1]),null),v&1){f=m[0];let _;for(_=0;_<f.length;_+=1){const $=fb(m,f,_);c[_]?(c[_].p($,v),O(c[_],1)):(c[_]=lb($),c[_].c(),O(c[_],1),c[_].m(n,null))}for(tt(),_=f.length;_<c.length;_+=1)d(_);rt()}},i(m){if(!o){O(a,m);for(let v=0;v<f.length;v+=1)O(c[v]);o=!0}},o(m){z(a,m),c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)z(c[v]);o=!1},d(m){m&&D(e),a&&a.d(m),yn(c,m)}}}function gU(r,e,t){let{$$slots:n={},$$scope:o}=e,{pubkeys:i}=e;return r.$$set=a=>{"pubkeys"in a&&t(0,i=a.pubkeys),"$$scope"in a&&t(1,o=a.$$scope)},[i,o,n]}class av extends ut{constructor(e){super(),lt(this,e,gU,vU,ft,{pubkeys:0})}}function yU(r){let e,t;return e=new K0({props:{interactive:!0,class:"flex flex-col gap-2 text-left",$$slots:{default:[BU]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&8193&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function bU(r){let e,t;return e=new Ah({props:{$$slots:{tooltip:[AU],trigger:[wU]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _U(r){let e,t,n,o;return t=new q0({props:{person:r[6]}}),{c(){e=K("div"),le(t.$$.fragment),n=Le(" mentioned you."),q(e,"class","flex items-center gap-2")},m(i,a){F(i,e,a),ae(t,e,null),I(e,n),o=!0},p:Fe,i(i){o||(O(t.$$.fragment,i),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function wU(r){let e;return{c(){e=K("div"),e.textContent=`${kt.exports.quantify(r[7].length,"person","people")} 
            ${r[8]} your note.`,q(e,"slot","trigger")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function MU(r){let e,t;return e=new av({props:{pubkeys:Ar("pubkey",r[5]),$$slots:{default:[$U]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function $U(r){let e;return{c(){e=Le("Zapped by")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function xU(r){let e,t;return e=new av({props:{pubkeys:Ar("pubkey",r[4]),$$slots:{default:[kU]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kU(r){let e;return{c(){e=Le("Liked by")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function SU(r){let e,t;return e=new av({props:{pubkeys:Ar("pubkey",r[3]),$$slots:{default:[EU]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function EU(r){let e;return{c(){e=Le("Replies")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function AU(r){let e,t,n,o,i=r[5].length>0&&MU(r),a=r[4].length>0&&xU(r),f=r[3].length>0&&SU(r);return{c(){e=K("div"),i&&i.c(),t=oe(),a&&a.c(),n=oe(),f&&f.c(),q(e,"slot","tooltip"),q(e,"class","flex flex-col gap-4")},m(c,d){F(c,e,d),i&&i.m(e,null),I(e,t),a&&a.m(e,null),I(e,n),f&&f.m(e,null),o=!0},p(c,d){c[5].length>0&&i.p(c,d),c[4].length>0&&a.p(c,d),c[3].length>0&&f.p(c,d)},i(c){o||(O(i),O(a),O(f),o=!0)},o(c){z(i),z(a),z(f),o=!1},d(c){c&&D(e),i&&i.d(),a&&a.d(),f&&f.d()}}}function BU(r){let e,t,n,o,i,a,f,c,d,m;const v=[_U,bU],_=[];function $(k,S){return k[0].ref?1:0}return t=$(r),n=_[t]=v[t](r),{c(){e=K("div"),n.c(),o=oe(),i=K("p"),i.textContent=`${Os(r[2])}`,a=oe(),f=K("div"),f.textContent=`${kt.exports.ellipsize(r[1].content,120)}`,q(i,"class","text-sm text-gray-1"),q(e,"class","relative flex w-full items-center justify-between gap-2"),q(f,"class","break-word ml-6 overflow-hidden text-gray-1")},m(k,S){F(k,e,S),_[t].m(e,null),I(e,o),I(e,i),F(k,a,S),F(k,f,S),c=!0,d||(m=ct(e,"click",Ss(r[9])),d=!0)},p(k,S){let A=t;t=$(k),t===A?_[t].p(k,S):(tt(),z(_[A],1,1,()=>{_[A]=null}),rt(),n=_[t],n?n.p(k,S):(n=_[t]=v[t](k),n.c()),O(n,1),n.m(e,o))},i(k){c||(O(n),c=!0)},o(k){z(n),c=!1},d(k){k&&D(e),_[t].d(),k&&D(a),k&&D(f),d=!1,m()}}}function RU(r){let e,t,n=r[1]&&yU(r);return{c(){n&&n.c(),e=dt()},m(o,i){n&&n.m(o,i),F(o,e,i),t=!0},p(o,[i]){o[1]&&n.p(o,i)},i(o){t||(O(n),t=!0)},o(o){z(n),t=!1},d(o){n&&n.d(o),o&&D(e)}}}function CU(r,e,t){let{event:n}=e;const i=tu(Mo(Xw(hn("kind",9735),A=>js(()=>JSON.parse(Pr.from(A).asMeta().description)))),Gf(oi))(n.notifications),a=n.ref?Ku.get(n.ref):i[0],f=Ar("created_at",i).reduce(vu,0),c=i.filter(hn("kind",1)),d=i.filter(hn("kind",7)),m=i.filter(hn("kind",9734)),v=Br(a==null?void 0:a.pubkey),_=$o(Ar("pubkey",i)),$=kt.exports.closure(()=>c.length===i.length?"replied to":d.length===i.length?"liked":m.length===i.length?"zapped":"interacted with");function k(A){Si.call(this,r,A)}const S=()=>Xt.set({type:"note/detail",note:a});return r.$$set=A=>{"event"in A&&t(0,n=A.event)},[n,a,f,c,d,m,v,_,$,k,S]}class PU extends ut{constructor(e){super(),lt(this,e,CU,RU,ft,{event:0})}}function ub(r,e,t){const n=r.slice();return n[6]=e[t],n}function TU(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OU(r){let e,t;return e=new At({props:{$$slots:{default:[LU]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&513&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function cb(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[IU]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IU(r){let e;return{c(){e=Le("No notifications found - check back later!")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function hb(r){let e;return{c(){e=K("div"),e.innerHTML=`<small class="whitespace-nowrap text-gray-1">Older notifications</small> 
          <div class="h-px w-full bg-gray-6"></div> 
        `,q(e,"class","flex items-center gap-4")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function db(r,e){let t,n,o,i,a,f;n=new PU({props:{event:e[6]}});let c=e[6].showLine&&hb();return{key:r,first:null,c(){t=K("div"),le(n.$$.fragment),i=oe(),c&&c.c(),a=dt(),this.first=t},m(d,m){F(d,t,m),ae(n,t,null),F(d,i,m),c&&c.m(d,m),F(d,a,m),f=!0},p(d,m){e=d;const v={};m&1&&(v.event=e[6]),n.$set(v),e[6].showLine?c||(c=hb(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i(d){f||(O(n.$$.fragment,d),o||Nt(()=>{o=_r(t,Qt,{y:20}),o.start()}),f=!0)},o(d){z(n.$$.fragment,d),f=!1},d(d){d&&D(t),fe(n),d&&D(i),c&&c.d(d),d&&D(a)}}}function LU(r){let e=[],t=new Map,n,o,i=r[0];const a=c=>c[6].key;for(let c=0;c<i.length;c+=1){let d=ub(r,i,c),m=a(d);t.set(m,e[c]=db(m,d))}let f=null;return i.length||(f=cb(r)),{c(){for(let c=0;c<e.length;c+=1)e[c].c();n=dt(),f&&f.c()},m(c,d){for(let m=0;m<e.length;m+=1)e[m].m(c,d);F(c,n,d),f&&f.m(c,d),o=!0},p(c,d){d&1&&(i=c[0],tt(),e=Sn(e,d,a,1,c,i,t,n.parentNode,kn,db,n,ub),rt(),!i.length&&f?f.p(c,d):i.length?f&&(tt(),z(f,1,1,()=>{f=null}),rt()):(f=cb(c),f.c(),O(f,1),f.m(n.parentNode,n)))},i(c){if(!o){for(let d=0;d<i.length;d+=1)O(e[d]);o=!0}},o(c){for(let d=0;d<e.length;d+=1)z(e[d]);o=!1},d(c){for(let d=0;d<e.length;d+=1)e[d].d(c);c&&D(n),f&&f.d(c)}}}function NU(r){let e,t,n,o;const i=[OU,TU],a=[];function f(c,d){return c[0]?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,[d]){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function DU(r,e,t){let n,o;_t(r,Bo,d=>t(4,o=d));let i=0,a=null;const f=o.notifications||0,c=on("notifications",d=>(Bo.update(Ko("notifications",dn())),Ww(tn(m=>Math.round(m.created_at/Hs(1,"hour")).toString()+Nn(m),at.applyMutes(d.all())))));return _t(r,c,d=>t(3,n=d)),jr(()=>(document.title="Notifications",C1(async()=>{t(2,i+=50)}))),r.$$.update=()=>{r.$$.dirty&12&&t(0,a=n.slice(0,i).map(d=>[d,Nn(d)]).filter(([d,m])=>{var v;return((v=Ku.get(m))==null?void 0:v.kind)===1}).reduce((d,[m,v])=>{const _=Yr(d),$=Ar("created_at",(_==null?void 0:_.notifications)||[]).reduce(vu,0);return v&&(_==null?void 0:_.ref)===v?_.notifications.push(m):d=d.concat({ref:v,key:m.id,notifications:[m],showLine:m.created_at<f&&$>=f}),d},[]))},[a,c,i,n]}class FU extends ut{constructor(e){super(),lt(this,e,DU,NU,ft,{})}}function pb(r){return Object.prototype.toString.call(r)==="[object Date]"}function c1(r,e){if(r===e||r!==r)return()=>r;const t=typeof r;if(t!==typeof e||Array.isArray(r)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const n=e.map((o,i)=>c1(r[i],o));return o=>n.map(i=>i(o))}if(t==="object"){if(!r||!e)throw new Error("Object cannot be null");if(pb(r)&&pb(e)){r=r.getTime(),e=e.getTime();const i=e-r;return a=>new Date(r+a*i)}const n=Object.keys(e),o={};return n.forEach(i=>{o[i]=c1(r[i],e[i])}),i=>{const a={};return n.forEach(f=>{a[f]=o[f](i)}),a}}if(t==="number"){const n=e-r;return o=>r+o*n}throw new Error(`Cannot interpolate ${t} values`)}function Dl(r,e={}){const t=Gn(r);let n,o=r;function i(a,f){if(r==null)return t.set(r=a),Promise.resolve();o=a;let c=n,d=!1,{delay:m=0,duration:v=400,easing:_=pu,interpolate:$=c1}=Ft(Ft({},e),f);if(v===0)return c&&(c.abort(),c=null),t.set(r=o),Promise.resolve();const k=Th()+m;let S;return n=Oh(A=>{if(A<k)return!0;d||(S=$(r,a),typeof v=="function"&&(v=v(r,a)),d=!0),c&&(c.abort(),c=null);const R=A-k;return R>v?(t.set(r=a),!1):(t.set(r=S(_(R/v))),!0)}),n.promise}return{set:i,update:(a,f)=>i(a(o,r),f),subscribe:t.subscribe}}const UU={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},HU=BigInt("2100000000000000000"),mb=BigInt(1e11);function jU(r){let e,t;if(r.slice(-1).match(/^[munp]$/))e=r.slice(-1),t=r.slice(0,-1);else{if(r.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");t=r}if(!t.match(/^\d+$/))throw new Error("Not a valid human readable amount");const n=BigInt(t),o=e?n*mb/UU[e]:n*mb;if(e==="p"&&n%BigInt(10)!==BigInt(0)||o>HU)throw new Error("Amount is outside of valid range");return o}function zU(r){const e=r.match(/lnbc(\d+\w)/),t=jU(e[1]);return Number(t)}var Xu={},qU=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},G5={},ci={};let fv;const KU=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ci.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ci.getSymbolTotalCodewords=function(e){return KU[e]};ci.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};ci.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');fv=e};ci.isKanjiModeEnabled=function(){return typeof fv<"u"};ci.toSJIS=function(e){return fv(e)};var Z0={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,o){if(r.isValid(n))return n;try{return e(n)}catch{return o}}})(Z0);function Y5(){this.buffer=[],this.length=0}Y5.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var WU=Y5;function Qu(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}Qu.prototype.set=function(r,e,t,n){const o=r*this.size+e;this.data[o]=t,n&&(this.reservedBit[o]=!0)};Qu.prototype.get=function(r,e){return this.data[r*this.size+e]};Qu.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};Qu.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var VU=Qu,J5={};(function(r){const e=ci.getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,i=e(n),a=i===145?26:Math.ceil((i-13)/(2*o-2))*2,f=[i-7];for(let c=1;c<o-1;c++)f[c]=f[c-1]-a;return f.push(6),f.reverse()},r.getPositions=function(n){const o=[],i=r.getRowColCoords(n),a=i.length;for(let f=0;f<a;f++)for(let c=0;c<a;c++)f===0&&c===0||f===0&&c===a-1||f===a-1&&c===0||o.push([i[f],i[c]]);return o}})(J5);var X5={};const ZU=ci.getSymbolSize,vb=7;X5.getPositions=function(e){const t=ZU(e);return[[0,0],[t-vb,0],[0,t-vb]]};var Q5={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},r.from=function(o){return r.isValid(o)?parseInt(o,10):void 0},r.getPenaltyN1=function(o){const i=o.size;let a=0,f=0,c=0,d=null,m=null;for(let v=0;v<i;v++){f=c=0,d=m=null;for(let _=0;_<i;_++){let $=o.get(v,_);$===d?f++:(f>=5&&(a+=e.N1+(f-5)),d=$,f=1),$=o.get(_,v),$===m?c++:(c>=5&&(a+=e.N1+(c-5)),m=$,c=1)}f>=5&&(a+=e.N1+(f-5)),c>=5&&(a+=e.N1+(c-5))}return a},r.getPenaltyN2=function(o){const i=o.size;let a=0;for(let f=0;f<i-1;f++)for(let c=0;c<i-1;c++){const d=o.get(f,c)+o.get(f,c+1)+o.get(f+1,c)+o.get(f+1,c+1);(d===4||d===0)&&a++}return a*e.N2},r.getPenaltyN3=function(o){const i=o.size;let a=0,f=0,c=0;for(let d=0;d<i;d++){f=c=0;for(let m=0;m<i;m++)f=f<<1&2047|o.get(d,m),m>=10&&(f===1488||f===93)&&a++,c=c<<1&2047|o.get(m,d),m>=10&&(c===1488||c===93)&&a++}return a*e.N3},r.getPenaltyN4=function(o){let i=0;const a=o.data.length;for(let c=0;c<a;c++)i+=o.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function t(n,o,i){switch(n){case r.Patterns.PATTERN000:return(o+i)%2===0;case r.Patterns.PATTERN001:return o%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(o+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return o*i%2+o*i%3===0;case r.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case r.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(o,i){const a=i.size;for(let f=0;f<a;f++)for(let c=0;c<a;c++)i.isReserved(c,f)||i.xor(c,f,t(o,c,f))},r.getBestMask=function(o,i){const a=Object.keys(r.Patterns).length;let f=0,c=1/0;for(let d=0;d<a;d++){i(d),r.applyMask(d,o);const m=r.getPenaltyN1(o)+r.getPenaltyN2(o)+r.getPenaltyN3(o)+r.getPenaltyN4(o);r.applyMask(d,o),m<c&&(c=m,f=d)}return f}})(Q5);var G0={};const Bs=Z0,kc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Sc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];G0.getBlocksCount=function(e,t){switch(t){case Bs.L:return kc[(e-1)*4+0];case Bs.M:return kc[(e-1)*4+1];case Bs.Q:return kc[(e-1)*4+2];case Bs.H:return kc[(e-1)*4+3];default:return}};G0.getTotalCodewordsCount=function(e,t){switch(t){case Bs.L:return Sc[(e-1)*4+0];case Bs.M:return Sc[(e-1)*4+1];case Bs.Q:return Sc[(e-1)*4+2];case Bs.H:return Sc[(e-1)*4+3];default:return}};var eM={},Y0={};const Vl=new Uint8Array(512),Bh=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Vl[t]=e,Bh[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Vl[t]=Vl[t-255]})();Y0.log=function(e){if(e<1)throw new Error("log("+e+")");return Bh[e]};Y0.exp=function(e){return Vl[e]};Y0.mul=function(e,t){return e===0||t===0?0:Vl[Bh[e]+Bh[t]]};(function(r){const e=Y0;r.mul=function(n,o){const i=new Uint8Array(n.length+o.length-1);for(let a=0;a<n.length;a++)for(let f=0;f<o.length;f++)i[a+f]^=e.mul(n[a],o[f]);return i},r.mod=function(n,o){let i=new Uint8Array(n);for(;i.length-o.length>=0;){const a=i[0];for(let c=0;c<o.length;c++)i[c]^=e.mul(o[c],a);let f=0;for(;f<i.length&&i[f]===0;)f++;i=i.slice(f)}return i},r.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let i=0;i<n;i++)o=r.mul(o,new Uint8Array([1,e.exp(i)]));return o}})(eM);const tM=eM;function lv(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}lv.prototype.initialize=function(e){this.degree=e,this.genPoly=tM.generateECPolynomial(this.degree)};lv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=tM.mod(t,this.genPoly),o=this.degree-n.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(n,o),i}return n};var GU=lv,rM={},Vs={},uv={};uv.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Do={};const nM="[0-9]+",YU="[A-Z $%*+\\-./:]+";let du="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";du=du.replace(/u/g,"\\u");const JU="(?:(?![A-Z0-9 $%*+\\-./:]|"+du+`)(?:.|[\r
]))+`;Do.KANJI=new RegExp(du,"g");Do.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Do.BYTE=new RegExp(JU,"g");Do.NUMERIC=new RegExp(nM,"g");Do.ALPHANUMERIC=new RegExp(YU,"g");const XU=new RegExp("^"+du+"$"),QU=new RegExp("^"+nM+"$"),eH=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Do.testKanji=function(e){return XU.test(e)};Do.testNumeric=function(e){return QU.test(e)};Do.testAlphanumeric=function(e){return eH.test(e)};(function(r){const e=uv,t=Do;r.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return t.testNumeric(i)?r.NUMERIC:t.testAlphanumeric(i)?r.ALPHANUMERIC:t.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+o)}}r.from=function(i,a){if(r.isValid(i))return i;try{return n(i)}catch{return a}}})(Vs);(function(r){const e=ci,t=G0,n=Z0,o=Vs,i=uv,a=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,f=e.getBCHDigit(a);function c(_,$,k){for(let S=1;S<=40;S++)if($<=r.getCapacity(S,k,_))return S}function d(_,$){return o.getCharCountIndicator(_,$)+4}function m(_,$){let k=0;return _.forEach(function(S){const A=d(S.mode,$);k+=A+S.getBitsLength()}),k}function v(_,$){for(let k=1;k<=40;k++)if(m(_,k)<=r.getCapacity(k,$,o.MIXED))return k}r.from=function($,k){return i.isValid($)?parseInt($,10):k},r.getCapacity=function($,k,S){if(!i.isValid($))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=o.BYTE);const A=e.getSymbolTotalCodewords($),R=t.getTotalCodewordsCount($,k),C=(A-R)*8;if(S===o.MIXED)return C;const T=C-d(S,$);switch(S){case o.NUMERIC:return Math.floor(T/10*3);case o.ALPHANUMERIC:return Math.floor(T/11*2);case o.KANJI:return Math.floor(T/13);case o.BYTE:default:return Math.floor(T/8)}},r.getBestVersionForData=function($,k){let S;const A=n.from(k,n.M);if(Array.isArray($)){if($.length>1)return v($,A);if($.length===0)return 1;S=$[0]}else S=$;return c(S.mode,S.getLength(),A)},r.getEncodedBits=function($){if(!i.isValid($)||$<7)throw new Error("Invalid QR Code version");let k=$<<12;for(;e.getBCHDigit(k)-f>=0;)k^=a<<e.getBCHDigit(k)-f;return $<<12|k}})(rM);var iM={};const h1=ci,oM=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,tH=1<<14|1<<12|1<<10|1<<4|1<<1,gb=h1.getBCHDigit(oM);iM.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;h1.getBCHDigit(o)-gb>=0;)o^=oM<<h1.getBCHDigit(o)-gb;return(n<<10|o)^tH};var sM={};const rH=Vs;function zf(r){this.mode=rH.NUMERIC,this.data=r.toString()}zf.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};zf.prototype.getLength=function(){return this.data.length};zf.prototype.getBitsLength=function(){return zf.getBitsLength(this.data.length)};zf.prototype.write=function(e){let t,n,o;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),o=parseInt(n,10),e.put(o,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),o=parseInt(n,10),e.put(o,i*3+1))};var nH=zf;const iH=Vs,gp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qf(r){this.mode=iH.ALPHANUMERIC,this.data=r}qf.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};qf.prototype.getLength=function(){return this.data.length};qf.prototype.getBitsLength=function(){return qf.getBitsLength(this.data.length)};qf.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=gp.indexOf(this.data[t])*45;n+=gp.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(gp.indexOf(this.data[t]),6)};var oH=qf,sH=function(e){for(var t=[],n=e.length,o=0;o<n;o++){var i=e.charCodeAt(o);if(i>=55296&&i<=56319&&n>o+1){var a=e.charCodeAt(o+1);a>=56320&&a<=57343&&(i=(i-55296)*1024+a-56320+65536,o+=1)}if(i<128){t.push(i);continue}if(i<2048){t.push(i>>6|192),t.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128);continue}if(i>=65536&&i<=1114111){t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const aH=sH,fH=Vs;function Kf(r){this.mode=fH.BYTE,typeof r=="string"&&(r=aH(r)),this.data=new Uint8Array(r)}Kf.getBitsLength=function(e){return e*8};Kf.prototype.getLength=function(){return this.data.length};Kf.prototype.getBitsLength=function(){return Kf.getBitsLength(this.data.length)};Kf.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};var lH=Kf;const uH=Vs,cH=ci;function Wf(r){this.mode=uH.KANJI,this.data=r}Wf.getBitsLength=function(e){return e*13};Wf.prototype.getLength=function(){return this.data.length};Wf.prototype.getBitsLength=function(){return Wf.getBitsLength(this.data.length)};Wf.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=cH.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};var hH=Wf,aM={exports:{}};(function(r){var e={single_source_shortest_paths:function(t,n,o){var i={},a={};a[n]=0;var f=e.PriorityQueue.make();f.push(n,0);for(var c,d,m,v,_,$,k,S,A;!f.empty();){c=f.pop(),d=c.value,v=c.cost,_=t[d]||{};for(m in _)_.hasOwnProperty(m)&&($=_[m],k=v+$,S=a[m],A=typeof a[m]>"u",(A||S>k)&&(a[m]=k,f.push(m,k),i[m]=d))}if(typeof o<"u"&&typeof a[o]>"u"){var R=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(R)}return i},extract_shortest_path_from_predecessor_list:function(t,n){for(var o=[],i=n;i;)o.push(i),t[i],i=t[i];return o.reverse(),o},find_path:function(t,n,o){var i=e.single_source_shortest_paths(t,n,o);return e.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,o={},i;t=t||{};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var o={value:t,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(aM);(function(r){const e=Vs,t=nH,n=oH,o=lH,i=hH,a=Do,f=ci,c=aM.exports;function d(R){return unescape(encodeURIComponent(R)).length}function m(R,C,T){const B=[];let L;for(;(L=R.exec(T))!==null;)B.push({data:L[0],index:L.index,mode:C,length:L[0].length});return B}function v(R){const C=m(a.NUMERIC,e.NUMERIC,R),T=m(a.ALPHANUMERIC,e.ALPHANUMERIC,R);let B,L;return f.isKanjiModeEnabled()?(B=m(a.BYTE,e.BYTE,R),L=m(a.KANJI,e.KANJI,R)):(B=m(a.BYTE_KANJI,e.BYTE,R),L=[]),C.concat(T,B,L).sort(function(V,Z){return V.index-Z.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function _(R,C){switch(C){case e.NUMERIC:return t.getBitsLength(R);case e.ALPHANUMERIC:return n.getBitsLength(R);case e.KANJI:return i.getBitsLength(R);case e.BYTE:return o.getBitsLength(R)}}function $(R){return R.reduce(function(C,T){const B=C.length-1>=0?C[C.length-1]:null;return B&&B.mode===T.mode?(C[C.length-1].data+=T.data,C):(C.push(T),C)},[])}function k(R){const C=[];for(let T=0;T<R.length;T++){const B=R[T];switch(B.mode){case e.NUMERIC:C.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:C.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:C.push([B,{data:B.data,mode:e.BYTE,length:d(B.data)}]);break;case e.BYTE:C.push([{data:B.data,mode:e.BYTE,length:d(B.data)}])}}return C}function S(R,C){const T={},B={start:{}};let L=["start"];for(let j=0;j<R.length;j++){const V=R[j],Z=[];for(let Q=0;Q<V.length;Q++){const ne=V[Q],w=""+j+Q;Z.push(w),T[w]={node:ne,lastCount:0},B[w]={};for(let s=0;s<L.length;s++){const u=L[s];T[u]&&T[u].node.mode===ne.mode?(B[u][w]=_(T[u].lastCount+ne.length,ne.mode)-_(T[u].lastCount,ne.mode),T[u].lastCount+=ne.length):(T[u]&&(T[u].lastCount=ne.length),B[u][w]=_(ne.length,ne.mode)+4+e.getCharCountIndicator(ne.mode,C))}}L=Z}for(let j=0;j<L.length;j++)B[L[j]].end=0;return{map:B,table:T}}function A(R,C){let T;const B=e.getBestModeForData(R);if(T=e.from(C,B),T!==e.BYTE&&T.bit<B.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(B));switch(T===e.KANJI&&!f.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new t(R);case e.ALPHANUMERIC:return new n(R);case e.KANJI:return new i(R);case e.BYTE:return new o(R)}}r.fromArray=function(C){return C.reduce(function(T,B){return typeof B=="string"?T.push(A(B,null)):B.data&&T.push(A(B.data,B.mode)),T},[])},r.fromString=function(C,T){const B=v(C,f.isKanjiModeEnabled()),L=k(B),j=S(L,T),V=c.find_path(j.map,"start","end"),Z=[];for(let Q=1;Q<V.length-1;Q++)Z.push(j.table[V[Q]].node);return r.fromArray($(Z))},r.rawSplit=function(C){return r.fromArray(v(C,f.isKanjiModeEnabled()))}})(sM);const J0=ci,yp=Z0,dH=WU,pH=VU,mH=J5,vH=X5,d1=Q5,p1=G0,gH=GU,Rh=rM,yH=iM,bH=Vs,bp=sM;function _H(r,e){const t=r.size,n=vH.getPositions(e);for(let o=0;o<n.length;o++){const i=n[o][0],a=n[o][1];for(let f=-1;f<=7;f++)if(!(i+f<=-1||t<=i+f))for(let c=-1;c<=7;c++)a+c<=-1||t<=a+c||(f>=0&&f<=6&&(c===0||c===6)||c>=0&&c<=6&&(f===0||f===6)||f>=2&&f<=4&&c>=2&&c<=4?r.set(i+f,a+c,!0,!0):r.set(i+f,a+c,!1,!0))}}function wH(r){const e=r.size;for(let t=8;t<e-8;t++){const n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function MH(r,e){const t=mH.getPositions(e);for(let n=0;n<t.length;n++){const o=t[n][0],i=t[n][1];for(let a=-2;a<=2;a++)for(let f=-2;f<=2;f++)a===-2||a===2||f===-2||f===2||a===0&&f===0?r.set(o+a,i+f,!0,!0):r.set(o+a,i+f,!1,!0)}}function $H(r,e){const t=r.size,n=Rh.getEncodedBits(e);let o,i,a;for(let f=0;f<18;f++)o=Math.floor(f/3),i=f%3+t-8-3,a=(n>>f&1)===1,r.set(o,i,a,!0),r.set(i,o,a,!0)}function _p(r,e,t){const n=r.size,o=yH.getEncodedBits(e,t);let i,a;for(i=0;i<15;i++)a=(o>>i&1)===1,i<6?r.set(i,8,a,!0):i<8?r.set(i+1,8,a,!0):r.set(n-15+i,8,a,!0),i<8?r.set(8,n-i-1,a,!0):i<9?r.set(8,15-i-1+1,a,!0):r.set(8,15-i-1,a,!0);r.set(n-8,8,1,!0)}function xH(r,e){const t=r.size;let n=-1,o=t-1,i=7,a=0;for(let f=t-1;f>0;f-=2)for(f===6&&f--;;){for(let c=0;c<2;c++)if(!r.isReserved(o,f-c)){let d=!1;a<e.length&&(d=(e[a]>>>i&1)===1),r.set(o,f-c,d),i--,i===-1&&(a++,i=7)}if(o+=n,o<0||t<=o){o-=n,n=-n;break}}}function kH(r,e,t){const n=new dH;t.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),bH.getCharCountIndicator(c.mode,r)),c.write(n)});const o=J0.getSymbolTotalCodewords(r),i=p1.getTotalCodewordsCount(r,e),a=(o-i)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const f=(a-n.getLengthInBits())/8;for(let c=0;c<f;c++)n.put(c%2?17:236,8);return SH(n,r,e)}function SH(r,e,t){const n=J0.getSymbolTotalCodewords(e),o=p1.getTotalCodewordsCount(e,t),i=n-o,a=p1.getBlocksCount(e,t),f=n%a,c=a-f,d=Math.floor(n/a),m=Math.floor(i/a),v=m+1,_=d-m,$=new gH(_);let k=0;const S=new Array(a),A=new Array(a);let R=0;const C=new Uint8Array(r.buffer);for(let V=0;V<a;V++){const Z=V<c?m:v;S[V]=C.slice(k,k+Z),A[V]=$.encode(S[V]),k+=Z,R=Math.max(R,Z)}const T=new Uint8Array(n);let B=0,L,j;for(L=0;L<R;L++)for(j=0;j<a;j++)L<S[j].length&&(T[B++]=S[j][L]);for(L=0;L<_;L++)for(j=0;j<a;j++)T[B++]=A[j][L];return T}function EH(r,e,t,n){let o;if(Array.isArray(r))o=bp.fromArray(r);else if(typeof r=="string"){let d=e;if(!d){const m=bp.rawSplit(r);d=Rh.getBestVersionForData(m,t)}o=bp.fromString(r,d||40)}else throw new Error("Invalid data");const i=Rh.getBestVersionForData(o,t);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=kH(e,t,o),f=J0.getSymbolSize(e),c=new pH(f);return _H(c,e),wH(c),MH(c,e),_p(c,t,0),e>=7&&$H(c,e),xH(c,a),isNaN(n)&&(n=d1.getBestMask(c,_p.bind(null,c,t))),d1.applyMask(n,c),_p(c,t,n),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:n,segments:o}}G5.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=yp.M,o,i;return typeof t<"u"&&(n=yp.from(t.errorCorrectionLevel,yp.M),o=Rh.from(t.version),i=d1.from(t.maskPattern),t.toSJISFunc&&J0.setToSJISFunction(t.toSJISFunc)),EH(e,o,n,i)};var fM={},cv={};(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:i,scale:i?4:a,margin:o,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},r.getImageWidth=function(n,o){const i=r.getScale(n,o);return Math.floor((n+o.margin*2)*i)},r.qrToImageData=function(n,o,i){const a=o.modules.size,f=o.modules.data,c=r.getScale(a,i),d=Math.floor((a+i.margin*2)*c),m=i.margin*c,v=[i.color.light,i.color.dark];for(let _=0;_<d;_++)for(let $=0;$<d;$++){let k=(_*d+$)*4,S=i.color.light;if(_>=m&&$>=m&&_<d-m&&$<d-m){const A=Math.floor((_-m)/c),R=Math.floor(($-m)/c);S=v[f[A*a+R]?1:0]}n[k++]=S.r,n[k++]=S.g,n[k++]=S.b,n[k]=S.a}}})(cv);(function(r){const e=cv;function t(o,i,a){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,a,f){let c=f,d=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(d=n()),c=e.getOptions(c);const m=e.getImageWidth(i.modules.size,c),v=d.getContext("2d"),_=v.createImageData(m,m);return e.qrToImageData(_.data,i,c),t(v,d,m),v.putImageData(_,0,0),d},r.renderToDataURL=function(i,a,f){let c=f;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const d=r.render(i,a,c),m=c.type||"image/png",v=c.rendererOpts||{};return d.toDataURL(m,v.quality)}})(fM);var lM={};const AH=cv;function yb(r,e){const t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function wp(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function BH(r,e,t){let n="",o=0,i=!1,a=0;for(let f=0;f<r.length;f++){const c=Math.floor(f%e),d=Math.floor(f/e);!c&&!i&&(i=!0),r[f]?(a++,f>0&&c>0&&r[f-1]||(n+=i?wp("M",c+t,.5+d+t):wp("m",o,0),o=0,i=!1),c+1<e&&r[f+1]||(n+=wp("h",a),a=0)):o++}return n}lM.render=function(e,t,n){const o=AH.getOptions(t),i=e.modules.size,a=e.modules.data,f=i+o.margin*2,c=o.color.light.a?"<path "+yb(o.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",d="<path "+yb(o.color.dark,"stroke")+' d="'+BH(a,i,o.margin)+'"/>',m='viewBox="0 0 '+f+" "+f+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+m+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,_),_};const RH=qU,m1=G5,uM=fM,CH=lM;function hv(r,e,t,n,o){const i=[].slice.call(arguments,1),a=i.length,f=typeof i[a-1]=="function";if(!f&&!RH())throw new Error("Callback required as last argument");if(f){if(a<2)throw new Error("Too few arguments provided");a===2?(o=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(c,d){try{const m=m1.create(t,n);c(r(m,e,n))}catch(m){d(m)}})}try{const c=m1.create(t,n);o(null,r(c,e,n))}catch(c){o(c)}}Xu.create=m1.create;Xu.toCanvas=hv.bind(null,uM.render);Xu.toDataURL=hv.bind(null,uM.renderToDataURL);Xu.toString=hv.bind(null,function(r,e,t){return CH.render(r,t)});const PH=r=>({}),bb=r=>({}),TH=r=>({}),_b=r=>({});function wb(r){let e,t;const n=r[7].before,o=Ir(n,r,r[6],_b);return{c(){e=K("div"),o&&o.c(),q(e,"class","absolute top-0 left-0 flex gap-2 px-3 pt-3 text-black opacity-75")},m(i,a){F(i,e,a),o&&o.m(e,null),t=!0},p(i,a){o&&o.p&&(!t||a&64)&&Nr(o,n,i,i[6],t?Lr(n,i[6],a,TH):Dr(i[6]),_b)},i(i){t||(O(o,i),t=!0)},o(i){z(o,i),t=!1},d(i){i&&D(e),o&&o.d(i)}}}function Mb(r){let e,t;const n=r[7].after,o=Ir(n,r,r[6],bb);return{c(){e=K("div"),o&&o.c(),q(e,"class","absolute top-0 right-0 m-px flex gap-2 rounded px-3 pt-3 text-black opacity-75")},m(i,a){F(i,e,a),o&&o.m(e,null),t=!0},p(i,a){o&&o.p&&(!t||a&64)&&Nr(o,n,i,i[6],t?Lr(n,i[6],a,PH):Dr(i[6]),bb)},i(i){t||(O(o,i),t=!0)},o(i){z(o,i),t=!1},d(i){i&&D(e),o&&o.d(i)}}}function OH(r){let e,t,n,o,i,a,f,c,d=[r[4],{class:r[2]}],m={};for(let $=0;$<d.length;$+=1)m=Ft(m,d[$]);let v=r[3].before&&wb(r),_=r[3].after&&Mb(r);return{c(){e=K("div"),t=K("input"),n=oe(),v&&v.c(),o=oe(),_&&_.c(),vn(t,m),q(e,"class",i=tr(r[1],"relative"))},m($,k){F($,e,k),I(e,t),t.autofocus&&t.focus(),Gc(t,r[0]),I(e,n),v&&v.m(e,null),I(e,o),_&&_.m(e,null),a=!0,f||(c=[ct(t,"input",r[10]),ct(t,"change",r[8]),ct(t,"input",r[9])],f=!0)},p($,[k]){vn(t,m=ai(d,[k&16&&$[4],{class:$[2]}])),k&1&&t.value!==$[0]&&Gc(t,$[0]),$[3].before?v?(v.p($,k),k&8&&O(v,1)):(v=wb($),v.c(),O(v,1),v.m(e,o)):v&&(tt(),z(v,1,1,()=>{v=null}),rt()),$[3].after?_?(_.p($,k),k&8&&O(_,1)):(_=Mb($),_.c(),O(_,1),_.m(e,null)):_&&(tt(),z(_,1,1,()=>{_=null}),rt()),(!a||k&2&&i!==(i=tr($[1],"relative")))&&q(e,"class",i)},i($){a||(O(v),O(_),a=!0)},o($){z(v),z(_),a=!1},d($){$&&D(e),v&&v.d(),_&&_.d(),f=!1,sn(c)}}}function IH(r,e,t){let{$$slots:n={},$$scope:o}=e;const i=YM(n);let{initialValue:a=""}=e,{wrapperClass:f=""}=e,{value:c=a}=e;const d=tr(e.class,"rounded shadow-inset py-2 px-4 pr-10 w-full placeholder:text-gray-5","bg-input border border-solid border-gray-3 text-black",{"pl-10":i.before,"pr-10":i.after});function m($){Si.call(this,r,$)}function v($){Si.call(this,r,$)}function _(){c=this.value,t(0,c)}return r.$$set=$=>{t(4,e=Ft(Ft({},e),Wr($))),"initialValue"in $&&t(5,a=$.initialValue),"wrapperClass"in $&&t(1,f=$.wrapperClass),"value"in $&&t(0,c=$.value),"$$scope"in $&&t(6,o=$.$$scope)},e=Wr(e),[c,f,d,i,e,a,o,n,m,v,_]}class Kr extends ut{constructor(e){super(),lt(this,e,IH,OH,ft,{initialValue:5,wrapperClass:1,value:0})}}function LH(r){let e,t,n;return{c(){e=K("button"),q(e,"slot","after"),q(e,"class","fa fa-copy")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[2]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function NH(r){let e,t,n,o,i;return o=new Kr({props:{value:r[0],$$slots:{after:[LH]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("canvas"),n=oe(),le(o.$$.fragment),q(t,"class","m-auto rounded"),q(e,"class","m-auto flex max-w-sm flex-col gap-4 rounded border border-solid border-gray-6 bg-gray-8 p-4")},m(a,f){F(a,e,f),I(e,t),r[3](t),I(e,n),ae(o,e,null),i=!0},p(a,[f]){const c={};f&1&&(c.value=a[0]),f&16&&(c.$$scope={dirty:f,ctx:a}),o.$set(c)},i(a){i||(O(o.$$.fragment,a),i=!0)},o(a){z(o.$$.fragment,a),i=!1},d(a){a&&D(e),r[3](null),fe(o)}}}function DH(r,e,t){let{code:n}=e,o;const i=()=>{ju(n),en.show("info","The QR Code has been copied to your clipboard.")};jr(()=>{Xu.toCanvas(o,n)});function a(f){Ct[f?"unshift":"push"](()=>{o=f,t(1,o)})}return r.$$set=f=>{"code"in f&&t(0,n=f.code)},[n,o,i,a]}class cM extends ut{constructor(e){super(),lt(this,e,DH,NH,ft,{code:0})}}function $b(r,e,t){const n=r.slice();return n[1]=e[t].label,n[2]=e[t].icon,n[3]=e[t].onClick,n}function FH(r){let e,t;return{c(){e=K("i"),q(e,"class",t=`fa fa-${r[2]}`)},m(n,o){F(n,e,o)},p(n,o){o&1&&t!==(t=`fa fa-${n[2]}`)&&q(e,"class",t)},d(n){n&&D(e)}}}function xb(r){let e,t=r[1]+"",n,o,i,a,f,c,d;return i=new $t({props:{type:"button-circle",$$slots:{default:[FH]},$$scope:{ctx:r}}}),{c(){e=K("div"),n=Le(t),o=oe(),le(i.$$.fragment),a=oe(),q(e,"class","z-10 flex gap-2 justify-end items-center cursor-pointer")},m(m,v){F(m,e,v),I(e,n),I(e,o),ae(i,e,null),I(e,a),f=!0,c||(d=ct(e,"click",function(){Qr(r[3])&&r[3].apply(this,arguments)}),c=!0)},p(m,v){r=m,(!f||v&1)&&t!==(t=r[1]+"")&&Mt(n,t);const _={};v&65&&(_.$$scope={dirty:v,ctx:r}),i.$set(_)},i(m){f||(O(i.$$.fragment,m),f=!0)},o(m){z(i.$$.fragment,m),f=!1},d(m){m&&D(e),fe(i),c=!1,d()}}}function UH(r){let e,t,n,o,i=r[0],a=[];for(let c=0;c<i.length;c+=1)a[c]=xb($b(r,i,c));const f=c=>z(a[c],1,1,()=>{a[c]=null});return{c(){e=K("div"),t=oe();for(let c=0;c<a.length;c+=1)a[c].c();n=dt(),q(e,"class","absolute inset-0 rounded-full bg-gray-8"),lr(e,"filter","blur(15px) opacity(0.7)")},m(c,d){F(c,e,d),F(c,t,d);for(let m=0;m<a.length;m+=1)a[m].m(c,d);F(c,n,d),o=!0},p(c,[d]){if(d&1){i=c[0];let m;for(m=0;m<i.length;m+=1){const v=$b(c,i,m);a[m]?(a[m].p(v,d),O(a[m],1)):(a[m]=xb(v),a[m].c(),O(a[m],1),a[m].m(n.parentNode,n))}for(tt(),m=i.length;m<a.length;m+=1)f(m);rt()}},i(c){if(!o){for(let d=0;d<i.length;d+=1)O(a[d]);o=!0}},o(c){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)z(a[d]);o=!1},d(c){c&&D(e),c&&D(t),yn(a,c),c&&D(n)}}}function HH(r,e,t){let{actions:n}=e;return r.$$set=o=>{"actions"in o&&t(0,n=o.actions)},[n]}class jH extends ut{constructor(e){super(),lt(this,e,HH,UH,ft,{actions:0})}}const zH=r=>({}),kb=r=>({});function Sb(r){let e,t,n;function o(a){r[13](a)}let i={type:"text",wrapperClass:"flex-grow",placeholder:"https://",$$slots:{before:[qH]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.value=r[0]),e=new Kr({props:i}),Ct.push(()=>Er(e,"value",o)),{c(){le(e.$$.fragment)},m(a,f){ae(e,a,f),n=!0},p(a,f){const c={};f&65538&&(c.$$scope={dirty:f,ctx:a}),!t&&f&1&&(t=!0,c.value=a[0],Sr(()=>t=!1)),e.$set(c)},i(a){n||(O(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){fe(e,a)}}}function qH(r){let e,t;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class",t=`fa fa-${r[1]}`)},m(n,o){F(n,e,o)},p(n,o){o&2&&t!==(t=`fa fa-${n[1]}`)&&q(e,"class",t)},d(n){n&&D(e)}}}function KH(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-upload")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function WH(r){let e,t;return e=new $t({props:{type:"button",$$slots:{default:[KH]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&65536&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function VH(r){let e,t;return e=new Lo({props:{onEscape:r[8],$$slots:{default:[YH]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&65544&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function ZH(r){let e,t;return e=new Lo({props:{onEscape:r[8],$$slots:{default:[ej]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&65584&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function GH(r){let e,t,n,o,i;return{c(){e=K("h1"),e.textContent="Upload a File",t=oe(),n=K("p"),n.textContent="Click below to select a file to upload.",o=oe(),i=K("input"),q(e,"class","staatliches text-2xl"),q(i,"type","file")},m(a,f){F(a,e,f),F(a,t,f),F(a,n,f),F(a,o,f),F(a,i,f),r[15](i)},p:Fe,d(a){a&&D(e),a&&D(t),a&&D(n),a&&D(o),a&&D(i),r[15](null)}}}function YH(r){let e,t;return e=new At({props:{$$slots:{default:[GH]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&65544&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function JH(r){let e;return{c(){e=Le("Decline")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function XH(r){let e;return{c(){e=Le("Accept")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function QH(r){let e,t,n,o,i,a=r[4].terms+"",f,c,d,m,v,_,$;return m=new $t({props:{type:"button",loading:r[5],$$slots:{default:[JH]},$$scope:{ctx:r}}}),m.$on("click",r[8]),_=new $t({props:{type:"button-accent",loading:r[5],$$slots:{default:[XH]},$$scope:{ctx:r}}}),_.$on("click",r[7]),{c(){e=K("h1"),e.textContent="Confirm File Upload",t=oe(),n=K("p"),n.textContent="Please accept the following terms:",o=oe(),i=K("p"),f=Le(a),c=oe(),d=K("div"),le(m.$$.fragment),v=oe(),le(_.$$.fragment),q(e,"class","staatliches text-2xl"),q(d,"class","flex gap-2")},m(k,S){F(k,e,S),F(k,t,S),F(k,n,S),F(k,o,S),F(k,i,S),I(i,f),F(k,c,S),F(k,d,S),ae(m,d,null),I(d,v),ae(_,d,null),$=!0},p(k,S){(!$||S&16)&&a!==(a=k[4].terms+"")&&Mt(f,a);const A={};S&32&&(A.loading=k[5]),S&65536&&(A.$$scope={dirty:S,ctx:k}),m.$set(A);const R={};S&32&&(R.loading=k[5]),S&65536&&(R.$$scope={dirty:S,ctx:k}),_.$set(R)},i(k){$||(O(m.$$.fragment,k),O(_.$$.fragment,k),$=!0)},o(k){z(m.$$.fragment,k),z(_.$$.fragment,k),$=!1},d(k){k&&D(e),k&&D(t),k&&D(n),k&&D(o),k&&D(i),k&&D(c),k&&D(d),fe(m),fe(_)}}}function ej(r){let e,t;return e=new At({props:{$$slots:{default:[QH]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&65584&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function tj(r){let e,t,n,o,i,a,f,c,d,m,v=!r[2]&&Sb(r);const _=r[12].button,$=Ir(_,r,r[16],kb),k=$||WH(r),S=[ZH,VH],A=[];function R(C,T){return C[4]?0:C[6]?1:-1}return~(i=R(r))&&(a=A[i]=S[i](r)),{c(){e=K("div"),v&&v.c(),t=oe(),n=K("div"),k&&k.c(),o=oe(),a&&a.c(),f=dt(),q(e,"class","flex gap-2")},m(C,T){F(C,e,T),v&&v.m(e,null),I(e,t),I(e,n),k&&k.m(n,null),F(C,o,T),~i&&A[i].m(C,T),F(C,f,T),c=!0,d||(m=ct(n,"click",r[14]),d=!0)},p(C,[T]){C[2]?v&&(tt(),z(v,1,1,()=>{v=null}),rt()):v?(v.p(C,T),T&4&&O(v,1)):(v=Sb(C),v.c(),O(v,1),v.m(e,t)),$&&$.p&&(!c||T&65536)&&Nr($,_,C,C[16],c?Lr(_,C[16],T,zH):Dr(C[16]),kb);let B=i;i=R(C),i===B?~i&&A[i].p(C,T):(a&&(tt(),z(A[B],1,1,()=>{A[B]=null}),rt()),~i?(a=A[i],a?a.p(C,T):(a=A[i]=S[i](C),a.c()),O(a,1),a.m(f.parentNode,f)):a=null)},i(C){c||(O(v),O(k,C),O(a),c=!0)},o(C){z(v),z(k,C),z(a),c=!1},d(C){C&&D(e),v&&v.d(),k&&k.d(C),C&&D(o),~i&&A[i].d(C),C&&D(f),d=!1,m()}}}function rj(r,e,t){let{$$slots:n={},$$scope:o}=e,{value:i}=e,{icon:a}=e,{maxWidth:f=null}=e,{maxHeight:c=null}=e,{hideInput:d=!1}=e,m,v,_,$=!1,k=!1;const S=async()=>{t(5,$=!0);try{const{id:B}=_.uploads[0],{url:L}=await Wx(at.dufflepud(`/upload/${B}`),v);t(0,i=L)}finally{t(5,$=!1)}t(11,v=null),t(4,_=null),t(6,k=!1)},A=()=>{t(11,v=null),t(4,_=null),t(6,k=!1)};function R(B){i=B,t(0,i)}const C=()=>{t(6,k=!0)};function T(B){Ct[B?"unshift":"push"](()=>{m=B,t(3,m)})}return r.$$set=B=>{"value"in B&&t(0,i=B.value),"icon"in B&&t(1,a=B.icon),"maxWidth"in B&&t(9,f=B.maxWidth),"maxHeight"in B&&t(10,c=B.maxHeight),"hideInput"in B&&t(2,d=B.hideInput),"$$scope"in B&&t(16,o=B.$$scope)},r.$$.update=()=>{r.$$.dirty&3592&&m&&IL(m,async B=>{if(B){const L=Gf(oi,{maxWidth:f,maxHeight:c});t(11,v=LL(await s5(B,L))),t(4,_=await Kx(at.dufflepud("/upload/quote"),{uploads:[{size:v.size}]}))}else t(11,v=null),t(4,_=null)})},[i,a,d,m,_,$,k,S,A,f,c,v,n,R,C,T,o]}class Ch extends ut{constructor(e){super(),lt(this,e,rj,tj,ft,{value:0,icon:1,maxWidth:9,maxHeight:10,hideInput:2})}}function nj(r){let e,t,n,o=[r[3],{class:r[2]}],i={};for(let a=0;a<o.length;a+=1)i=Ft(i,o[a]);return{c(){e=K("textarea"),vn(e,i)},m(a,f){F(a,e,f),e.autofocus&&e.focus(),r[6](e),Gc(e,r[0]),t||(n=[ct(e,"input",r[7]),ct(e,"keydown",r[4]),ct(e,"keypress",r[5])],t=!0)},p(a,[f]){vn(e,i=ai(o,[f&8&&a[3],{class:a[2]}])),f&1&&Gc(e,a[0])},i:Fe,o:Fe,d(a){a&&D(e),r[6](null),t=!1,sn(n)}}}function ij(r,e,t){let{value:n}=e,{element:o=null}=e;const i=tr(e.class,"rounded shadow-inset py-2 px-4 pr-10 w-full bg-input text-black","placeholder:text-gray-4 border border-solid border-gray-3");function a(m){Si.call(this,r,m)}function f(m){Si.call(this,r,m)}function c(m){Ct[m?"unshift":"push"](()=>{o=m,t(1,o)})}function d(){n=this.value,t(0,n)}return r.$$set=m=>{t(3,e=Ft(Ft({},e),Wr(m))),"value"in m&&t(0,n=m.value),"element"in m&&t(1,o=m.element)},e=Wr(e),[n,o,i,e,a,f,c,d]}class dv extends ut{constructor(e){super(),lt(this,e,ij,nj,ft,{value:0,element:1})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),Gl()}get element(){return this.$$.ctx[1]}set element(e){this.$$set({element:e}),Gl()}}function Eb(r,e,t){const n=r.slice();return n[4]=e[t].type,n[5]=e[t].value,n}function oj(r,e,t){const n=r.slice();return n[8]=e[t],n}function sj(r){let e=r[5]+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p:Fe,i:Fe,o:Fe,d(n){n&&D(t)}}}function aj(r){let e,t;return e=new $t({props:{external:!0,href:"/"+r[5].entity,$$slots:{default:[dj]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function fj(r){let e,t;return e=new $t({props:{external:!0,href:r[5],$$slots:{default:[pj]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function lj(r){let e,t=r[5],n=[];for(let o=0;o<t.length;o+=1)n[o]=mj(oj(r,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=dt()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);F(o,e,i)},p:Fe,i:Fe,o:Fe,d(o){yn(n,o),o&&D(e)}}}function uj(r){let e=r[5].entity.slice(0,10)+"...",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p:Fe,d(n){n&&D(t)}}}function cj(r){let e,t=r[5].id+"",n;return{c(){e=Le("event "),n=Le(t)},m(o,i){F(o,e,i),F(o,n,i)},p:Fe,d(o){o&&D(e),o&&D(n)}}}function hj(r){let e=er(Br(r[5].pubkey))+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p:Fe,d(n){n&&D(t)}}}function dj(r){let e;function t(i,a){return i[5].pubkey?hj:i[5].id?cj:uj}let o=t(r)(r);return{c(){o.c(),e=oe()},m(i,a){o.m(i,a),F(i,e,a)},p(i,a){o.p(i,a)},d(i){o.d(i),i&&D(e)}}}function pj(r){let e=r[5].replace(/https?:\/\/(www\.)?/,"")+"",t,n;return{c(){t=Le(e),n=oe()},m(o,i){F(o,t,i),F(o,n,i)},p:Fe,d(o){o&&D(t),o&&D(n)}}}function mj(r){let e;return{c(){e=K("br")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function Ab(r){let e,t,n,o;const i=[lj,fj,aj,sj],a=[];function f(c,d){return c[4]==="newline"?0:c[4]==="link"?1:c[4].startsWith("nostr:")?2:3}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){t.p(c,d)},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function vj(r){let e,t,n=r[0],o=[];for(let a=0;a<n.length;a+=1)o[a]=Ab(Eb(r,n,a));const i=a=>z(o[a],1,1,()=>{o[a]=null});return{c(){e=K("p");for(let a=0;a<o.length;a+=1)o[a].c();q(e,"class","overflow-hidden text-ellipsis")},m(a,f){F(a,e,f);for(let c=0;c<o.length;c+=1)o[c].m(e,null);t=!0},p(a,[f]){if(f&1){n=a[0];let c;for(c=0;c<n.length;c+=1){const d=Eb(a,n,c);o[c]?(o[c].p(d,f),O(o[c],1)):(o[c]=Ab(d),o[c].c(),O(o[c],1),o[c].m(e,null))}for(tt(),c=n.length;c<o.length;c+=1)i(c);rt()}},i(a){if(!t){for(let f=0;f<n.length;f+=1)O(o[f]);t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)z(o[f]);t=!1},d(a){a&&D(e),yn(o,a)}}}function gj(r,e,t){var f;let{person:n}=e,{truncate:o=!1}=e;const i=((f=n==null?void 0:n.kind0)==null?void 0:f.about)||"",a=Um(o?kt.exports.ellipsize(i,140):i);return r.$$set=c=>{"person"in c&&t(1,n=c.person),"truncate"in c&&t(2,o=c.truncate)},[a,n,o]}class pv extends ut{constructor(e){super(),lt(this,e,gj,vj,ft,{person:1,truncate:2})}}function yj(r){let e,t=er(r[2])+"",n;return{c(){e=K("h2"),n=Le(t),q(e,"class","text-lg")},m(o,i){F(o,e,i),I(e,n)},p(o,i){i&4&&t!==(t=er(o[2])+"")&&Mt(n,t)},d(o){o&&D(e)}}}function Bb(r){let e,t,n,o,i=Yr(r[2].verified_as.split("@"))+"",a;return{c(){e=K("div"),t=K("i"),n=oe(),o=K("span"),a=Le(i),q(t,"class","fa fa-user-check text-accent"),q(o,"class","text-gray-1"),q(e,"class","flex gap-1 text-sm")},m(f,c){F(f,e,c),I(e,t),I(e,n),I(e,o),I(o,a)},p(f,c){c&4&&i!==(i=Yr(f[2].verified_as.split("@"))+"")&&Mt(a,i)},d(f){f&&D(e)}}}function Rb(r){let e,t,n,o;const i=[_j,bj],a=[];function f(c,d){return c[1]?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function bj(r){let e,t;return e=new $t({props:{type:"button-circle",$$slots:{default:[wj]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _j(r){let e,t;return e=new $t({props:{type:"button-circle",$$slots:{default:[Mj]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function wj(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-user-plus")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function Mj(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-user-minus")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function $j(r){let e,t,n,o,i,a,f,c,d,m,v,_;n=new No({props:{size:14,person:r[2]}}),a=new $t({props:{type:"unstyled",class:"flex items-center gap-2",$$slots:{default:[yj]},$$scope:{ctx:r}}}),a.$on("click",r[10]);let $=r[2].verified_as&&Bb(r),k=r[3]&&Rb(r);return v=new pv({props:{person:r[2]}}),{c(){e=K("div"),t=K("div"),le(n.$$.fragment),o=oe(),i=K("div"),le(a.$$.fragment),f=oe(),$&&$.c(),c=oe(),d=K("div"),k&&k.c(),m=oe(),le(v.$$.fragment),q(i,"class","flex flex-grow flex-col gap-2"),q(d,"class","flex gap-2"),q(t,"class","flex gap-4"),q(e,"class","relative flex flex-col gap-4 py-2 px-3")},m(S,A){F(S,e,A),I(e,t),ae(n,t,null),I(t,o),I(t,i),ae(a,i,null),I(i,f),$&&$.m(i,null),I(t,c),I(t,d),k&&k.m(d,null),I(e,m),ae(v,e,null),_=!0},p(S,[A]){const R={};A&4&&(R.person=S[2]),n.$set(R);const C={};A&4100&&(C.$$scope={dirty:A,ctx:S}),a.$set(C),S[2].verified_as?$?$.p(S,A):($=Bb(S),$.c(),$.m(i,null)):$&&($.d(1),$=null),S[3]?k?(k.p(S,A),A&8&&O(k,1)):(k=Rb(S),k.c(),O(k,1),k.m(d,null)):k&&(tt(),z(k,1,1,()=>{k=null}),rt());const T={};A&4&&(T.person=S[2]),v.$set(T)},i(S){_||(O(n.$$.fragment,S),O(a.$$.fragment,S),O(k),O(v.$$.fragment,S),_=!0)},o(S){z(n.$$.fragment,S),z(a.$$.fragment,S),z(k),z(v.$$.fragment,S),_=!1},d(S){S&&D(e),fe(n),fe(a),$&&$.d(),k&&k.d(),fe(v)}}}function xj(r,e,t){let n,o,i,{pubkey:a}=e;const{petnamePubkeys:f,canPublish:c}=at;_t(r,f,S=>t(9,o=S)),_t(r,c,S=>t(3,i=S));const d=()=>An(Ji(a)),m=on("people",()=>Br(a));_t(r,m,S=>t(2,n=S));let v=!1;const _=async()=>{const[{url:S}]=d();at.addPetname(a,S,er(n))},$=async()=>{at.removePetname(a)},k=()=>Zr(xn.person(a));return r.$$set=S=>{"pubkey"in S&&t(0,a=S.pubkey)},r.$$.update=()=>{r.$$.dirty&513&&t(1,v=o.includes(a))},[a,v,n,i,f,c,m,_,$,o,k]}class kj extends ut{constructor(e){super(),lt(this,e,xj,$j,ft,{pubkey:0})}}function Sj(r){let e,t;return{c(){e=yi("svg"),t=yi("path"),q(t,"d","M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0"),q(t,"fill","#fff"),q(t,"fillrule","evenodd"),q(e,"height","100%"),q(e,"width","100%"),q(e,"viewBox","-2 -5 17 21"),lr(e,"position","absolute"),lr(e,"top","0")},m(n,o){F(n,e,o),I(e,t)},p:Fe,i:Fe,o:Fe,d(n){n&&D(e)}}}class Ej extends ut{constructor(e){super(),lt(this,e,null,Sj,ft,{})}}function Aj(r){let e,t;return{c(){e=yi("svg"),t=yi("path"),q(t,"d",`M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9\r
    4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12`),q(t,"fill","#fff"),q(t,"fillrule","evenodd"),q(e,"viewBox","-2 -5 14 20"),q(e,"height","100%"),q(e,"width","100%"),lr(e,"position","absolute"),lr(e,"top","0")},m(n,o){F(n,e,o),I(e,t)},p:Fe,i:Fe,o:Fe,d(n){n&&D(e)}}}class Bj extends ut{constructor(e){super(),lt(this,e,null,Aj,ft,{})}}function Rj(r,e,t,n,o){const i=(r-t)/(e-t);if(i===0)return n;if(i===1)return o;let a="#";for(let f=1;f<6;f+=2){const c=parseInt(n.substr(f,2),16),d=parseInt(o.substr(f,2),16);let v=Math.round((1-i)*c+i*d).toString(16);v.length===1&&(v=`0${v}`),a+=v}return a}function Cb(r){if(r.length===7)return r;let e="#";for(let t=1;t<4;t+=1)e+=r[t]+r[t];return e}function Pb(r,e,t,n,o){const i=Cb(n),a=Cb(o);return Rj(r,e,t,i,a)}const Cj=r=>({}),Tb=r=>({}),Pj=r=>({}),Ob=r=>({});function Tj(r){let e,t;return e=new r[18]({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Oj(r){let e,t;return e=new r[19]({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Ij(r){let e,t,n,o,i,a,f,c,d,m,v,_;const $=r[35].checkedIcon,k=Ir($,r,r[34],Ob),S=k||Tj(r),A=r[35].unCheckedIcon,R=Ir(A,r,r[34],Tb),C=R||Oj(r);return{c(){e=K("div"),t=K("div"),n=K("div"),S&&S.c(),o=oe(),i=K("div"),C&&C.c(),a=oe(),f=K("div"),c=oe(),d=K("input"),q(n,"style",r[5]),q(i,"style",r[6]),q(t,"class","react-switch-bg"),q(t,"style",r[4]),q(t,"onmousedown",Lj),q(f,"class","react-switch-handle"),q(f,"style",r[7]),q(d,"type","checkbox"),q(d,"role","switch"),d.disabled=r[0],q(d,"style",r[8]),q(e,"class",r[1]),q(e,"style",r[3])},m(T,B){F(T,e,B),I(e,t),I(t,n),S&&S.m(n,null),I(t,o),I(t,i),C&&C.m(i,null),I(e,a),I(e,f),I(e,c),I(e,d),r[36](d),m=!0,v||(_=[ct(t,"click",function(){Qr(r[0]?null:r[17])&&(r[0]?null:r[17]).apply(this,arguments)}),ct(f,"click",Nj),ct(f,"mousedown",function(){Qr(r[0]?null:r[9])&&(r[0]?null:r[9]).apply(this,arguments)}),ct(f,"touchstart",function(){Qr(r[0]?null:r[10])&&(r[0]?null:r[10]).apply(this,arguments)}),ct(f,"touchmove",function(){Qr(r[0]?null:r[11])&&(r[0]?null:r[11]).apply(this,arguments)}),ct(f,"touchend",function(){Qr(r[0]?null:r[12])&&(r[0]?null:r[12]).apply(this,arguments)}),ct(f,"touchcancel",function(){Qr(r[0]?null:r[16])&&(r[0]?null:r[16]).apply(this,arguments)}),ct(d,"focus",r[15]),ct(d,"blur",r[16]),ct(d,"keyup",r[14]),ct(d,"change",r[13])],v=!0)},p(T,B){r=T,k&&k.p&&(!m||B[1]&8)&&Nr(k,$,r,r[34],m?Lr($,r[34],B,Pj):Dr(r[34]),Ob),(!m||B[0]&32)&&q(n,"style",r[5]),R&&R.p&&(!m||B[1]&8)&&Nr(R,A,r,r[34],m?Lr(A,r[34],B,Cj):Dr(r[34]),Tb),(!m||B[0]&64)&&q(i,"style",r[6]),(!m||B[0]&16)&&q(t,"style",r[4]),(!m||B[0]&128)&&q(f,"style",r[7]),(!m||B[0]&1)&&(d.disabled=r[0]),(!m||B[0]&256)&&q(d,"style",r[8]),(!m||B[0]&2)&&q(e,"class",r[1]),(!m||B[0]&8)&&q(e,"style",r[3])},i(T){m||(O(S,T),O(C,T),m=!0)},o(T){z(S,T),z(C,T),m=!1},d(T){T&&D(e),S&&S.d(T),C&&C.d(T),r[36](null),v=!1,sn(_)}}}const Lj=r=>r.preventDefault(),Nj=r=>r.preventDefault();function Dj(r,e,t){let{$$slots:n={},$$scope:o}=e,{checked:i}=e,{disabled:a=!1}=e,{offColor:f="#888"}=e,{onColor:c="#080"}=e,{offHandleColor:d="#fff"}=e,{onHandleColor:m="#fff"}=e,{handleDiameter:v}=e,{unCheckedIcon:_=Bj}=e,{checkedIcon:$=Ej}=e,{boxShadow:k=null}=e,{activeBoxShadow:S="0 0 2px 3px #3bf"}=e,{height:A=28}=e,{width:R=56}=e,{id:C=""}=e,{containerClass:T=""}=e;const B=w1();let L={handleDiameter:0,checkedPos:0,uncheckedPos:0,pos:0,lastDragAt:0,lastKeyUpAt:0,startX:null,hasOutline:null,dragStartingTime:null,checkedStateFromDragging:!1},j=null;L.handleDiameter=v||A-2,L.checkedPos=Math.max(R-A,R-(A+L.handleDiameter)/2),L.uncheckedPos=Math.max(0,(A-L.handleDiameter)/2),L.pos=i?L.checkedPos:L.uncheckedPos,L.lastDragAt=0,L.lastKeyUpAt=0;function V(te){j&&j.focus&&j.focus(),t(33,L.startX=te,L),t(33,L.hasOutline=!0,L),t(33,L.dragStartingTime=Date.now(),L)}function Z(te){let{startX:X,isDragging:ye,pos:Ge}=L;const W=(i?L.checkedPos:L.uncheckedPos)+te-X;!ye&&te!==X&&t(33,L.isDragging=!0,L);const U=Math.min(L.checkedPos,Math.max(L.uncheckedPos,W));U!==Ge&&t(33,L.pos=U,L)}function Q(te){let{pos:X,isDragging:ye,dragStartingTime:Ge}=L;const Pe=(L.checkedPos+L.uncheckedPos)/2,W=Date.now()-Ge;!ye||W<250?b(te):i?X>Pe?t(33,L.pos=L.checkedPos,L):b(te):X<Pe?t(33,L.pos=L.uncheckedPos,L):b(te),t(33,L.isDragging=!1,L),t(33,L.hasOutline=!1,L),t(33,L.lastDragAt=Date.now(),L)}function ne(te){te.preventDefault(),!(typeof te.button=="number"&&te.button!==0)&&(V(te.clientX),window.addEventListener("mousemove",w),window.addEventListener("mouseup",s))}function w(te){te.preventDefault(),Z(te.clientX)}function s(te){Q(te),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",s)}function u(te){t(33,L.checkedStateFromDragging=null,L),V(te.touches[0].clientX)}function h(te){Z(te.touches[0].clientX)}function p(te){te.preventDefault(),Q(te)}function g(te){Date.now()-L.lastDragAt>50&&(b(te),Date.now()-L.lastKeyUpAt>50&&t(33,L.hasOutline=!1,L))}function M(){t(33,L.lastKeyUpAt=Date.now(),L)}function x(){t(33,L.hasOutline=!0,L)}function y(){t(33,L.hasOutline=!1,L)}function l(te){te.preventDefault(),j.focus(),b(te),t(33,L.hasOutline=!1,L)}function b(te){t(20,i=!i),B("change",{checked:i,event:te,id:C})}let E=$,P=_,H="",ee="",Y="",re="",Me="",de="";function _e(te){Ct[te?"unshift":"push"](()=>{j=te,t(2,j)})}return r.$$set=te=>{"checked"in te&&t(20,i=te.checked),"disabled"in te&&t(0,a=te.disabled),"offColor"in te&&t(21,f=te.offColor),"onColor"in te&&t(22,c=te.onColor),"offHandleColor"in te&&t(23,d=te.offHandleColor),"onHandleColor"in te&&t(24,m=te.onHandleColor),"handleDiameter"in te&&t(25,v=te.handleDiameter),"unCheckedIcon"in te&&t(26,_=te.unCheckedIcon),"checkedIcon"in te&&t(27,$=te.checkedIcon),"boxShadow"in te&&t(28,k=te.boxShadow),"activeBoxShadow"in te&&t(29,S=te.activeBoxShadow),"height"in te&&t(30,A=te.height),"width"in te&&t(31,R=te.width),"id"in te&&t(32,C=te.id),"containerClass"in te&&t(1,T=te.containerClass),"$$scope"in te&&t(34,o=te.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1048576|r.$$.dirty[1]&4&&(L.isDragging||t(33,L.pos=i?L.checkedPos:L.uncheckedPos,L)),r.$$.dirty[0]&1073741825&&t(3,H=`
    position: relative;
    display: inline-block;
    text-align: left;
    opacity: ${a?.5:1};
    direction: ltr;
    border-radius: ${A/2}px;
    transition: opacity 0.25s;
    touch-action: none;
    webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    user-select: none;
  `),r.$$.dirty[0]&1080033281|r.$$.dirty[1]&5&&t(4,ee=`
    height: ${A}px;
    width: ${R}px;
    margin: ${Math.max(0,(L.handleDiameter-A)/2)}px;
    position: relative;
    background: ${Pb(L.pos,L.checkedPos,L.uncheckedPos,f,c)};
    border-radius: ${A/2}px;
    cursor: ${a?"default":"pointer"};
    transition: ${L.isDragging?null:"background 0.25s"};
  `),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&5&&t(5,Y=`
    height: ${A}px;
    width: ${Math.min(A*1.5,R-(L.handleDiameter+A)/2+1)}px;
    position: relative;
    opacity:
      ${(L.pos-L.uncheckedPos)/(L.checkedPos-L.uncheckedPos)};
    pointer-events: none;
    transition: ${L.isDragging?null:"opacity 0.25s"};
  `),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&5&&t(6,re=`
    height: ${A}px;
    width: ${Math.min(A*1.5,R-(L.handleDiameter+A)/2+1)}px;
    position: absolute;
    opacity:
      ${1-(L.pos-L.uncheckedPos)/(L.checkedPos-L.uncheckedPos)};
    right: 0px;
    top: 0px;
    pointer-events: none;
    transition: ${L.isDragging?null:"opacity 0.25s"};
  `),r.$$.dirty[0]&1904214017|r.$$.dirty[1]&4&&t(7,Me=`
    height: ${L.handleDiameter}px;
    width: ${L.handleDiameter}px;
    background: ${Pb(L.pos,L.checkedPos,L.uncheckedPos,d,m)};
    display: inline-block;
    cursor: ${a?"default":"pointer"};
    border-radius: 50%;
    position: absolute;
    transform: translateX(${L.pos}px);
    top: ${Math.max(0,(A-L.handleDiameter)/2)}px;
    outline: 0;
    box-shadow: ${L.hasOutline?S:k};
    border: 0;
    transition: ${L.isDragging?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};
  `)},t(8,de=`
    border: 0px;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0px;
    position: absolute;
    width: 1px;
  `),[a,T,j,H,ee,Y,re,Me,de,ne,u,h,p,g,M,x,y,l,E,P,i,f,c,d,m,v,_,$,k,S,A,R,C,L,o,n,_e]}class Fj extends ut{constructor(e){super(),lt(this,e,Dj,Ij,ft,{checked:20,disabled:0,offColor:21,onColor:22,offHandleColor:23,onHandleColor:24,handleDiameter:25,unCheckedIcon:26,checkedIcon:27,boxShadow:28,activeBoxShadow:29,height:30,width:31,id:32,containerClass:1},null,[-1,-1])}}function Uj(r){let e;return{c(){e=K("span"),q(e,"slot","checkedIcon")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function Hj(r){let e;return{c(){e=K("span"),q(e,"slot","unCheckedIcon")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function jj(r){let e,t;return e=new Fj({props:{checked:r[0],onColor:"#ccc",offColor:"#ccc",onHandleColor:"#EB5E28",handleDiameter:20,unCheckedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:36,$$slots:{unCheckedIcon:[Hj],checkedIcon:[Uj]},$$scope:{ctx:r}}}),e.$on("change",r[1]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.checked=n[0]),o&8&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function zj(r,e,t){let{value:n}=e;const o=w1(),i=a=>{t(0,n=a.detail.checked),o("change",n)};return r.$$set=a=>{"value"in a&&t(0,n=a.value)},[n,i]}class v1 extends ut{constructor(e){super(),lt(this,e,zj,jj,ft,{value:0})}}const qj=r=>({}),Ib=r=>({});function Kj(r){let e=Yr(r[0].url.split("://"))+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=Yr(n[0].url.split("://"))+"")&&Mt(t,e)},d(n){n&&D(t)}}}function Lb(r){let e,t,n;return{c(){e=K("button"),e.innerHTML='<i class="fa fa-right-from-bracket"></i> Leave',q(e,"class","flex items-center gap-3 text-gray-1")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[10]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function Nb(r){let e,t,n;return{c(){e=K("button"),e.innerHTML='<i class="fa fa-right-to-bracket"></i> Join',q(e,"class","flex items-center gap-3 text-gray-1")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[11]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function Db(r){let e,t=r[0].description+"",n;return{c(){e=K("p"),n=Le(t)},m(o,i){F(o,e,i),I(e,n)},p(o,i){i&1&&t!==(t=o[0].description+"")&&Mt(n,t)},d(o){o&&D(e)}}}function Wj(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j;f=new $t({props:{type:"unstyled",href:`/relays/${btoa(r[0].url)}`,$$slots:{default:[Kj]},$$scope:{ctx:r}}});let V=r[2]&&Lb(r),Z=r[3]&&Nb(r),Q=r[0].description&&Db(r);const ne=r[7].controls,w=Ir(ne,r,r[12],Ib);return{c(){e=K("div"),t=K("div"),n=K("div"),o=K("i"),a=oe(),le(f.$$.fragment),c=oe(),d=K("span"),m=oe(),v=K("p"),_=Le(r[5]),$=oe(),V&&V.c(),k=oe(),Z&&Z.c(),S=oe(),Q&&Q.c(),A=oe(),w&&w.c(),q(o,"class",i=r[0].url.startsWith("wss")?"fa fa-lock":"fa fa-unlock"),q(d,"class","h-2 w-2 cursor-pointer rounded-full bg-gray-6"),Rt(d,"bg-gray-6",r[5]==="Not connected"),Rt(d,"bg-danger",r[4]<=.3&&r[5]!=="Not connected"),Rt(d,"bg-warning",kt.exports.between(.3,.7,r[4])),Rt(d,"bg-success",r[4]>.7),q(v,"class","hidden text-sm text-gray-1 transition-all sm:block"),Rt(v,"opacity-0",!r[6]),Rt(v,"opacity-1",r[6]),q(n,"class","flex items-center gap-2 text-xl"),q(t,"class","flex items-center justify-between gap-2"),q(e,"class",R=tr(`bg-${r[1]}`,"flex flex-col justify-between gap-3 rounded border border-l-2 border-solid border-gray-6 py-3 px-6 shadow")),q(e,"style",C=`border-left-color: ${va(_f(r[0].url))}`)},m(s,u){F(s,e,u),I(e,t),I(t,n),I(n,o),I(n,a),ae(f,n,null),I(n,c),I(n,d),I(n,m),I(n,v),I(v,_),I(t,$),V&&V.m(t,null),I(t,k),Z&&Z.m(t,null),I(e,S),Q&&Q.m(e,null),I(e,A),w&&w.m(e,null),B=!0,L||(j=[ct(d,"mouseout",r[8]),ct(d,"mouseover",r[9])],L=!0)},p(s,[u]){(!B||u&1&&i!==(i=s[0].url.startsWith("wss")?"fa fa-lock":"fa fa-unlock"))&&q(o,"class",i);const h={};u&1&&(h.href=`/relays/${btoa(s[0].url)}`),u&4097&&(h.$$scope={dirty:u,ctx:s}),f.$set(h),(!B||u&32)&&Rt(d,"bg-gray-6",s[5]==="Not connected"),(!B||u&48)&&Rt(d,"bg-danger",s[4]<=.3&&s[5]!=="Not connected"),(!B||u&16)&&Rt(d,"bg-warning",kt.exports.between(.3,.7,s[4])),(!B||u&16)&&Rt(d,"bg-success",s[4]>.7),(!B||u&32)&&Mt(_,s[5]),(!B||u&64)&&Rt(v,"opacity-0",!s[6]),(!B||u&64)&&Rt(v,"opacity-1",s[6]),s[2]?V?V.p(s,u):(V=Lb(s),V.c(),V.m(t,k)):V&&(V.d(1),V=null),s[3]?Z?Z.p(s,u):(Z=Nb(s),Z.c(),Z.m(t,null)):Z&&(Z.d(1),Z=null),s[0].description?Q?Q.p(s,u):(Q=Db(s),Q.c(),Q.m(e,A)):Q&&(Q.d(1),Q=null),w&&w.p&&(!B||u&4096)&&Nr(w,ne,s,s[12],B?Lr(ne,s[12],u,qj):Dr(s[12]),Ib),(!B||u&2&&R!==(R=tr(`bg-${s[1]}`,"flex flex-col justify-between gap-3 rounded border border-l-2 border-solid border-gray-6 py-3 px-6 shadow")))&&q(e,"class",R),(!B||u&1&&C!==(C=`border-left-color: ${va(_f(s[0].url))}`))&&q(e,"style",C)},i(s){B||(O(f.$$.fragment,s),O(w,s),T||Nt(()=>{T=_r(e,Qt,{y:20}),T.start()}),B=!0)},o(s){z(f.$$.fragment,s),z(w,s),B=!1},d(s){s&&D(e),fe(f),V&&V.d(),Z&&Z.d(),Q&&Q.d(),w&&w.d(s),L=!1,sn(j)}}}function Vj(r,e,t){let{$$slots:n={},$$scope:o}=e,{relay:i}=e,{theme:a="gray-8"}=e,{removeRelay:f=null}=e,{addRelay:c=null}=e,d=null,m=null,v=!1;jr(()=>R1(1e4,async()=>{t(4,[d,m]=Tr.getQuality(i.url),d,t(5,m))}));const _=()=>{t(6,v=!1)},$=()=>{t(6,v=!0)},k=()=>f(i),S=()=>c(i);return r.$$set=A=>{"relay"in A&&t(0,i=A.relay),"theme"in A&&t(1,a=A.theme),"removeRelay"in A&&t(2,f=A.removeRelay),"addRelay"in A&&t(3,c=A.addRelay),"$$scope"in A&&t(12,o=A.$$scope)},[i,a,f,c,d,m,v,n,_,$,k,S,o]}class mv extends ut{constructor(e){super(),lt(this,e,Vj,Wj,ft,{relay:0,theme:1,removeRelay:2,addRelay:3})}}function Zj(r){let e,t,n,o,i;return o=new v1({props:{value:r[0].write}}),o.$on("change",r[12]),{c(){e=K("div"),t=K("span"),t.textContent="Publish to this relay?",n=oe(),le(o.$$.fragment),q(e,"slot","controls"),q(e,"class","flex justify-between gap-2"),Rt(e,"hidden",!r[2]||!r[5])},m(a,f){F(a,e,f),I(e,t),I(e,n),ae(o,e,null),i=!0},p(a,f){const c={};f&1&&(c.value=a[0].write),o.$set(c),(!i||f&36)&&Rt(e,"hidden",!a[2]||!a[5])},i(a){i||(O(o.$$.fragment,a),i=!0)},o(a){z(o.$$.fragment,a),i=!1},d(a){a&&D(e),fe(o)}}}function Gj(r){let e,t;return e=new mv({props:{relay:r[0],theme:r[1],addRelay:!r[4]&&!r[9]?r[11]:null,removeRelay:r[4]&&r[3].length>1&&!r[9]?r[10]:null,$$slots:{controls:[Zj]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.relay=n[0]),o&2&&(i.theme=n[1]),o&16&&(i.addRelay=!n[4]&&!n[9]?n[11]:null),o&24&&(i.removeRelay=n[4]&&n[3].length>1&&!n[9]?n[10]:null),o&65573&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Yj(r,e,t){let n,o,i,{relay:a}=e,{theme:f="gray-8"}=e,{showControls:c=!1}=e,d=!1;const{relays:m,canPublish:v}=at;_t(r,m,R=>t(3,n=R)),_t(r,v,R=>t(5,i=R));const{method:_}=mn;_t(r,_,R=>t(15,o=R));const $=o==="pubkey",k=({url:R})=>at.removeRelay(R),S=async({url:R})=>{var C;await at.addRelay(R),(C=at.getProfile())!=null&&C.kind0||Zu(at.getPubkey())};jr(()=>R1(1e4,async()=>{await Tr.getQuality(a.url)}));const A=()=>at.setRelayWriteCondition(a.url,!a.write);return r.$$set=R=>{"relay"in R&&t(0,a=R.relay),"theme"in R&&t(1,f=R.theme),"showControls"in R&&t(2,c=R.showControls)},r.$$.update=()=>{r.$$.dirty&9&&t(4,d=xi(hn("url",a.url),n))},[a,f,c,n,d,i,m,v,_,$,k,S,A]}class ul extends ut{constructor(e){super(),lt(this,e,Yj,Gj,ft,{relay:0,theme:1,showControls:2})}}function Fb(r){r[4]=r[7].title,r[5]=r[7].description,r[6]=r[7].image}function Jj(r){let e,t,n={ctx:r,current:null,token:null,hasCatch:!0,pending:iz,then:tz,catch:ez,value:7,blocks:[,,,]};return eh(r[3](),n),{c(){e=dt(),n.block.c()},m(o,i){F(o,e,i),n.block.m(o,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(o,i){r=o,Cw(n,r,i)},i(o){t||(O(n.block),t=!0)},o(o){for(let i=0;i<3;i+=1){const a=n.blocks[i];z(a)}t=!1},d(o){o&&D(e),n.block.d(o),n.token=null,n=null}}}function Xj(r){let e,t;return{c(){e=K("video"),e.controls=!0,hf(e.src,t=r[0].url)||q(e,"src",t),q(e,"class","max-h-96 object-contain object-center")},m(n,o){F(n,e,o)},p(n,o){o&1&&!hf(e.src,t=n[0].url)&&q(e,"src",t)},i:Fe,o:Fe,d(n){n&&D(e)}}}function Qj(r){let e,t;return{c(){e=K("img"),q(e,"alt","Link preview"),hf(e.src,t=r[0].url)||q(e,"src",t),q(e,"class","max-h-96 object-contain object-center")},m(n,o){F(n,e,o)},p(n,o){o&1&&!hf(e.src,t=n[0].url)&&q(e,"src",t)},i:Fe,o:Fe,d(n){n&&D(e)}}}function ez(r){let e,t,n=r[0].url+"",o;return{c(){e=K("p"),t=Le("Unable to load a preview for "),o=Le(n),q(e,"class","mb-1 py-24 px-12 text-center text-gray-5")},m(i,a){F(i,e,a),I(e,t),I(e,o)},p(i,a){a&1&&n!==(n=i[0].url+"")&&Mt(o,n)},i:Fe,o:Fe,d(i){i&&D(e)}}}function tz(r){Fb(r);let e,t,n,o,i=r[6]&&rz(r),a=r[4]&&nz(r);return{c(){i&&i.c(),e=oe(),t=K("div"),n=oe(),a&&a.c(),o=dt(),q(t,"class","h-px bg-gray-6")},m(f,c){i&&i.m(f,c),F(f,e,c),F(f,t,c),F(f,n,c),a&&a.m(f,c),F(f,o,c)},p(f,c){Fb(f),f[6]&&i.p(f,c),f[4]&&a.p(f,c)},i:Fe,o:Fe,d(f){i&&i.d(f),f&&D(e),f&&D(t),f&&D(n),a&&a.d(f),f&&D(o)}}}function rz(r){let e,t;return{c(){e=K("img"),q(e,"alt","Link preview"),hf(e.src,t=r[6])||q(e,"src",t),q(e,"class","max-h-96 object-contain object-center")},m(n,o){F(n,e,o)},p:Fe,d(n){n&&D(e)}}}function nz(r){let e,t,n=r[4]+"",o,i,a,f=kt.exports.ellipsize(r[5],140)+"",c;return{c(){e=K("div"),t=K("strong"),o=Le(n),i=oe(),a=K("small"),c=Le(f),q(t,"class","overflow-hidden text-ellipsis whitespace-nowrap"),q(e,"class","flex flex-col bg-white px-4 py-2 text-black")},m(d,m){F(d,e,m),I(e,t),I(t,o),I(e,i),I(e,a),I(a,c)},p:Fe,d(d){d&&D(e)}}}function iz(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Ub(r){let e,t,n;return{c(){e=K("div"),e.innerHTML='<i class="fa fa-times"></i>',q(e,"class","absolute top-0 right-0 m-1 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border border-solid border-gray-6 bg-white text-black opacity-50 shadow")},m(o,i){F(o,e,i),t||(n=ct(e,"click",mu(function(){Qr(r[2])&&r[2].apply(this,arguments)})),t=!0)},p(o,i){r=o},d(o){o&&D(e),t=!1,n()}}}function oz(r){let e,t,n,o,i;const a=[Qj,Xj,Jj],f=[];function c(m,v){return m[0].type==="image"?0:m[0].type==="video"?1:2}e=c(r),t=f[e]=a[e](r);let d=r[2]&&Ub(r);return{c(){t.c(),n=oe(),d&&d.c(),o=dt()},m(m,v){f[e].m(m,v),F(m,n,v),d&&d.m(m,v),F(m,o,v),i=!0},p(m,v){let _=e;e=c(m),e===_?f[e].p(m,v):(tt(),z(f[_],1,1,()=>{f[_]=null}),rt(),t=f[e],t?t.p(m,v):(t=f[e]=a[e](m),t.c()),O(t,1),t.m(n.parentNode,n)),m[2]?d?d.p(m,v):(d=Ub(m),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},i(m){i||(O(t),i=!0)},o(m){z(t),i=!1},d(m){f[e].d(m),m&&D(n),d&&d.d(m),m&&D(o)}}}function sz(r){let e,t;return e=new $t({props:{external:!0,type:"unstyled",href:r[1]?null:r[0].url,style:"background-color: rgba(15, 15, 14, 0.5)",class:tr("relative flex flex-col overflow-hidden rounded border border-solid border-gray-6"),$$slots:{default:[oz]},$$scope:{ctx:r}}}),e.$on("click",function(){Qr(r[1])&&r[1].apply(this,arguments)}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){r=n;const i={};o&3&&(i.href=r[1]?null:r[0].url),o&261&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function az(r,e,t){let{link:n}=e,{onClick:o=null}=e,{onClose:i=null}=e;const a=async()=>{const c=await(await fetch(at.dufflepud("/link/preview"),{method:"POST",body:JSON.stringify({url:n.url}),headers:{"Content-Type":"application/json"}})).json();if(!c.title&&!c.image)throw new Error("Unable to load preview");return c};return r.$$set=f=>{"link"in f&&t(0,n=f.link),"onClick"in f&&t(1,o=f.onClick),"onClose"in f&&t(2,i=f.onClose)},[n,o,i,a]}class X0 extends ut{constructor(e){super(),lt(this,e,az,sz,ft,{link:0,onClick:1,onClose:2})}}function fz(r){let e,t,n;return{c(){e=K("div"),q(e,"class","w-full min-w-0 p-2 text-gray-3 outline-0"),q(e,"autofocus",""),q(e,"contenteditable","")},m(o,i){F(o,e,i),r[6](e),e.focus(),t||(n=[ct(e,"input",r[1]),ct(e,"keydown",r[4]),ct(e,"keyup",r[5])],t=!0)},p:Fe,i:Fe,o:Fe,d(o){o&&D(e),r[6](null),t=!1,sn(n)}}}function lz(r,e,t){let n=null;const o=$=>{var k;return $.tagName==="BR"||$.tagName==="DIV"&&!((k=$.getAttribute)!=null&&k.call($,"style"))},i=$=>$ instanceof HTMLElement&&!o($),a=$=>{const k=window.getSelection(),{focusNode:S,focusOffset:A}=k;for(const R of n.childNodes)if(!o(R)&&R instanceof HTMLElement&&!R.dataset.coracle){const C=document.createTextNode(R.textContent);if(R.tagName==="DIV"){const T=document.createElement("div");T.appendChild(C),R.replaceWith(T)}else R.replaceWith(C)}S!==n&&S.parentNode!==n&&i(S.parentNode)&&(S.parentNode.replaceWith(S),k.collapse(S,A),n.normalize())},f=()=>n,c=$=>{var A;let k="",S=[];for(const R of $.childNodes)if(R.tagName==="BR"&&(k+=`
`),R.tagName==="DIV"&&!R.querySelector("br")&&(k+=`
`),(A=R.dataset)!=null&&A.coracle){const{prefix:C,value:T}=JSON.parse(R.dataset.coracle);k+=T,S=S.concat({prefix:C,value:T})}else if(R instanceof Text)k+=R.textContent;else{const C=c(R);k+=C.content,S=S.concat(C.annotations)}return{content:k,annotations:S}},d=()=>c(n);function m($){Si.call(this,r,$)}function v($){Si.call(this,r,$)}function _($){Ct[$?"unshift":"push"](()=>{n=$,t(0,n)})}return[n,a,f,d,m,v,_]}class uz extends ut{constructor(e){super(),lt(this,e,lz,fz,ft,{getInput:2,parse:3})}get getInput(){return this.$$.ctx[2]}get parse(){return this.$$.ctx[3]}}function Hb(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}const cz=r=>({item:r&2}),jb=r=>({item:r[11]});function zb(r){let e,t,n,o=r[1],i=[];for(let f=0;f<o.length;f+=1)i[f]=qb(Hb(r,o,f));const a=f=>z(i[f],1,1,()=>{i[f]=null});return{c(){e=K("div");for(let f=0;f<i.length;f+=1)i[f].c();q(e,"class","mt-2 flex flex-col rounded border border-solid border-gray-6")},m(f,c){F(f,e,c);for(let d=0;d<i.length;d+=1)i[d].m(e,null);n=!0},p(f,c){if(c&263){o=f[1];let d;for(d=0;d<o.length;d+=1){const m=Hb(f,o,d);i[d]?(i[d].p(m,c),O(i[d],1)):(i[d]=qb(m),i[d].c(),O(i[d],1),i[d].m(e,null))}for(tt(),d=o.length;d<i.length;d+=1)a(d);rt()}},i(f){if(!n){for(let c=0;c<o.length;c+=1)O(i[c]);t||Nt(()=>{t=_r(e,Qt,{y:20}),t.start()}),n=!0}},o(f){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)z(i[c]);n=!1},d(f){f&&D(e),yn(i,f)}}}function qb(r){let e,t,n,o,i;const a=r[9].item,f=Ir(a,r,r[8],jb);function c(){return r[10](r[11])}return{c(){e=K("button"),f&&f.c(),t=oe(),q(e,"class","cursor-pointer border-l-2 border-solid border-black py-2 px-4 text-white"),Rt(e,"bg-gray-8",r[2]!==r[13]),Rt(e,"bg-gray-7",r[2]===r[13]),Rt(e,"border-accent",r[2]===r[13])},m(d,m){F(d,e,m),f&&f.m(e,null),I(e,t),n=!0,o||(i=ct(e,"click",c),o=!0)},p(d,m){r=d,f&&f.p&&(!n||m&258)&&Nr(f,a,r,r[8],n?Lr(a,r[8],m,cz):Dr(r[8]),jb),(!n||m&4)&&Rt(e,"bg-gray-8",r[2]!==r[13]),(!n||m&4)&&Rt(e,"bg-gray-7",r[2]===r[13]),(!n||m&4)&&Rt(e,"border-accent",r[2]===r[13])},i(d){n||(O(f,d),n=!0)},o(d){z(f,d),n=!1},d(d){d&&D(e),f&&f.d(d),o=!1,i()}}}function hz(r){let e,t,n=r[1].length>0&&zb(r);return{c(){n&&n.c(),e=dt()},m(o,i){n&&n.m(o,i),F(o,e,i),t=!0},p(o,[i]){o[1].length>0?n?(n.p(o,i),i&2&&O(n,1)):(n=zb(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(tt(),z(n,1,1,()=>{n=null}),rt())},i(o){t||(O(n),t=!0)},o(o){z(n),t=!1},d(o){n&&n.d(o),o&&D(e)}}}function dz(r,e,t){let{$$slots:n={},$$scope:o}=e,{select:i}=e,a=[],f=0;const c=k=>{t(1,a=k),a[f]||t(2,f=0)},d=()=>{t(2,f=0),t(1,a=[])},m=()=>{t(2,f=Math.max(0,f-1))},v=()=>{t(2,f=Math.min(a.length-1,f+1))},_=()=>a[f],$=k=>i(k);return r.$$set=k=>{"select"in k&&t(0,i=k.select),"$$scope"in k&&t(8,o=k.$$scope)},[i,a,f,c,d,m,v,_,o,n,$]}class pz extends ut{constructor(e){super(),lt(this,e,dz,hz,ft,{select:0,setData:3,clear:4,prev:5,next:6,get:7})}get setData(){return this.$$.ctx[3]}get clear(){return this.$$.ctx[4]}get prev(){return this.$$.ctx[5]}get next(){return this.$$.ctx[6]}get get(){return this.$$.ctx[7]}}const mz=r=>({}),Kb=r=>({});function vz(r){let e,t,n;return t=new q0({props:{inert:!0,person:r[20]}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"slot","item")},m(o,i){F(o,e,i),ae(t,e,null),n=!0},p(o,i){const a={};i&1048576&&(a.person=o[20]),t.$set(a)},i(o){n||(O(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&D(e),fe(t)}}}function gz(r){let e,t,n,o,i,a,f={};t=new uz({props:f}),r[11](t),t.$on("keydown",r[4]),t.$on("keyup",r[5]);const c=r[10].addon,d=Ir(c,r,r[14],Kb);let m={select:r[12],$$slots:{item:[vz,({item:v})=>({20:v}),({item:v})=>v?1048576:0]},$$scope:{ctx:r}};return i=new pz({props:m}),r[13](i),{c(){e=K("div"),le(t.$$.fragment),n=oe(),d&&d.c(),o=oe(),le(i.$$.fragment),q(e,"class","flex")},m(v,_){F(v,e,_),ae(t,e,null),I(e,n),d&&d.m(e,null),F(v,o,_),ae(i,v,_),a=!0},p(v,[_]){const $={};t.$set($),d&&d.p&&(!a||_&16384)&&Nr(d,c,v,v[14],a?Lr(c,v[14],_,mz):Dr(v[14]),Kb);const k={};_&1064960&&(k.$$scope={dirty:_,ctx:v}),i.$set(k)},i(v){a||(O(t.$$.fragment,v),O(d,v),O(i.$$.fragment,v),a=!0)},o(v){z(t.$$.fragment,v),z(d,v),z(i.$$.fragment,v),a=!1},d(v){v&&D(e),r[11](null),fe(t),d&&d.d(v),v&&D(o),r[13](null),fe(i,v)}}}function yz(r,e,t){let n,{$$slots:o={},$$scope:i}=e,{onSubmit:a}=e,f,c;const d={encode:V=>{const Z=Ar("url",Ji(V));return"nostr:"+br.nprofileEncode({pubkey:V,relays:Z})},decode:V=>br.decode(Yr(V.split(":"))).data.pubkey},m=on("people",V=>Sa(V.all({"kind0.name:!nil":null}),{keys:["kind0.name","pubkey"]}));_t(r,m,V=>t(15,n=V));const v=V=>{c.setData(V.startsWith("@")?n(V.slice(1)).slice(0,5):[])},_=()=>{const V=window.getSelection(),{focusNode:Z,focusOffset:Q}=V,ne=Z.textContent.slice(0,Q),w=Yr(ne.trim().split(/\s+/));return{selection:V,node:Z,offset:Q,word:w}},$=({person:V})=>{const{selection:Z,node:Q,offset:ne,word:w}=_(),s=(u,h,p)=>{const g=ne-w.length+u.length,M=document.createTextNode("\u200B\xA0"),x=document.createElement("span");x.classList.add("underline"),x.dataset.coracle=JSON.stringify({prefix:u,value:p}),x.innerText=h,Z.setBaseAndExtent(Q,g,Q,ne),Z.deleteFromDocument(),Z.getRangeAt(0).insertNode(x),Z.collapse(x.nextSibling,0),Z.getRangeAt(0).insertNode(M),Z.collapse(M,2)};w.length>1&&w.startsWith("@")&&s("@",er(V).trim(),d.encode(V.pubkey)),w.length>1&&w.startsWith("#")&&s("#",w.slice(1),w.slice(1)),c.setData([])},k=V=>{if(V.code==="Enter"&&(V.ctrlKey||V.metaKey))return a();["Escape","Tab"].includes(V.code)&&(V.preventDefault(),V.stopPropagation()),c.get()&&["Enter","ArrowUp","ArrowDown"].includes(V.code)&&V.preventDefault(),["Enter"].includes(V.code)&&$({person:c.get()})},S=V=>{const{word:Z}=_();v(Z),["Tab"].includes(V.code)&&$({person:c.get()}),["Escape","Space"].includes(V.code)&&c.clear(),V.code==="ArrowUp"&&c.prev(),V.code==="ArrowDown"&&c.next()},A=V=>{const Z=f.getInput(),Q=window.getSelection(),ne=document.createTextNode("@"),w=document.createTextNode(" ");Q.getRangeAt(0).insertNode(ne),Q.collapse(Z,1),Q.getRangeAt(0).insertNode(w),Q.collapse(Z,1),$({person:V})},R=(V=1)=>{const Z=document.createElement("div");return Z.innerHTML="<br>".repeat(V),Z},C=V=>{const Z=f.getInput(),Q=window.getSelection(),ne=document.createTextNode(V),w=R(2);Q.getRangeAt(0).insertNode(ne),Q.collapse(Z,1),Q.getRangeAt(0).insertNode(w),Q.collapse(Z,2)},T=()=>{let{content:V,annotations:Z}=f.parse();const Q=Ar("value",Z.filter(hn("prefix","#")));V=V.replace(/[\u200B\u00A0]/g," ").trim();const ne=Z.filter(hn("prefix","@")).map(({value:w},s)=>(V=V.replace("@"+w,`#[${s}]`),d.decode(w)));return{content:V,topics:Q,mentions:ne}};function B(V){Ct[V?"unshift":"push"](()=>{f=V,t(0,f)})}const L=V=>$({person:V});function j(V){Ct[V?"unshift":"push"](()=>{c=V,t(1,c)})}return r.$$set=V=>{"onSubmit"in V&&t(6,a=V.onSubmit),"$$scope"in V&&t(14,i=V.$$scope)},[f,c,m,$,k,S,a,A,C,T,o,B,L,j,i]}class hM extends ut{constructor(e){super(),lt(this,e,yz,gz,ft,{onSubmit:6,mention:7,nevent:8,parse:9})}get mention(){return this.$$.ctx[7]}get nevent(){return this.$$.ctx[8]}get parse(){return this.$$.ctx[9]}}function Wb(r,e,t){const n=r.slice();return n[8]=e[t],n}function Vb(r){let e,t,n,o,i;t=new X0({props:{link:r[2][0],onClose:r[3]}});let a=r[2].length>1&&bz(r);return{c(){e=K("div"),le(t.$$.fragment),n=oe(),a&&a.c(),q(e,"class","relative")},m(f,c){F(f,e,c),ae(t,e,null),I(e,n),a&&a.m(e,null),i=!0},p(f,c){f[2].length>1&&a.p(f,c)},i(f){i||(O(t.$$.fragment,f),o||Nt(()=>{o=_r(e,Ep,{}),o.start()}),i=!0)},o(f){z(t.$$.fragment,f),i=!1},d(f){f&&D(e),fe(t),a&&a.d()}}}function bz(r){let e,t,n,o=r[2].length+"",i,a,f,c;return{c(){e=K("p"),t=K("i"),n=Le(" Show "),i=Le(o),a=Le(" link previews"),q(t,"class","fa fa-plus"),q(e,"class","text-gray-500 py-4 text-center underline")},m(d,m){F(d,e,m),I(e,t),I(e,n),I(e,i),I(e,a),f||(c=ct(e,"click",r[4]),f=!0)},p:Fe,d(d){d&&D(e),f=!1,c()}}}function Zb(r){let e,t;return e=new Lo({props:{onEscape:r[5],$$slots:{default:[wz]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Gb(r){let e,t;return e=new X0({props:{link:r[8]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _z(r){let e,t,n=r[2],o=[];for(let a=0;a<n.length;a+=1)o[a]=Gb(Wb(r,n,a));const i=a=>z(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=dt()},m(a,f){for(let c=0;c<o.length;c+=1)o[c].m(a,f);F(a,e,f),t=!0},p(a,f){if(f&4){n=a[2];let c;for(c=0;c<n.length;c+=1){const d=Wb(a,n,c);o[c]?(o[c].p(d,f),O(o[c],1)):(o[c]=Gb(d),o[c].c(),O(o[c],1),o[c].m(e.parentNode,e))}for(tt(),c=n.length;c<o.length;c+=1)i(c);rt()}},i(a){if(!t){for(let f=0;f<n.length;f+=1)O(o[f]);t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)z(o[f]);t=!1},d(a){yn(o,a),a&&D(e)}}}function wz(r){let e,t;return e=new At({props:{$$slots:{default:[_z]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Mz(r){let e,t,n,o=!r[0]&&Vb(r),i=r[1]&&Zb(r);return{c(){o&&o.c(),e=oe(),i&&i.c(),t=dt()},m(a,f){o&&o.m(a,f),F(a,e,f),i&&i.m(a,f),F(a,t,f),n=!0},p(a,[f]){a[0]?o&&(tt(),z(o,1,1,()=>{o=null}),rt()):o?(o.p(a,f),f&1&&O(o,1)):(o=Vb(a),o.c(),O(o,1),o.m(e.parentNode,e)),a[1]?i?(i.p(a,f),f&2&&O(i,1)):(i=Zb(a),i.c(),O(i,1),i.m(t.parentNode,t)):i&&(tt(),z(i,1,1,()=>{i=null}),rt())},i(a){n||(O(o),O(i),n=!0)},o(a){z(o),z(i),n=!1},d(a){o&&o.d(a),a&&D(e),i&&i.d(a),a&&D(t)}}}function $z(r,e,t){let{links:n}=e,{onClose:o=null}=e,i=!1,a=!1;const f=tn(({type:v})=>v==="preview"?1:0,n.filter(v=>!v.startsWith("ws")).map(v=>v.match(".(jpg|jpeg|png|gif)")?{type:"image",url:v}:v.match(".(mov|mp4)")?{type:"video",url:v}:{type:"preview",url:v})),c=()=>{o==null||o(),t(0,i=!0)},d=()=>{t(1,a=!0)},m=()=>{t(1,a=!1)};return r.$$set=v=>{"links"in v&&t(6,n=v.links),"onClose"in v&&t(7,o=v.onClose)},[i,a,f,c,d,m,n,o]}class xz extends ut{constructor(e){super(),lt(this,e,$z,Mz,ft,{links:6,onClose:7})}}function Yb(r,e,t){const n=r.slice();return n[13]=e[t].value,n}function Jb(r){const e=Br(r[16].pubkey);r[17]=e}function Xb(r,e,t){const n=r.slice();return n[18]=e[t].type,n[13]=e[t].value,n}function Qb(r,e,t){const n=r.slice();return n[21]=e[t],n}function kz(r){const e=r.slice(),t=e[4](e[13]);return e[24]=t,e}function Sz(r){let e=r[13]+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=n[13]+"")&&Mt(t,e)},i:Fe,o:Fe,d(n){n&&D(t)}}}function Ez(r){let e,t,n,o;const i=[Pz,Cz],a=[];function f(c,d){return c[24]?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function Az(r){let e,t;return e=new $t({props:{href:"/"+r[13].entity,$$slots:{default:[Lz]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.href="/"+n[13].entity),o&33554433&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Bz(r){let e,t;return e=new $t({props:{external:!0,href:r[13],$$slots:{default:[Nz]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.href=n[13]),o&33554433&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Rz(r){let e,t=r[13],n=[];for(let o=0;o<t.length;o+=1)n[o]=e2(Qb(r,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=dt()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);F(o,e,i)},p(o,i){if(i&1){t=o[13];let a;for(a=0;a<t.length;a+=1){const f=Qb(o,t,a);n[a]?n[a].p(f,i):(n[a]=e2(),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i:Fe,o:Fe,d(o){yn(n,o),o&&D(e)}}}function Cz(r){let e=r[13]+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=n[13]+"")&&Mt(t,e)},i:Fe,o:Fe,d(n){n&&D(t)}}}function Pz(r){let e,t,n;return t=new $t({props:{href:xn.person(r[24]),$$slots:{default:[Tz]},$$scope:{ctx:r}}}),{c(){e=Le("@"),le(t.$$.fragment)},m(o,i){F(o,e,i),ae(t,o,i),n=!0},p(o,i){const a={};i&1&&(a.href=xn.person(o[24])),i&33554433&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){n||(O(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&D(e),fe(t,o)}}}function Tz(r){let e=er(Br(r[24]))+"",t,n;return{c(){t=Le(e),n=oe()},m(o,i){F(o,t,i),F(o,n,i)},p(o,i){i&1&&e!==(e=er(Br(o[24]))+"")&&Mt(t,e)},d(o){o&&D(t),o&&D(n)}}}function Oz(r){let e=r[13].entity.slice(0,10)+"...",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=n[13].entity.slice(0,10)+"...")&&Mt(t,e)},d(n){n&&D(t)}}}function Iz(r){let e=er(Br(r[13].pubkey))+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=er(Br(n[13].pubkey))+"")&&Mt(t,e)},d(n){n&&D(t)}}}function Lz(r){let e;function t(i,a){return i[13].pubkey?Iz:Oz}let n=t(r),o=n(r);return{c(){o.c(),e=oe()},m(i,a){o.m(i,a),F(i,e,a)},p(i,a){n===(n=t(i))&&o?o.p(i,a):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e)))},d(i){o.d(i),i&&D(e)}}}function Nz(r){let e=r[13].replace(/https?:\/\/(www\.)?/,"")+"",t,n;return{c(){t=Le(e),n=oe()},m(o,i){F(o,t,i),F(o,n,i)},p(o,i){i&1&&e!==(e=o[13].replace(/https?:\/\/(www\.)?/,"")+"")&&Mt(t,e)},d(o){o&&D(t),o&&D(n)}}}function e2(r){let e;return{c(){e=K("br")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function t2(r){let e,t,n,o,i;const a=[Rz,Bz,Az,Ez,Sz],f=[];function c(m,v){return v&1&&(e=null),m[18]==="newline"?0:m[18]==="link"?1:(e==null&&(e=!!m[18].startsWith("nostr:")),e?2:m[18]==="mention"?3:4)}function d(m,v){return v===3?kz(m):m}return t=c(r,-1),n=f[t]=a[t](d(r,t)),{c(){n.c(),o=dt()},m(m,v){f[t].m(m,v),F(m,o,v),i=!0},p(m,v){let _=t;t=c(m,v),t===_?f[t].p(d(m,t),v):(tt(),z(f[_],1,1,()=>{f[_]=null}),rt(),n=f[t],n?n.p(d(m,t),v):(n=f[t]=a[t](d(m,t)),n.c()),O(n,1),n.m(o.parentNode,o))},i(m){i||(O(n),i=!0)},o(m){z(n),i=!1},d(m){f[t].d(m),m&&D(o)}}}function Dz(r){let e,t,n,o,i;return t=new xz({props:{links:r[1]}}),{c(){e=K("div"),le(t.$$.fragment)},m(a,f){F(a,e,f),ae(t,e,null),n=!0,o||(i=ct(e,"click",Wz),o=!0)},p:Fe,i(a){n||(O(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&D(e),fe(t),o=!1,i()}}}function Fz(r){let e,t,n,o,i=r[2],a=[];for(let c=0;c<i.length;c+=1)a[c]=r2(Yb(r,i,c));const f=c=>z(a[c],1,1,()=>{a[c]=null});return{c(){e=K("div");for(let c=0;c<a.length;c+=1)a[c].c();q(e,"class","py-2")},m(c,d){F(c,e,d);for(let m=0;m<a.length;m+=1)a[m].m(e,null);t=!0,n||(o=ct(e,"click",Vz),n=!0)},p(c,d){if(d&100){i=c[2];let m;for(m=0;m<i.length;m+=1){const v=Yb(c,i,m);a[m]?(a[m].p(v,d),O(a[m],1)):(a[m]=r2(v),a[m].c(),O(a[m],1),a[m].m(e,null))}for(tt(),m=i.length;m<a.length;m+=1)f(m);rt()}},i(c){if(!t){for(let d=0;d<i.length;d+=1)O(a[d]);t=!0}},o(c){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)z(a[d]);t=!1},d(c){c&&D(e),yn(a,c),n=!1,o()}}}function Uz(r){let e,t;return{c(){e=K("p"),e.textContent="Unable to load a preview for quoted event",q(e,"class","mb-1 py-24 text-center text-gray-5")},m(n,o){F(n,e,o)},p:Fe,i(n){t||Nt(()=>{t=_r(e,Qt,{y:20}),t.start()})},o:Fe,d(n){n&&D(e)}}}function Hz(r){Jb(r);let e,t,n,o,i,a,f;t=new No({props:{size:6,person:r[17]}});function c(){return r[9](r[16])}return o=new $t({props:{type:"unstyled",class:"flex items-center gap-2",$$slots:{default:[jz]},$$scope:{ctx:r}}}),o.$on("click",c),a=new Q0({props:{note:r[16]}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),le(o.$$.fragment),i=oe(),le(a.$$.fragment),q(e,"class","mb-4 flex items-center gap-4")},m(d,m){F(d,e,m),ae(t,e,null),I(e,n),ae(o,e,null),F(d,i,m),ae(a,d,m),f=!0},p(d,m){r=d,Jb(r);const v={};m&33554432&&(v.$$scope={dirty:m,ctx:r}),o.$set(v)},i(d){f||(O(t.$$.fragment,d),O(o.$$.fragment,d),O(a.$$.fragment,d),f=!0)},o(d){z(t.$$.fragment,d),z(o.$$.fragment,d),z(a.$$.fragment,d),f=!1},d(d){d&&D(e),fe(t),fe(o),d&&D(i),fe(a,d)}}}function jz(r){let e,t=er(r[17])+"",n;return{c(){e=K("h2"),n=Le(t),q(e,"class","text-lg")},m(o,i){F(o,e,i),I(e,n)},p:Fe,d(o){o&&D(e)}}}function zz(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function qz(r){let e,t,n={ctx:r,current:null,token:null,hasCatch:!0,pending:zz,then:Hz,catch:Uz,value:16,blocks:[,,,]};return eh(r[5](r[13]),n),{c(){n.block.c(),e=oe()},m(o,i){n.block.m(o,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,F(o,e,i),t=!0},p(o,i){r=o,Cw(n,r,i)},i(o){t||(O(n.block),t=!0)},o(o){for(let i=0;i<3;i+=1){const a=n.blocks[i];z(a)}t=!1},d(o){n.block.d(o),n.token=null,n=null,o&&D(e)}}}function r2(r){let e,t;function n(){return r[10](r[13])}return e=new K0({props:{interactive:!0,invertColors:!0,$$slots:{default:[qz]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){le(e.$$.fragment)},m(o,i){ae(e,o,i),t=!0},p(o,i){r=o;const a={};i&33554432&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(o){t||(O(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){fe(e,o)}}}function Kz(r){let e,t,n,o,i,a=r[0],f=[];for(let v=0;v<a.length;v+=1)f[v]=t2(Xb(r,a,v));const c=v=>z(f[v],1,1,()=>{f[v]=null});let d=r[3]&&r[1].length>0&&Dz(r),m=r[2].length>0&&Fz(r);return{c(){e=K("div"),t=K("p");for(let v=0;v<f.length;v+=1)f[v].c();n=oe(),d&&d.c(),o=oe(),m&&m.c(),q(e,"class","flex flex-col gap-2 overflow-hidden text-ellipsis")},m(v,_){F(v,e,_),I(e,t);for(let $=0;$<f.length;$+=1)f[$].m(t,null);I(e,n),d&&d.m(e,null),I(e,o),m&&m.m(e,null),i=!0},p(v,[_]){if(_&17){a=v[0];let $;for($=0;$<a.length;$+=1){const k=Xb(v,a,$);f[$]?(f[$].p(k,_),O(f[$],1)):(f[$]=t2(k),f[$].c(),O(f[$],1),f[$].m(t,null))}for(tt(),$=a.length;$<f.length;$+=1)c($);rt()}v[3]&&v[1].length>0&&d.p(v,_),v[2].length>0&&m.p(v,_)},i(v){if(!i){for(let _=0;_<a.length;_+=1)O(f[_]);O(d),O(m),i=!0}},o(v){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)z(f[_]);z(d),z(m),i=!1},d(v){v&&D(e),yn(f,v),d&&d.d(),m&&m.d()}}}const Wz=r=>r.stopPropagation(),Vz=r=>r.stopPropagation();function Zz(r,e,t){let{note:n}=e,{showEntire:o}=e;const i=[],a=[],f=!o&&n.content.length>500,c=Um(n.content),d=at.getSetting("showMedia");let m=0;for(let A=0;A<c.length;A++){const{type:R,value:C}=c[A];if(R==="link"||["nostr:note","nostr:nevent"].includes(R)){const T=c[A-1],B=c[A+1];if(R==="link"?i.push(C):a.push({type:R,value:C}),d&&(!T||T.type==="newline")&&(!B||B.type==="newline")){let L=0;for(let j=A+1;j<c.length&&c[j].type==="newline";j++)L++;c.splice(A,L+1),A=A-L}}if(typeof C=="string"){if(m+=C.length,f&&m>350&&R!=="newline"){c[A].value=C.trim(),c.splice(A+1,c.length,{type:"text",value:"..."});break}}else m+=30}const v=A=>{var C,T;const R=parseInt(kt.exports.first(A.match(/\d+/)));return((C=n.tags[R])==null?void 0:C[0])==="p"?n.tags[R][1]:((T=n.tags[R-1])==null?void 0:T[0])==="p"?n.tags[R-1][1]:Pr.from(n).type("p").values().nth(R)},_=async({id:A,relays:R})=>{try{const[C]=await Cr.load({relays:An((R||[]).map(Yf("url"))),filter:[{ids:[A]}]});return C||Promise.reject()}catch(C){Ei(C)}},$=A=>{Xt.set({type:"note/detail",note:{id:A}})},k=A=>Zr(xn.person(A.pubkey)),S=A=>$(A.id);return r.$$set=A=>{"note"in A&&t(7,n=A.note),"showEntire"in A&&t(8,o=A.showEntire)},[c,i,a,d,v,_,$,n,o,k,S]}class Q0 extends ut{constructor(e){super(),lt(this,e,Zz,Kz,ft,{note:7,showEntire:8})}}function n2(r,e,t){const n=r.slice();return n[82]=e[t],n}function i2(r,e,t){const n=r.slice();return n[85]=e[t],n}function o2(r){let e,t,n,o,i,a,f,c,d;t=new K0({props:{class:"relative flex gap-4",interactive:r[34],invertColors:r[5],$$slots:{default:[fq]},$$scope:{ctx:r}}}),t.$on("click",r[40]);let m=r[11]&&u2(r),v=r[14].length>0&&!r[33]&&r[1]>0&&!r[8]&&p2(r),_=!r[16]&&r[14].length>0&&r[1]>0&&!r[8]&&m2(r),$=r[15]&&y2(r),k=r[6]&&b2(r);return{c(){e=K("div"),le(t.$$.fragment),n=oe(),m&&m.c(),o=oe(),v&&v.c(),i=oe(),_&&_.c(),a=oe(),$&&$.c(),f=oe(),k&&k.c(),c=dt(),q(e,"class","note relative")},m(S,A){F(S,e,A),ae(t,e,null),r[61](e),F(S,n,A),m&&m.m(S,A),F(S,o,A),v&&v.m(S,A),F(S,i,A),_&&_.m(S,A),F(S,a,A),$&&$.m(S,A),F(S,f,A),k&&k.m(S,A),F(S,c,A),d=!0},p(S,A){const R={};A[0]&32&&(R.invertColors=S[5]),A[0]&264635273|A[2]&134217728&&(R.$$scope={dirty:A,ctx:S}),t.$set(R),S[11]?m?(m.p(S,A),A[0]&2048&&O(m,1)):(m=u2(S),m.c(),O(m,1),m.m(o.parentNode,o)):m&&(tt(),z(m,1,1,()=>{m=null}),rt()),S[14].length>0&&!S[33]&&S[1]>0&&!S[8]?v?(v.p(S,A),A[0]&16642&&O(v,1)):(v=p2(S),v.c(),O(v,1),v.m(i.parentNode,i)):v&&(tt(),z(v,1,1,()=>{v=null}),rt()),!S[16]&&S[14].length>0&&S[1]>0&&!S[8]?_?(_.p(S,A),A[0]&82178&&O(_,1)):(_=m2(S),_.c(),O(_,1),_.m(a.parentNode,a)):_&&(tt(),z(_,1,1,()=>{_=null}),rt()),S[15]?$?($.p(S,A),A[0]&32768&&O($,1)):($=y2(S),$.c(),O($,1),$.m(f.parentNode,f)):$&&(tt(),z($,1,1,()=>{$=null}),rt()),S[6]?k?(k.p(S,A),A[0]&64&&O(k,1)):(k=b2(S),k.c(),O(k,1),k.m(c.parentNode,c)):k&&(tt(),z(k,1,1,()=>{k=null}),rt())},i(S){d||(O(t.$$.fragment,S),O(m),O(v),O(_),O($),O(k),d=!0)},o(S){z(t.$$.fragment,S),z(m),z(v),z(_),z($),z(k),d=!1},d(S){S&&D(e),fe(t),r[61](null),S&&D(n),m&&m.d(S),S&&D(o),v&&v.d(S),S&&D(i),_&&_.d(S),S&&D(a),$&&$.d(S),S&&D(f),k&&k.d(S),S&&D(c)}}}function s2(r){let e;return{c(){e=K("div"),q(e,"class",`absolute -ml-4 h-px w-4 bg-${r[32]} z-10`),lr(e,"left","0px"),lr(e,"top","27px")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function Gz(r){let e,t;return e=new No({props:{size:10,person:r[9]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&512&&(i.person=n[9]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function a2(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-circle-check text-sm text-accent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function Yz(r){let e,t=er(r[9])+"",n,o,i,a=r[9].verified_as&&a2();return{c(){e=K("span"),n=Le(t),o=oe(),a&&a.c(),i=dt()},m(f,c){F(f,e,c),I(e,n),F(f,o,c),a&&a.m(f,c),F(f,i,c)},p(f,c){c[0]&512&&t!==(t=er(f[9])+"")&&Mt(n,t),f[9].verified_as?a||(a=a2(),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(f){f&&D(e),f&&D(o),a&&a.d(f),f&&D(i)}}}function Jz(r){let e,t,n;return t=new $t({props:{type:"unstyled",class:"flex items-center gap-2 text-lg font-bold",href:r1?null:xn.person(r[9].pubkey),$$slots:{default:[Yz]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"slot","trigger")},m(o,i){F(o,e,i),ae(t,e,null),n=!0},p(o,i){const a={};i[0]&512&&(a.href=r1?null:xn.person(o[9].pubkey)),i[0]&512|i[2]&134217728&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){n||(O(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&D(e),fe(t)}}}function Xz(r){let e,t,n;return t=new kj({props:{pubkey:r[9].pubkey}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"slot","tooltip")},m(o,i){F(o,e,i),ae(t,e,null),n=!0},p(o,i){const a={};i[0]&512&&(a.pubkey=o[9].pubkey),t.$set(a)},i(o){n||(O(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&D(e),fe(t)}}}function Qz(r){let e;return{c(){e=Le(r[31])},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function f2(r){let e,t,n,o,i;return o=new $t({props:{$$slots:{default:[eq]},$$scope:{ctx:r}}}),o.$on("click",r[41]),{c(){e=K("small"),t=K("i"),n=oe(),le(o.$$.fragment),q(t,"class","fa fa-code-merge"),q(e,"class","text-gray-1")},m(a,f){F(a,e,f),I(e,t),I(e,n),ae(o,e,null),i=!0},p(a,f){const c={};f[2]&134217728&&(c.$$scope={dirty:f,ctx:a}),o.$set(c)},i(a){i||(O(o.$$.fragment,a),i=!0)},o(a){z(o.$$.fragment,a),i=!1},d(a){a&&D(e),fe(o)}}}function eq(r){let e;return{c(){e=Le("View Parent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function l2(r){let e,t,n,o,i;return o=new $t({props:{$$slots:{default:[tq]},$$scope:{ctx:r}}}),o.$on("click",r[42]),{c(){e=K("small"),t=K("i"),n=oe(),le(o.$$.fragment),q(t,"class","fa fa-code-pull-request"),q(e,"class","text-gray-1")},m(a,f){F(a,e,f),I(e,t),I(e,n),ae(o,e,null),i=!0},p(a,f){const c={};f[2]&134217728&&(c.$$scope={dirty:f,ctx:a}),o.$set(c)},i(a){i||(O(o.$$.fragment,a),i=!0)},o(a){z(o.$$.fragment,a),i=!1},d(a){a&&D(e),fe(o)}}}function tq(r){let e;return{c(){e=Le("View Thread")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function rq(r){let e,t;return e=new Q0({props:{note:r[0],showEntire:r[33]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&1&&(i.note=n[0]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function nq(r){let e;return{c(){e=K("p"),e.textContent="You have muted this note.",q(e,"class","border-l-2 border-solid border-gray-6 pl-4 text-gray-1")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function iq(r){let e,t,n,o;return n=new $t({props:{$$slots:{default:[oq]},$$scope:{ctx:r}}}),n.$on("click",r[58]),{c(){e=K("p"),t=Le(`You have flagged this content as offensive.
              `),le(n.$$.fragment),q(e,"class","border-l-2 border-solid border-gray-6 pl-4 text-gray-1")},m(i,a){F(i,e,a),I(e,t),ae(n,e,null),o=!0},p(i,a){const f={};a[2]&134217728&&(f.$$scope={dirty:a,ctx:i}),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(e),fe(n)}}}function oq(r){let e;return{c(){e=Le("Unflag")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function sq(r){let e;return{c(){e=K("div"),e.innerHTML='<i class="fa fa-ellipsis-v"></i>',q(e,"slot","trigger"),q(e,"class","cursor-pointer px-2")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function aq(r){let e,t,n,o,i;t=new jH({props:{actions:r[7]}});function a(){return r[60](r[88])}return{c(){e=K("div"),le(t.$$.fragment),q(e,"slot","tooltip"),q(e,"class","flex flex-col gap-2")},m(f,c){F(f,e,c),ae(t,e,null),n=!0,o||(i=ct(e,"click",a),o=!0)},p(f,c){r=f;const d={};c[0]&128&&(d.actions=r[7]),t.$set(d)},i(f){n||(O(t.$$.fragment,f),n=!0)},o(f){z(t.$$.fragment,f),n=!1},d(f){f&&D(e),fe(t),o=!1,i()}}}function fq(r){let e,t,n,o,i,a,f,c,d,m,v,_,$=Nn(r[0])&&r[3],k,S=ua(r[0])&&ua(r[0])!==Nn(r[0])&&r[3],A,R,C,T,B,L,j,V,Z,Q,ne,w,s,u,h,p,g,M,x,y,l=eg(r[25])+"",b,E,P,H,ee,Y,re,Me,de,_e=!r[3]&&s2(r);n=new $t({props:{class:"text-lg font-bold",href:xn.person(r[9].pubkey),$$slots:{default:[Gz]},$$scope:{ctx:r}}}),f=new Ah({props:{triggerType:r1?"click":"mouseenter",$$slots:{tooltip:[Xz],trigger:[Jz]},$$scope:{ctx:r}}}),d=new $t({props:{href:"/"+br.neventEncode({id:r[0].id,relays:[r[0].seen_on]}),class:"text-sm text-gray-1",type:"unstyled",$$slots:{default:[Qz]},$$scope:{ctx:r}}});let te=$&&f2(r),X=S&&l2(r);const ye=[iq,nq,rq],Ge=[];function Pe(W,U){return W[18]?0:W[8]?1:2}return R=Pe(r),C=Ge[R]=ye[R](r),Y=new Ah({props:{theme:"transparent",$$slots:{tooltip:[aq,({instance:W})=>({88:W}),({instance:W})=>[0,0,W?67108864:0]],trigger:[sq]},$$scope:{ctx:r}}}),{c(){_e&&_e.c(),e=oe(),t=K("div"),le(n.$$.fragment),o=oe(),i=K("div"),a=K("div"),le(f.$$.fragment),c=oe(),le(d.$$.fragment),m=oe(),v=K("div"),_=K("div"),te&&te.c(),k=oe(),X&&X.c(),A=oe(),C.c(),T=oe(),B=K("div"),L=K("div"),j=K("button"),V=K("i"),Z=oe(),Q=Le(r[24]),ne=oe(),w=K("button"),s=K("i"),h=oe(),p=Le(r[26]),g=oe(),M=K("button"),x=K("i"),y=oe(),b=Le(l),H=oe(),ee=K("div"),le(Y.$$.fragment),q(a,"class","flex flex-col items-start justify-between sm:flex-row sm:items-center"),q(_,"class","flex gap-2"),q(V,"class","fa fa-reply cursor-pointer"),q(j,"class","w-16 text-left"),q(s,"class",u=tr("fa fa-heart cursor-pointer",{"fa-beat fa-beat-custom":r[17]})),q(w,"class","w-16 text-left"),Rt(w,"text-accent",r[17]),q(x,"class","fa fa-bolt cursor-pointer"),q(M,"class",E=tr("w-20 text-left",{"pointer-events-none opacity-50":!r[22]})),Rt(M,"text-accent",r[23]),q(L,"class",P=tr("flex",{"pointer-events-none opacity-75":!r[27]||r[18]||r[8]})),q(B,"class","flex justify-between text-gray-1"),q(v,"class","flex flex-col gap-2"),q(i,"class","flex min-w-0 flex-grow flex-col gap-2")},m(W,U){_e&&_e.m(W,U),F(W,e,U),F(W,t,U),ae(n,t,null),F(W,o,U),F(W,i,U),I(i,a),ae(f,a,null),I(a,c),ae(d,a,null),I(i,m),I(i,v),I(v,_),te&&te.m(_,null),I(_,k),X&&X.m(_,null),I(v,A),Ge[R].m(v,null),I(v,T),I(v,B),I(B,L),I(L,j),I(j,V),I(j,Z),I(j,Q),I(L,ne),I(L,w),I(w,s),I(w,h),I(w,p),I(L,g),I(L,M),I(M,x),I(M,y),I(M,b),I(B,H),I(B,ee),ae(Y,ee,null),re=!0,Me||(de=[ct(j,"click",Ss(r[45])),ct(w,"click",Ss(r[59])),ct(M,"click",Ss(r[48])),ct(ee,"click",Ss(r[57]))],Me=!0)},p(W,U){W[3]?_e&&(_e.d(1),_e=null):_e?_e.p(W,U):(_e=s2(W),_e.c(),_e.m(e.parentNode,e));const N={};U[0]&512&&(N.href=xn.person(W[9].pubkey)),U[0]&512|U[2]&134217728&&(N.$$scope={dirty:U,ctx:W}),n.$set(N);const G={};U[0]&512|U[2]&134217728&&(G.$$scope={dirty:U,ctx:W}),f.$set(G);const ke={};U[0]&1&&(ke.href="/"+br.neventEncode({id:W[0].id,relays:[W[0].seen_on]})),U[2]&134217728&&(ke.$$scope={dirty:U,ctx:W}),d.$set(ke),U[0]&9&&($=Nn(W[0])&&W[3]),$?te?(te.p(W,U),U[0]&9&&O(te,1)):(te=f2(W),te.c(),O(te,1),te.m(_,k)):te&&(tt(),z(te,1,1,()=>{te=null}),rt()),U[0]&9&&(S=ua(W[0])&&ua(W[0])!==Nn(W[0])&&W[3]),S?X?(X.p(W,U),U[0]&9&&O(X,1)):(X=l2(W),X.c(),O(X,1),X.m(_,null)):X&&(tt(),z(X,1,1,()=>{X=null}),rt());let ge=R;R=Pe(W),R===ge?Ge[R].p(W,U):(tt(),z(Ge[ge],1,1,()=>{Ge[ge]=null}),rt(),C=Ge[R],C?C.p(W,U):(C=Ge[R]=ye[R](W),C.c()),O(C,1),C.m(v,T)),(!re||U[0]&16777216)&&Mt(Q,W[24]),(!re||U[0]&131072&&u!==(u=tr("fa fa-heart cursor-pointer",{"fa-beat fa-beat-custom":W[17]})))&&q(s,"class",u),(!re||U[0]&67108864)&&Mt(p,W[26]),(!re||U[0]&131072)&&Rt(w,"text-accent",W[17]),(!re||U[0]&33554432)&&l!==(l=eg(W[25])+"")&&Mt(b,l),(!re||U[0]&4194304&&E!==(E=tr("w-20 text-left",{"pointer-events-none opacity-50":!W[22]})))&&q(M,"class",E),(!re||U[0]&12582912)&&Rt(M,"text-accent",W[23]),(!re||U[0]&134480128&&P!==(P=tr("flex",{"pointer-events-none opacity-75":!W[27]||W[18]||W[8]})))&&q(L,"class",P);const xe={};U[0]&128|U[2]&201326592&&(xe.$$scope={dirty:U,ctx:W}),Y.$set(xe)},i(W){re||(O(n.$$.fragment,W),O(f.$$.fragment,W),O(d.$$.fragment,W),O(te),O(X),O(C),O(Y.$$.fragment,W),re=!0)},o(W){z(n.$$.fragment,W),z(f.$$.fragment,W),z(d.$$.fragment,W),z(te),z(X),z(C),z(Y.$$.fragment,W),re=!1},d(W){_e&&_e.d(W),W&&D(e),W&&D(t),fe(n),W&&D(o),W&&D(i),fe(f),fe(d),te&&te.d(),X&&X.d(),Ge[R].d(),fe(Y),Me=!1,sn(de)}}}function u2(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q={onSubmit:r[47],$$slots:{addon:[lq]},$$scope:{ctx:r}};o=new hM({props:Q}),r[62](o);let ne=r[10]&&c2(r);function w(g){r[64](g)}let s={icon:"image",hideInput:!0,$$slots:{button:[uq]},$$scope:{ctx:r}};r[10]!==void 0&&(s.value=r[10]),_=new Ch({props:s}),Ct.push(()=>Er(_,"value",w));let u=r[12],h=[];for(let g=0;g<u.length;g+=1)h[g]=d2(i2(r,u,g));let p=null;return u.length||(p=h2()),{c(){e=K("div"),t=K("div"),n=K("div"),le(o.$$.fragment),i=oe(),ne&&ne.c(),a=oe(),f=K("div"),c=oe(),d=K("div"),m=K("div"),v=K("div"),le(_.$$.fragment),k=oe(),S=K("i"),A=oe(),R=K("div");for(let g=0;g<h.length;g+=1)h[g].c();p&&p.c(),C=oe(),T=K("div"),B=oe(),L=K("div"),j=K("span"),j.textContent=`Posting as @${er(Br(at.getPubkey()))}`,q(n,"class","bg-gray-7"),Rt(n,"rounded-b",r[12].length===0),q(f,"class",`h-px bg-${r[32]}`),q(S,"class","fa fa-at"),q(v,"class","flex cursor-pointer items-center gap-3"),q(m,"class","inline-block border-r border-solid border-gray-6 py-2 pl-1 pr-3"),q(T,"class","-mb-2"),q(d,"class","flex gap-2 rounded-b bg-gray-7 p-2 text-sm text-gray-3"),q(t,"class",`border border-${r[32]} rounded border-solid`),q(L,"class","flex justify-end gap-2 text-sm text-gray-5"),q(e,"class","note-reply relative z-10 flex flex-col gap-1")},m(g,M){F(g,e,M),I(e,t),I(t,n),ae(o,n,null),I(t,i),ne&&ne.m(t,null),I(t,a),I(t,f),I(t,c),I(t,d),I(d,m),I(m,v),ae(_,v,null),I(v,k),I(v,S),I(d,A),I(d,R);for(let x=0;x<h.length;x+=1)h[x].m(R,null);p&&p.m(R,null),I(R,C),I(R,T),I(e,B),I(e,L),I(L,j),r[66](e),Z=!0},p(g,M){const x={};M[2]&134217728&&(x.$$scope={dirty:M,ctx:g}),o.$set(x),(!Z||M[0]&4096)&&Rt(n,"rounded-b",g[12].length===0),g[10]?ne?(ne.p(g,M),M[0]&1024&&O(ne,1)):(ne=c2(g),ne.c(),O(ne,1),ne.m(t,a)):ne&&(tt(),z(ne,1,1,()=>{ne=null}),rt());const y={};if(M[2]&134217728&&(y.$$scope={dirty:M,ctx:g}),!$&&M[0]&1024&&($=!0,y.value=g[10],Sr(()=>$=!1)),_.$set(y),M[0]&4096|M[1]&32768){u=g[12];let l;for(l=0;l<u.length;l+=1){const b=i2(g,u,l);h[l]?h[l].p(b,M):(h[l]=d2(b),h[l].c(),h[l].m(R,C))}for(;l<h.length;l+=1)h[l].d(1);h.length=u.length,!u.length&&p?p.p(g,M):u.length?p&&(p.d(1),p=null):(p=h2(),p.c(),p.m(R,C))}},i(g){Z||(O(o.$$.fragment,g),O(ne),O(_.$$.fragment,g),Nt(()=>{V||(V=$i(e,Ep,{},!0)),V.run(1)}),Z=!0)},o(g){z(o.$$.fragment,g),z(ne),z(_.$$.fragment,g),V||(V=$i(e,Ep,{},!1)),V.run(0),Z=!1},d(g){g&&D(e),r[62](null),fe(o),ne&&ne.d(),fe(_),yn(h,g),p&&p.d(),r[66](null),g&&V&&V.end()}}}function lq(r){let e,t,n;return{c(){e=K("button"),e.innerHTML='<i class="fa fa-paper-plane fa-xl"></i>',q(e,"slot","addon"),q(e,"class","flex cursor-pointer flex-col justify-center gap-2 border-l border-solid border-gray-7 p-4 py-8 text-gray-3 transition-all hover:bg-accent")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[47]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function c2(r){let e,t,n;return t=new X0({props:{link:{type:"image",url:r[10]},onClose:r[63]}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"class","bg-gray-7 p-2")},m(o,i){F(o,e,i),ae(t,e,null),n=!0},p(o,i){const a={};i[0]&1024&&(a.link={type:"image",url:o[10]}),i[0]&1024&&(a.onClose=o[63]),t.$set(a)},i(o){n||(O(t.$$.fragment,o),n=!0)},o(o){z(t.$$.fragment,o),n=!1},d(o){o&&D(e),fe(t)}}}function uq(r){let e;return{c(){e=K("i"),q(e,"slot","button"),q(e,"class","fa fa-paperclip")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function h2(r){let e;return{c(){e=K("div"),e.textContent="No mentions",q(e,"class","text-gray-1 inline-block")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function d2(r){let e,t,n,o=er(Br(r[85]))+"",i,a,f;function c(){return r[65](r[85])}return{c(){e=K("div"),t=K("button"),n=oe(),i=Le(o),q(t,"class","fa fa-times cursor-pointer"),q(e,"class","mr-1 mb-1 inline-block rounded-full border border-solid border-gray-1 py-1 px-2")},m(d,m){F(d,e,m),I(e,t),I(e,n),I(e,i),a||(f=ct(t,"click",Ss(c)),a=!0)},p(d,m){r=d,m[0]&4096&&o!==(o=er(Br(r[85]))+"")&&Mt(i,o)},d(d){d&&D(e),a=!1,f()}}}function p2(r){let e,t,n,o,i,a;return n=new Ah({props:{triggerType:"mouseenter",$$slots:{tooltip:[pq],trigger:[dq]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("div"),le(n.$$.fragment),q(t,"class","absolute top-0 right-0 z-10 -mt-4 -mr-2 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border border-solid border-gray-7 bg-gray-8"),q(e,"class","relative -mt-4")},m(f,c){F(f,e,c),I(e,t),ae(n,t,null),o=!0,i||(a=ct(t,"click",r[67]),i=!0)},p(f,c){const d={};c[0]&65536|c[2]&134217728&&(d.$$scope={dirty:c,ctx:f}),n.$set(d)},i(f){o||(O(n.$$.fragment,f),o=!0)},o(f){z(n.$$.fragment,f),o=!1},d(f){f&&D(e),fe(n),i=!1,a()}}}function cq(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-xs fa-down-left-and-up-right-to-center")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function hq(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-xs fa-up-right-and-down-left-from-center")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function dq(r){let e;function t(i,a){return i[16]?hq:cq}let n=t(r),o=n(r);return{c(){e=K("div"),o.c(),q(e,"slot","trigger")},m(i,a){F(i,e,a),o.m(e,null)},p(i,a){n!==(n=t(i))&&(o.d(1),o=n(i),o&&(o.c(),o.m(e,null)))},d(i){i&&D(e),o.d()}}}function pq(r){let e,t=r[16]?"Show replies":"Hide replies",n;return{c(){e=K("div"),n=Le(t),q(e,"slot","tooltip")},m(o,i){F(o,e,i),I(e,n)},p(o,i){i[0]&65536&&t!==(t=o[16]?"Show replies":"Hide replies")&&Mt(n,t)},d(o){o&&D(e)}}}function m2(r){let e,t,n,o,i,a=[],f=new Map,c,d=!r[33]&&r[0].replies.length>r[14].length&&v2(r),m=r[14];const v=_=>_[82].id;for(let _=0;_<m.length;_+=1){let $=n2(r,m,_),k=v($);f.set(k,a[_]=g2(k,$))}return{c(){e=K("div"),t=K("div"),n=oe(),o=K("div"),d&&d.c(),i=oe();for(let _=0;_<a.length;_+=1)a[_].c();q(t,"class",`absolute w-px bg-${r[32]} z-10 -mt-4 ml-4 h-0`),q(o,"class","note-children relative ml-8 flex flex-col gap-4"),q(e,"class","relative")},m(_,$){F(_,e,$),I(e,t),r[68](t),I(e,n),I(e,o),d&&d.m(o,null),I(o,i);for(let k=0;k<a.length;k+=1)a[k].m(o,null);r[69](o),c=!0},p(_,$){!_[33]&&_[0].replies.length>_[14].length?d?d.p(_,$):(d=v2(_),d.c(),d.m(o,i)):d&&(d.d(1),d=null),$[0]&16438&&(m=_[14],tt(),a=Sn(a,$,v,1,_,m,f,o,kn,g2,null,n2),rt())},i(_){if(!c){for(let $=0;$<m.length;$+=1)O(a[$]);c=!0}},o(_){for(let $=0;$<a.length;$+=1)z(a[$]);c=!1},d(_){_&&D(e),r[68](null),d&&d.d();for(let $=0;$<a.length;$+=1)a[$].d();r[69](null)}}}function v2(r){let e,t,n,o=kt.exports.quantify(r[0].replies.length-r[14].length,"other reply","more replies")+"",i,a,f;return{c(){e=K("button"),t=K("i"),n=Le(`
            Show `),i=Le(o),q(t,"class","fa fa-up-down pr-2 text-sm"),q(e,"class","ml-5 cursor-pointer py-2 text-gray-1")},m(c,d){F(c,e,d),I(e,t),I(e,n),I(e,i),a||(f=ct(e,"click",r[40]),a=!0)},p(c,d){d[0]&16385&&o!==(o=kt.exports.quantify(c[0].replies.length-c[14].length,"other reply","more replies")+"")&&Mt(i,o)},d(c){c&&D(e),a=!1,f()}}}function g2(r,e){let t,n,o;return n=new vv({props:{showParent:!1,note:e[82],depth:e[1]-1,invertColors:e[5],anchorId:e[2],showContext:e[4]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a[0]&16384&&(f.note=e[82]),a[0]&2&&(f.depth=e[1]-1),a[0]&32&&(f.invertColors=e[5]),a[0]&4&&(f.anchorId=e[2]),a[0]&16&&(f.showContext=e[4]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function y2(r){let e,t;return e=new Lo({props:{onEscape:r[70],$$slots:{default:[vq]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&32768&&(i.onEscape=n[70]),o[0]&1|o[2]&134217728&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function mq(r){let e,t,n,o;return n=new ul({props:{theme:"black",showControls:!0,relay:{url:r[0].seen_on}}}),{c(){e=K("p"),e.textContent="This note was found on the relay below.",t=oe(),le(n.$$.fragment),q(e,"class","text-center")},m(i,a){F(i,e,a),F(i,t,a),ae(n,i,a),o=!0},p(i,a){const f={};a[0]&1&&(f.relay={url:i[0].seen_on}),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(e),i&&D(t),fe(n,i)}}}function vq(r){let e,t;return e=new At({props:{$$slots:{default:[mq]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&1|o[2]&134217728&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function b2(r){let e,t;return e=new Lo({props:{onEscape:r[50],$$slots:{default:[xq]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&576|o[2]&134217728&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function gq(r){let e,t,n,o,i,a,f,c,d,m,v;function _(A){r[71](A)}let $={placeholder:"Add an optional message"};r[6].message!==void 0&&($.value=r[6].message),e=new dv({props:$}),Ct.push(()=>Er(e,"value",_));function k(A){r[72](A)}let S={$$slots:{after:[wq],before:[_q]},$$scope:{ctx:r}};return r[6].amount!==void 0&&(S.value=r[6].amount),f=new Kr({props:S}),Ct.push(()=>Er(f,"value",k)),m=new $t({props:{loading:r[6].loading,type:"button-accent",$$slots:{default:[Mq]},$$scope:{ctx:r}}}),m.$on("click",r[49]),{c(){le(e.$$.fragment),n=oe(),o=K("div"),i=K("label"),i.textContent="Custom amount:",a=oe(),le(f.$$.fragment),d=oe(),le(m.$$.fragment),q(i,"class","flex-grow"),q(o,"class","flex items-center gap-2")},m(A,R){ae(e,A,R),F(A,n,R),F(A,o,R),I(o,i),I(o,a),ae(f,o,null),I(o,d),ae(m,o,null),v=!0},p(A,R){const C={};!t&&R[0]&64&&(t=!0,C.value=A[6].message,Sr(()=>t=!1)),e.$set(C);const T={};R[2]&134217728&&(T.$$scope={dirty:R,ctx:A}),!c&&R[0]&64&&(c=!0,T.value=A[6].amount,Sr(()=>c=!1)),f.$set(T);const B={};R[0]&64&&(B.loading=A[6].loading),R[2]&134217728&&(B.$$scope={dirty:R,ctx:A}),m.$set(B)},i(A){v||(O(e.$$.fragment,A),O(f.$$.fragment,A),O(m.$$.fragment,A),v=!0)},o(A){z(e.$$.fragment,A),z(f.$$.fragment,A),z(m.$$.fragment,A),v=!1},d(A){fe(e,A),A&&D(n),A&&D(o),fe(f),fe(m)}}}function yq(r){let e,t,n,o,i,a;return e=new cM({props:{code:r[6].invoice}}),{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.textContent="Copy or scan using a lightning wallet to pay your zap.",o=oe(),i=K("div"),i.innerHTML=`<i class="fa fa-circle-notch fa-spin"></i>
            Waiting for confirmation...`,q(n,"class","text-center text-gray-1"),q(i,"class","flex items-center justify-center gap-2 text-gray-1")},m(f,c){ae(e,f,c),F(f,t,c),F(f,n,c),F(f,o,c),F(f,i,c),a=!0},p(f,c){const d={};c[0]&64&&(d.code=f[6].invoice),e.$set(d)},i(f){a||(O(e.$$.fragment,f),a=!0)},o(f){z(e.$$.fragment,f),a=!1},d(f){fe(e,f),f&&D(t),f&&D(n),f&&D(o),f&&D(i)}}}function bq(r){let e;return{c(){e=K("div"),e.innerHTML=`<i class="fa fa-champagne-glasses"></i> 
            <p>Success! Zap confirmed.</p>`,q(e,"class","flex items-center justify-center gap-2 text-gray-1")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function _q(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-bolt")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function wq(r){let e;return{c(){e=K("span"),e.textContent="sats",q(e,"slot","after"),q(e,"class","-mt-1")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function Mq(r){let e;return{c(){e=Le("Zap!")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function $q(r){let e,t,n,o,i,a=er(r[9])+"",f,c,d,m,v,_;const $=[bq,yq,gq],k=[];function S(A,R){return A[6].confirmed?0:A[6].invoice?1:2}return d=S(r),m=k[d]=$[d](r),{c(){e=K("div"),t=K("h1"),t.textContent="Send a zap",n=oe(),o=K("p"),i=Le("to "),f=Le(a),c=oe(),m.c(),v=dt(),q(t,"class","staatliches text-2xl"),q(e,"class","text-center")},m(A,R){F(A,e,R),I(e,t),I(e,n),I(e,o),I(o,i),I(o,f),F(A,c,R),k[d].m(A,R),F(A,v,R),_=!0},p(A,R){(!_||R[0]&512)&&a!==(a=er(A[9])+"")&&Mt(f,a);let C=d;d=S(A),d===C?k[d].p(A,R):(tt(),z(k[C],1,1,()=>{k[C]=null}),rt(),m=k[d],m?m.p(A,R):(m=k[d]=$[d](A),m.c()),O(m,1),m.m(v.parentNode,v))},i(A){_||(O(m),_=!0)},o(A){z(m),_=!1},d(A){A&&D(e),A&&D(c),k[d].d(A),A&&D(v)}}}function xq(r){let e,t;return e=new At({props:{size:"lg",$$slots:{default:[$q]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&576|o[2]&134217728&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kq(r){let e,t,n,o,i,a=r[9]&&o2(r);return{c(){e=oe(),a&&a.c(),t=dt()},m(f,c){F(f,e,c),a&&a.m(f,c),F(f,t,c),n=!0,o||(i=ct(document.body,"click",r[51]),o=!0)},p(f,c){f[9]?a?(a.p(f,c),c[0]&512&&O(a,1)):(a=o2(f),a.c(),O(a,1),a.m(t.parentNode,t)):a&&(tt(),z(a,1,1,()=>{a=null}),rt())},i(f){n||(O(a),n=!0)},o(f){z(a),n=!1},d(f){f&&D(e),a&&a.d(f),f&&D(t),o=!1,i()}}}function Sq(r,e,t){let n,o,i,a,f,c,d,m,v,{note:_}=e,{depth:$=0}=e,{anchorId:k=null}=e,{showParent:S=!0}=e,{showContext:A=!1}=e,{invertColors:R=!1}=e;const C=()=>gf([at.getPubkey()],$o(Pr.from(_).type("p").values().all().concat(_.pubkey)));let T=null,B=null,L=null,j=C(),V=null,Z=[],Q=!1,ne=!1;const{profile:w,canPublish:s,mutes:u}=at;_t(r,w,pe=>t(55,i=pe)),_t(r,s,pe=>t(27,v=pe)),_t(r,u,pe=>t(56,m=pe));const h=Os(_.created_at),p=R?"gray-6":"gray-7",g=k===_.id,M=!k||!g,x=on("people",()=>Br(_.pubkey));_t(r,x,pe=>t(9,o=pe));let y,l,b,E,P,H,ee,Y,re,Me,de=!1;const _e=(pe,et)=>Ce=>pe+Math.round((et-pe)*Ce),te=Dl(0,{interpolate:_e});_t(r,te,pe=>t(26,d=pe));const X=Dl(0,{interpolate:_e});_t(r,X,pe=>t(73,c=pe));const ye=Dl(0,{interpolate:_e});_t(r,ye,pe=>t(25,f=pe));const Ge=Dl(0,{interpolate:_e});_t(r,Ge,pe=>t(24,a=pe));const Pe=pe=>{const et=pe.target;M&&!["I"].includes(et.tagName)&&!et.closest("a")&&Xt.set({type:"note/detail",note:_})},W=async()=>{const pe=o1(_);Xt.set({type:"note/detail",note:{id:Nn(_)},relays:pe})},U=async()=>{const pe=o1(_);Xt.set({type:"note/detail",note:{id:ua(_)},relays:pe})},N=async()=>{at.addMute("e",_.id)},G=async()=>{at.removeMute(_.id)},ke=async pe=>{const et=wc(_),[Ce]=await jn.createReaction(_,pe).publish(et);pe==="+"&&t(52,y=y.concat(Ce)),pe==="-"&&t(53,l=l.concat(Ce))},ge=pe=>{jn.deleteEvent([pe.id]).publish(wc(_)),pe.content==="+"&&t(52,y=wi(hn("pubkey",i.pubkey),y)),pe.content==="-"&&t(53,l=wi(hn("pubkey",i.pubkey),l))},xe=()=>{t(11,L=L||!0)},ot=pe=>{t(12,j=gf([pe],j))},Ie=()=>{t(11,L=null),t(12,j=C())},je=async()=>{let{content:pe,mentions:et,topics:Ce}=L.parse();if(B&&(pe=(pe+`
`+B).trim()),pe){et=$o(et.concat(j));const He=wc(_),mt=jn.createReply(_,pe,et,Ce),[Ue,Ve]=await uu(He,mt);Ve.then(({succeeded:bt})=>{bt.size>0&&en.show("info",{text:"Your note has been created!",link:{text:"View",href:"/"+br.neventEncode({id:Ue.id,relays:Ar("url",He.slice(0,3))})}})}),Ie()}},ht=async()=>{t(6,T={amount:at.getSetting("defaultZap"),message:"",invoice:null,loading:!1,startedAt:dn(),confirmed:!1})},De=async()=>{t(6,T.loading=!0,T);const{zapper:pe,lnurl:et}=o,Ce=T.amount*1e3,He=wc(_),mt=Ar("url",He),Ue=jn.requestZap(mt,T.message,_.pubkey,_.id,Ce,et),Ve=encodeURI(JSON.stringify(await mn.sign(Ue.event))),bt=await Kh(`${pe.callback}?amount=${Ce}&nostr=${Ve}&lnurl=${et}`);if(!T)return;t(6,T.invoice=bt.pr,T),t(6,T.loading=!1,T);const{webln:$e}=window;$e&&(await $e.enable(),$e.sendPayment(T.invoice)),t(6,T.sub=Cr.listen({relays:He,filter:{kinds:[9735],authors:[pe.nostrPubkey],"#p":[o.pubkey],since:T.startedAt},onChunk:Se=>{t(0,_.zaps=_.zaps.concat(Se),_),t(6,T.confirmed=!0,T),setTimeout(ze,1e3)}}),T)},ze=()=>{var pe;T&&((pe=T.sub)==null||pe.then(et=>et.unsub()),t(6,T=null))},xt=()=>{const pe=br.neventEncode({id:_.id,relays:[_.seen_on]});ju("nostr:"+pe),en.show("info","Copied to clipboard!")},qe=()=>{const pe=br.neventEncode({id:_.id,relays:[_.seen_on]});Xt.set({type:"note/create",nevent:pe})},Ye=pe=>{const et=pe.target;V&&!V.contains(et)&&Ie()},St=()=>{const pe=et=>(et==null?void 0:et.getBoundingClientRect().height)||0;if(ee&&Y){const et=Yr([].slice.apply(ee.children).filter(Ce=>Ce.matches(".note")));if(et){const Ce=66+pe(ee)-pe(et)-pe(et.nextElementSibling)-(et.nextElementSibling?16:0);t(19,H.style=`height: ${Ce-21}px`,H)}}};jr(()=>{const pe=setInterval(St,300);return()=>{clearInterval(pe),ze()}});function Ke(pe){Si.call(this,r,pe)}const we=()=>ge(P),nt=()=>E?ge(E):ke("+"),Ne=pe=>pe.hide();function Re(pe){Ct[pe?"unshift":"push"](()=>{Y=pe,t(21,Y)})}function ve(pe){Ct[pe?"unshift":"push"](()=>{L=pe,t(11,L)})}const ie=()=>{t(10,B=null)};function se(pe){B=pe,t(10,B)}const Ee=pe=>ot(pe);function ce(pe){Ct[pe?"unshift":"push"](()=>{V=pe,t(13,V)})}const be=()=>{t(16,ne=!ne)};function Qe(pe){Ct[pe?"unshift":"push"](()=>{H=pe,t(19,H)})}function Ae(pe){Ct[pe?"unshift":"push"](()=>{ee=pe,t(20,ee)})}const Te=()=>{t(15,Q=!1)};function it(pe){r.$$.not_equal(T.message,pe)&&(T.message=pe,t(6,T))}function Oe(pe){r.$$.not_equal(T.amount,pe)&&(T.amount=pe,t(6,T))}return r.$$set=pe=>{"note"in pe&&t(0,_=pe.note),"depth"in pe&&t(1,$=pe.depth),"anchorId"in pe&&t(2,k=pe.anchorId),"showParent"in pe&&t(3,S=pe.showParent),"showContext"in pe&&t(4,A=pe.showContext),"invertColors"in pe&&t(5,R=pe.invertColors)},r.$$.update=()=>{r.$$.dirty[0]&1|r.$$.dirty[1]&33554432&&t(8,de=xi(pe=>pe[1]===_.id,m)),r.$$.dirty[0]&1&&t(52,y=_.reactions.filter(pe=>Fm(pe.content))),r.$$.dirty[0]&1&&t(53,l=_.reactions.filter(tf({content:"-"}))),r.$$.dirty[0]&513&&t(54,b=_.zaps.map(pe=>{const et=Pr.from(pe).asMeta();return js(()=>({...pe,invoiceAmount:zU(et.bolt11),request:JSON.parse(et.description)}))}).filter(pe=>{var mt;if(!pe||pe.request.pubkey===o.pubkey)return!1;const{invoiceAmount:et,request:Ce}=pe,He=Pr.from(Ce).asMeta();return!(He.amount&&parseInt(He.amount)!==et||He.lnurl&&He.lnurl!==(o==null?void 0:o.lnurl)||((mt=o.zapper)==null?void 0:mt.nostrPubkey)!==pe.pubkey)})),r.$$.dirty[1]&18874368&&t(17,E=xi(tf({pubkey:i==null?void 0:i.pubkey}),y)),r.$$.dirty[1]&20971520&&t(18,P=xi(tf({pubkey:i==null?void 0:i.pubkey}),l)),r.$$.dirty[1]&25165824&&t(23,n=xi(pe=>pe.request.pubkey===(i==null?void 0:i.pubkey),b)),r.$$.dirty[1]&2097152&&nc(te,d=y.length,d),r.$$.dirty[1]&4194304&&nc(X,c=l.length,c),r.$$.dirty[1]&8388608&&nc(ye,f=Jw(b.map(pe=>pe.invoiceAmount))/1e3,f),r.$$.dirty[0]&1&&nc(Ge,a=_.replies.length,a),r.$$.dirty[0]&17&&t(14,Z=_.replies.filter(pe=>A?!0:!pe.isContext)),r.$$.dirty[0]&512&&t(22,re=(o==null?void 0:o.zapper)&&(o==null?void 0:o.pubkey)!==at.getPubkey()),r.$$.dirty[0]&384&&(t(7,Me=[]),Tr.forceUrls.length===0&&Me.push({label:"Relays",icon:"server",onClick:()=>{t(15,Q=!0)}}),Me.push({label:"Permalink",icon:"link",onClick:xt}),Me.push({label:"Quote",icon:"quote-left",onClick:qe}),de?Me.push({label:"Unmute",icon:"microphone",onClick:G}):Me.push({label:"Mute",icon:"microphone-slash",onClick:N}),Me.push({label:"Flag",icon:"flag",onClick:()=>ke("-")}))},[_,$,k,S,A,R,T,Me,de,o,B,L,j,V,Z,Q,ne,E,P,H,ee,Y,re,n,a,f,d,v,w,s,u,h,p,g,M,x,te,X,ye,Ge,Pe,W,U,ke,ge,xe,ot,je,ht,De,ze,Ye,y,l,b,i,m,Ke,we,nt,Ne,Re,ve,ie,se,Ee,ce,be,Qe,Ae,Te,it,Oe]}class vv extends ut{constructor(e){super(),lt(this,e,Sq,kq,ft,{note:0,depth:1,anchorId:2,showParent:3,showContext:4,invertColors:5},null,[-1,-1,-1])}}function Eq(r){let e,t,n,o;return t=new vv({props:{showContext:!0,depth:6,anchorId:r[0].id,note:t1(r[0]),invertColors:r[1]}}),{c(){e=K("div"),le(t.$$.fragment),q(e,"class","m-auto flex w-full max-w-2xl flex-col gap-4 p-4")},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,a){const f={};a&1&&(f.anchorId=i[0].id),a&1&&(f.note=t1(i[0])),a&2&&(f.invertColors=i[1]),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function Aq(r){let e,t,n,o;return t=new At({props:{size:"lg",class:"text-center",$$slots:{default:[Bq]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,a){const f={};a&32&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function Bq(r){let e;return{c(){e=Le("Sorry, we weren't able to find this note.")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function _2(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Rq(r){let e,t,n,o,i;const a=[Aq,Eq],f=[];function c(m,v){return!m[3]&&!m[2]?0:m[0].pubkey?1:-1}~(e=c(r))&&(t=f[e]=a[e](r));let d=r[3]&&_2();return{c(){t&&t.c(),n=oe(),d&&d.c(),o=dt()},m(m,v){~e&&f[e].m(m,v),F(m,n,v),d&&d.m(m,v),F(m,o,v),i=!0},p(m,[v]){let _=e;e=c(m),e===_?~e&&f[e].p(m,v):(t&&(tt(),z(f[_],1,1,()=>{f[_]=null}),rt()),~e?(t=f[e],t?t.p(m,v):(t=f[e]=a[e](m),t.c()),O(t,1),t.m(n.parentNode,n)):t=null),m[3]?d?v&8&&O(d,1):(d=_2(),d.c(),O(d,1),d.m(o.parentNode,o)):d&&(tt(),z(d,1,1,()=>{d=null}),rt())},i(m){i||(O(t),O(d),i=!0)},o(m){z(t),z(d),i=!1},d(m){~e&&f[e].d(m),m&&D(n),d&&d.d(m),m&&D(o)}}}function Cq(r,e,t){let{note:n}=e,{relays:o=[]}=e,{invertColors:i=!1}=e,a=!1,f=!0;return jr(async()=>{n.pubkey?t(2,a=!0):await Cr.load({relays:An(o),filter:{kinds:[1],ids:[n.id]},onChunk:c=>{t(2,a=!0),t(0,n=kt.exports.first(c))}}),n&&(Ts("NoteDetail",br.noteEncode(n.id),n),Cr.streamContext({depth:6,notes:[n],onChunk:c=>{t(0,n=kt.exports.first(Cr.applyContext([n],at.applyMutes(c))))}})),t(3,f=!1)}),r.$$set=c=>{"note"in c&&t(0,n=c.note),"relays"in c&&t(4,o=c.relays),"invertColors"in c&&t(1,i=c.invertColors)},[n,i,a,f,o]}class gv extends ut{constructor(e){super(),lt(this,e,Cq,Rq,ft,{note:0,relays:4,invertColors:1})}}function w2(r,e,t){const n=r.slice();n[5]=e[t];const o=n[3](n[5]);return n[6]=o.title,n[7]=o.badge,n}function M2(r){let e,t=r[7]+"",n;return{c(){e=K("div"),n=Le(t),q(e,"class","h-6 rounded-full bg-gray-6 px-2")},m(o,i){F(o,e,i),I(e,n)},p(o,i){i&9&&t!==(t=o[7]+"")&&Mt(n,t)},d(o){o&&D(e)}}}function $2(r){let e,t,n=r[6]+"",o,i,a,f,c,d=r[7]&&M2(r);function m(){return r[4](r[5])}return{c(){e=K("button"),t=K("div"),o=Le(n),i=oe(),d&&d.c(),a=oe(),q(e,"class","flex cursor-pointer gap-2 border-solid border-gray-6 px-8 py-4 hover:border-b"),Rt(e,"border-b",r[1]===r[5])},m(v,_){F(v,e,_),I(e,t),I(t,o),I(e,i),d&&d.m(e,null),I(e,a),f||(c=ct(e,"click",m),f=!0)},p(v,_){r=v,_&9&&n!==(n=r[6]+"")&&Mt(o,n),r[7]?d?d.p(r,_):(d=M2(r),d.c(),d.m(e,a)):d&&(d.d(1),d=null),_&3&&Rt(e,"border-b",r[1]===r[5])},d(v){v&&D(e),d&&d.d(),f=!1,c()}}}function Pq(r){let e,t,n=r[0],o=[];for(let i=0;i<n.length;i+=1)o[i]=$2(w2(r,n,i));return{c(){e=K("div");for(let i=0;i<o.length;i+=1)o[i].c();q(e,"class","flex overflow-auto border-b border-solid border-gray-7 pt-2")},m(i,a){F(i,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null)},p(i,[a]){if(a&15){n=i[0];let f;for(f=0;f<n.length;f+=1){const c=w2(i,n,f);o[f]?o[f].p(c,a):(o[f]=$2(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=n.length}},i(i){t||Nt(()=>{t=_r(e,Qt,{y:20}),t.start()})},o:Fe,d(i){i&&D(e),yn(o,i)}}}function Tq(r,e,t){let{tabs:n}=e,{activeTab:o}=e,{setActiveTab:i}=e,{getDisplay:a=c=>({title:kt.exports.toTitle(c),badge:null})}=e;const f=c=>i(c);return r.$$set=c=>{"tabs"in c&&t(0,n=c.tabs),"activeTab"in c&&t(1,o=c.activeTab),"setActiveTab"in c&&t(2,i=c.setActiveTab),"getDisplay"in c&&t(3,a=c.getDisplay)},[n,o,i,a,f]}class yv extends ut{constructor(e){super(),lt(this,e,Tq,Pq,ft,{tabs:0,activeTab:1,setActiveTab:2,getDisplay:3})}}function x2(r){let e,t,n,o;return{c(){e=K("div"),t=K("button"),t.innerHTML='<span class="fa-sold fa-plus fa-2xl"></span>',q(t,"class","color-white flex h-16 w-16 items-center justify-center rounded-full border border-accent-light bg-accent text-white shadow-2xl transition-all hover:bg-accent-light"),q(e,"class","fixed bottom-0 right-0 z-10 m-8")},m(i,a){F(i,e,a),I(e,t),n||(o=ct(t,"click",r[3]),n=!0)},p:Fe,d(i){i&&D(e),n=!1,o()}}}function Oq(r){let e,t=r[1]&&x2(r);return{c(){t&&t.c(),e=dt()},m(n,o){t&&t.m(n,o),F(n,e,o)},p(n,[o]){n[1]?t?t.p(n,o):(t=x2(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Fe,o:Fe,d(n){t&&t.d(n),n&&D(e)}}}function Iq(r,e,t){let n,{pubkey:o=null}=e;const{canPublish:i}=at;_t(r,i,f=>t(1,n=f));const a=()=>Xt.set({type:"note/create",pubkey:o});return r.$$set=f=>{"pubkey"in f&&t(0,o=f.pubkey)},[o,n,i,a]}class dM extends ut{constructor(e){super(),lt(this,e,Iq,Oq,ft,{pubkey:0})}}function k2(r,e,t){const n=r.slice();return n[13]=e[t],n}function S2(r){let e,t,n,o=kt.exports.quantify(r[1].length,"new note")+"",i,a,f,c;return{c(){e=K("div"),t=K("button"),n=Le("Load "),i=Le(o),q(t,"class","pointer-events-auto cursor-pointer rounded-full border border-solid border-accent-light bg-accent py-2 px-4 text-center text-white shadow-lg transition-colors hover:bg-accent-light"),q(e,"class","pointer-events-none fixed left-0 top-0 z-10 mt-20 flex w-full justify-center")},m(d,m){F(d,e,m),I(e,t),I(t,n),I(t,i),f||(c=ct(t,"click",r[2]),f=!0)},p(d,m){m&2&&o!==(o=kt.exports.quantify(d[1].length,"new note")+"")&&Mt(i,o)},i(d){a||Nt(()=>{a=_r(t,Qt,{y:20}),a.start()})},o:Fe,d(d){d&&D(e),f=!1,c()}}}function E2(r,e){let t,n,o;return n=new vv({props:{depth:2,note:e[13]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&1&&(f.note=e[13]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function Lq(r){let e,t,n=[],o=new Map,i,a,f,c=r[1].length>0&&S2(r),d=r[0];const m=v=>v[13].id;for(let v=0;v<d.length;v+=1){let _=k2(r,d,v),$=m(_);o.set($,n[v]=E2($,_))}return a=new ei({}),{c(){c&&c.c(),e=oe(),t=K("div");for(let v=0;v<n.length;v+=1)n[v].c();i=oe(),le(a.$$.fragment),q(t,"class","flex flex-col gap-4")},m(v,_){c&&c.m(v,_),F(v,e,_),F(v,t,_);for(let $=0;$<n.length;$+=1)n[$].m(t,null);F(v,i,_),ae(a,v,_),f=!0},p(v,_){v[1].length>0?c?(c.p(v,_),_&2&&O(c,1)):(c=S2(v),c.c(),O(c,1),c.m(e.parentNode,e)):c&&(c.d(1),c=null),_&1&&(d=v[0],tt(),n=Sn(n,_,m,1,v,d,o,t,kn,E2,null,k2),rt())},i(v){if(!f){O(c);for(let _=0;_<d.length;_+=1)O(n[_]);O(a.$$.fragment,v),f=!0}},o(v){for(let _=0;_<n.length;_+=1)z(n[_]);z(a.$$.fragment,v),f=!1},d(v){c&&c.d(v),v&&D(e),v&&D(t);for(let _=0;_<n.length;_+=1)n[_].d();v&&D(i),fe(a,v)}}}function Nq(r){let e,t;return e=new At({props:{size:"inherit",class:"pt-6",$$slots:{default:[Lq]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&65539&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}const A2=100;function Dq(r,e,t){let n;_t(r,Xt,A=>t(8,n=A));let{filter:o}=e,{relays:i=[]}=e,{delta:a=Hs(6,"hours")}=e,{shouldDisplay:f=I7(!0)}=e,{parentsTimeout:c=500}=e,d=[],m=[];const v=dn(),_=new v3({delta:a}),$=new Set,k=()=>{t(0,d=Vi(Gr("id"),m.concat(d).slice(0,A2))),t(1,m=[]),document.body.scrollIntoView({behavior:"smooth"})},S=async A=>{const R=at.applyMutes(A.filter(Z=>!$.has(Z.id)&&f(Z))),C=_.prune(R);for(const Z of C)$.add(Z.id);const T=await Cr.loadParents(R,{timeout:c});for(const Z of T)$.add(Z.id);const B=Vi(Gr("id"),R.filter(hn("kind",1)).concat(T).map(t1));Cr.streamContext({depth:2,notes:B.filter(hn("kind",1)),onChunk:Z=>{Z=at.applyMutes(Z),t(1,m=Cr.applyContext(m,Z)),t(0,d=Cr.applyContext(d,Z))}});const L=tn(Z=>-Z.created_at,aD(B)),[j,V]=_x(Z=>Z.created_at<v,L);t(1,m=V.concat(m).slice(0,A2)),t(0,d=Vi(Gr("id"),d.concat(j)))};return jr(()=>{const A=Cr.listen({relays:i,filter:Py(o,{since:v}),onChunk:S}),R=C1(async()=>{n||(await Cr.load({relays:i,filter:Py(o,_.getFilter()),onChunk:S}),_.update(d))});return()=>{R.stop(),A.then(C=>C==null?void 0:C.unsub())}}),r.$$set=A=>{"filter"in A&&t(3,o=A.filter),"relays"in A&&t(4,i=A.relays),"delta"in A&&t(5,a=A.delta),"shouldDisplay"in A&&t(6,f=A.shouldDisplay),"parentsTimeout"in A&&t(7,c=A.parentsTimeout)},[d,m,k,o,i,a,f,c]}class ec extends ut{constructor(e){super(),lt(this,e,Dq,Nq,ft,{filter:3,relays:4,delta:5,shouldDisplay:6,parentsTimeout:7})}}function Fq(r){let e,t;return e=new ec({props:{relays:r[0],filter:r[1],parentsTimeout:3e3,delta:Hs(1,"days")}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function Uq(r,e,t){let{pubkey:n}=e;const o=An(Ji(n)),i={kinds:[1],authors:[n]};return r.$$set=a=>{"pubkey"in a&&t(2,n=a.pubkey)},[o,i,n]}class Hq extends ut{constructor(e){super(),lt(this,e,Uq,Fq,ft,{pubkey:2})}}function jq(r){let e,t;return e=new ec({props:{relays:r[0],filter:r[1],shouldDisplay:r[2],parentsTimeout:1e4,delta:Hs(1,"days")}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function zq(r,e,t){let{pubkey:n}=e;const o=An(Ji(n)),i={kinds:[7],authors:[n]},a=f=>Fm(f.content);return r.$$set=f=>{"pubkey"in f&&t(3,n=f.pubkey)},[o,i,a,n]}class qq extends ut{constructor(e){super(),lt(this,e,zq,jq,ft,{pubkey:3})}}function B2(r,e,t){const n=r.slice();return n[1]=e[t],n}function Kq(r){let e=[],t=new Map,n,o,i=r[0];const a=f=>f[1].url;for(let f=0;f<i.length;f+=1){let c=B2(r,i,f),d=a(c);t.set(d,e[f]=C2(d,c))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();n=dt()},m(f,c){for(let d=0;d<e.length;d+=1)e[d].m(f,c);F(f,n,c),o=!0},p(f,c){c&1&&(i=f[0],tt(),e=Sn(e,c,a,1,f,i,t,n.parentNode,kn,C2,n,B2),rt())},i(f){if(!o){for(let c=0;c<i.length;c+=1)O(e[c]);o=!0}},o(f){for(let c=0;c<e.length;c+=1)z(e[c]);o=!1},d(f){for(let c=0;c<e.length;c+=1)e[c].d(f);f&&D(n)}}}function Wq(r){let e;return{c(){e=K("div"),e.textContent="No relays found",q(e,"class","pt-8 text-center")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function R2(r){let e,t;return e=new ul({props:{relay:r[1]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.relay=n[1]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function C2(r,e){let t,n,o,i=e[1].write!=="!"&&R2(e);return{key:r,first:null,c(){t=dt(),i&&i.c(),n=dt(),this.first=t},m(a,f){F(a,t,f),i&&i.m(a,f),F(a,n,f),o=!0},p(a,f){e=a,e[1].write!=="!"?i?(i.p(e,f),f&1&&O(i,1)):(i=R2(e),i.c(),O(i,1),i.m(n.parentNode,n)):i&&(tt(),z(i,1,1,()=>{i=null}),rt())},i(a){o||(O(i),o=!0)},o(a){z(i),o=!1},d(a){a&&D(t),i&&i.d(a),a&&D(n)}}}function Vq(r){let e,t,n,o,i,a;const f=[Wq,Kq],c=[];function d(m,v){return m[0].length===0?0:1}return n=d(r),o=c[n]=f[n](r),{c(){e=K("p"),e.textContent=`Below are the relays this user publishes to. Join one or more to make sure you never miss
      their updates.`,t=oe(),o.c(),i=dt()},m(m,v){F(m,e,v),F(m,t,v),c[n].m(m,v),F(m,i,v),a=!0},p(m,v){let _=n;n=d(m),n===_?c[n].p(m,v):(tt(),z(c[_],1,1,()=>{c[_]=null}),rt(),o=c[n],o?o.p(m,v):(o=c[n]=f[n](m),o.c()),O(o,1),o.m(i.parentNode,i))},i(m){a||(O(o),a=!0)},o(m){z(o),a=!1},d(m){m&&D(e),m&&D(t),c[n].d(m),m&&D(i)}}}function Zq(r){let e,t,n,o;return t=new At({props:{$$slots:{default:[Vq]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,[a]){const f={};a&17&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function Gq(r,e,t){let{relays:n}=e;return r.$$set=o=>{"relays"in o&&t(0,n=o.relays)},[n]}class Yq extends ut{constructor(e){super(),lt(this,e,Gq,Zq,ft,{relays:0})}}function P2(r,e,t){const n=r.slice();return n[35]=e[t].onClick,n[36]=e[t].href,n[37]=e[t].label,n[38]=e[t].icon,n[40]=t,n}function T2(r){let e,t,n,o,i=Yr(r[4].verified_as.split("@"))+"",a;return{c(){e=K("div"),t=K("i"),n=oe(),o=K("span"),a=Le(i),q(t,"class","fa fa-user-check text-accent"),q(o,"class","text-gray-1"),q(e,"class","flex gap-1 text-sm")},m(f,c){F(f,e,c),I(e,t),I(e,n),I(e,o),I(o,a)},p(f,c){c[0]&16&&i!==(i=Yr(f[4].verified_as.split("@"))+"")&&Mt(a,i)},d(f){f&&D(e)}}}function Jq(r){let e,t;return{c(){e=K("i"),q(e,"class",t=`fa fa-${r[38]}`)},m(n,o){F(n,e,o)},p(n,o){o[0]&4&&t!==(t=`fa fa-${n[38]}`)&&q(e,"class",t)},d(n){n&&D(e)}}}function O2(r){let e,t,n=r[37]+"",o,i,a,f,c,d,m,v,_;return a=new $t({props:{type:"button-circle",$$slots:{default:[Jq]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("div"),o=Le(n),i=oe(),le(a.$$.fragment),f=oe(),q(t,"class","text-gray-1"),q(e,"class","z-10 flex cursor-pointer items-center justify-end gap-2")},m($,k){F($,e,k),I(e,t),I(t,o),I(e,i),ae(a,e,null),I(e,f),m=!0,v||(_=ct(e,"click",function(){Qr(r[35])&&r[35].apply(this,arguments)}),v=!0)},p($,k){r=$,(!m||k[0]&4)&&n!==(n=r[37]+"")&&Mt(o,n);const S={};k[0]&4|k[1]&1024&&(S.$$scope={dirty:k,ctx:r}),a.$set(S)},i($){m||(O(a.$$.fragment,$),$&&Nt(()=>{d&&d.end(1),c=_r(e,Qt,{y:20,delay:r[40]*30}),c.start()}),m=!0)},o($){z(a.$$.fragment,$),c&&c.invalidate(),$&&(d=a$(e,Qt,{y:20,delay:(r[2].length-r[40]-1)*30})),m=!1},d($){$&&D(e),fe(a),$&&d&&d.end(),v=!1,_()}}}function I2(r){let e,t,n,o=r[4].petnames.length+"",i,a,f,c,d,m=Ya.format(r[8])+"",v,_,$,k,S;return{c(){e=K("div"),t=K("button"),n=K("strong"),i=Le(o),a=Le(" following"),f=oe(),c=K("button"),d=K("strong"),v=Le(m),_=Le(" followers"),q(e,"class","flex gap-8")},m(A,R){F(A,e,R),I(e,t),I(t,n),I(n,i),I(t,a),I(e,f),I(e,c),I(c,d),I(d,v),I(c,_),k||(S=[ct(t,"click",r[17]),ct(c,"click",r[18])],k=!0)},p(A,R){R[0]&16&&o!==(o=A[4].petnames.length+"")&&Mt(i,o),R[0]&256&&m!==(m=Ya.format(A[8])+"")&&Mt(v,m)},i(A){$||Nt(()=>{$=_r(e,Qt,{y:20}),$.start()})},o:Fe,d(A){A&&D(e),k=!1,sn(S)}}}function Xq(r){let e,t,n,o;const i=[nK,rK,tK],a=[];function f(c,d){return c[3].length>0?0:c[5]?1:2}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function Qq(r){let e,t;return e=new qq({props:{pubkey:r[13]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function eK(r){let e,t;return e=new Hq({props:{pubkey:r[13]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function tK(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[iK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[1]&1024&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function rK(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function nK(r){let e,t;return e=new Yq({props:{relays:r[3]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o[0]&8&&(i.relays=n[3]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function iK(r){let e;return{c(){e=Le("Unable to show network for this person.")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function oK(r){var H;let e,t,n,o,i,a,f,c,d=er(r[4])+"",m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q,ne,w,s,u,h,p;t=new No({props:{person:r[4],size:16,class:"sm:h-32 sm:w-32"}});let g=r[4].verified_as&&T2(r),M=r[2],x=[];for(let ee=0;ee<M.length;ee+=1)x[ee]=O2(P2(r,M,ee));const y=ee=>z(x[ee],1,1,()=>{x[ee]=null});L=new pv({props:{person:r[4]}});let l=((H=r[4])==null?void 0:H.petnames)&&I2(r);Z=new yv({props:{tabs:r[12],activeTab:r[0],setActiveTab:r[16]}});const b=[eK,Qq,Xq],E=[];function P(ee,Y){return ee[0]==="notes"?0:ee[0]==="likes"?1:ee[0]==="relays"?2:-1}return~(ne=P(r))&&(w=E[ne]=b[ne](r)),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("div"),i=K("div"),a=K("div"),f=K("div"),c=K("h1"),m=Le(d),v=oe(),g&&g.c(),_=oe(),$=K("div"),k=K("div"),k.innerHTML='<i class="fa fa-xl fa-ellipsis-vertical"></i>',S=oe(),A=K("div"),R=K("div"),T=oe();for(let ee=0;ee<x.length;ee+=1)x[ee].c();B=oe(),le(L.$$.fragment),j=oe(),l&&l.c(),V=oe(),le(Z.$$.fragment),Q=oe(),w&&w.c(),s=dt(),q(c,"class","text-2xl"),q(f,"class","flex items-center gap-2"),q(a,"class","flex flex-grow flex-col gap-2"),q(k,"class","cursor-pointer px-5 py-2"),lr(R,"filter","blur(15px) opacity(0.7)"),q(R,"class","absolute inset-0 rounded-full bg-gray-8"),Rt(R,"hidden",!r[1]),q(A,"class","absolute top-0 right-0 z-10 mt-12 flex flex-col gap-2 opacity-90"),q($,"class","relative flex flex-wrap gap-3 whitespace-nowrap"),q(i,"class","flex items-start justify-between gap-4"),q(o,"class","flex flex-grow flex-col gap-4"),q(e,"class","flex gap-4 text-gray-1")},m(ee,Y){F(ee,e,Y),ae(t,e,null),I(e,n),I(e,o),I(o,i),I(i,a),I(a,f),I(f,c),I(c,m),I(a,v),g&&g.m(a,null),I(i,_),I(i,$),I($,k),I($,S),I($,A),I(A,R),I(A,T);for(let re=0;re<x.length;re+=1)x[re].m(A,null);I(o,B),ae(L,o,null),I(o,j),l&&l.m(o,null),F(ee,V,Y),ae(Z,ee,Y),F(ee,Q,Y),~ne&&E[ne].m(ee,Y),F(ee,s,Y),u=!0,h||(p=ct(k,"click",Ss(r[15])),h=!0)},p(ee,Y){var te;const re={};if(Y[0]&16&&(re.person=ee[4]),t.$set(re),(!u||Y[0]&16)&&d!==(d=er(ee[4])+"")&&Mt(m,d),ee[4].verified_as?g?g.p(ee,Y):(g=T2(ee),g.c(),g.m(a,null)):g&&(g.d(1),g=null),(!u||Y[0]&2)&&Rt(R,"hidden",!ee[1]),Y[0]&4){M=ee[2];let X;for(X=0;X<M.length;X+=1){const ye=P2(ee,M,X);x[X]?(x[X].p(ye,Y),O(x[X],1)):(x[X]=O2(ye),x[X].c(),O(x[X],1),x[X].m(A,null))}for(tt(),X=M.length;X<x.length;X+=1)y(X);rt()}const Me={};Y[0]&16&&(Me.person=ee[4]),L.$set(Me),(te=ee[4])!=null&&te.petnames?l?(l.p(ee,Y),Y[0]&16&&O(l,1)):(l=I2(ee),l.c(),O(l,1),l.m(o,null)):l&&(l.d(1),l=null);const de={};Y[0]&1&&(de.activeTab=ee[0]),Z.$set(de);let _e=ne;ne=P(ee),ne===_e?~ne&&E[ne].p(ee,Y):(w&&(tt(),z(E[_e],1,1,()=>{E[_e]=null}),rt()),~ne?(w=E[ne],w?w.p(ee,Y):(w=E[ne]=b[ne](ee),w.c()),O(w,1),w.m(s.parentNode,s)):w=null)},i(ee){if(!u){O(t.$$.fragment,ee),ee&&Nt(()=>{C||(C=$i(R,Xl,{},!0)),C.run(1)});for(let Y=0;Y<M.length;Y+=1)O(x[Y]);O(L.$$.fragment,ee),O(l),O(Z.$$.fragment,ee),O(w),u=!0}},o(ee){z(t.$$.fragment,ee),ee&&(C||(C=$i(R,Xl,{},!1)),C.run(0)),x=x.filter(Boolean);for(let Y=0;Y<x.length;Y+=1)z(x[Y]);z(L.$$.fragment,ee),z(Z.$$.fragment,ee),z(w),u=!1},d(ee){ee&&D(e),fe(t),g&&g.d(),ee&&C&&C.end(),yn(x,ee),fe(L),l&&l.d(),ee&&D(V),fe(Z,ee),ee&&D(Q),~ne&&E[ne].d(ee),ee&&D(s),h=!1,p()}}}function sK(r){let e,t,n,o,i,a,f,c;return n=new At({props:{$$slots:{default:[oK]},$$scope:{ctx:r}}}),i=new dM({props:{pubkey:r[13]}}),{c(){var d;e=K("div"),t=oe(),le(n.$$.fragment),o=oe(),le(i.$$.fragment),q(e,"class","absolute left-0 h-64 w-full"),lr(e,"z-index","-1"),lr(e,"background-size","cover"),lr(e,"background-image","linear-gradient(to bottom, "+r[7]+", "+r[6]+"), url('"+((d=r[4].kind0)==null?void 0:d.banner)+"')")},m(d,m){F(d,e,m),F(d,t,m),ae(n,d,m),F(d,o,m),ae(i,d,m),a=!0,f||(c=ct(window,"click",r[27]),f=!0)},p(d,m){var _;(!a||m[0]&208)&&lr(e,"background-image","linear-gradient(to bottom, "+d[7]+", "+d[6]+"), url('"+((_=d[4].kind0)==null?void 0:_.banner)+"')");const v={};m[0]&319|m[1]&1024&&(v.$$scope={dirty:m,ctx:d}),n.$set(v)},i(d){a||(O(n.$$.fragment,d),O(i.$$.fragment,d),a=!0)},o(d){z(n.$$.fragment,d),z(i.$$.fragment,d),a=!1},d(d){d&&D(e),d&&D(t),fe(n,d),d&&D(o),fe(i,d),f=!1,c()}}}function aK(r,e,t){let n,o,i,a,f,c;_t(r,Jm,E=>t(26,f=E));let{npub:d}=e,{activeTab:m}=e,{relays:v=[]}=e;const _=(E,P)=>H=>E+Math.round((P-E)*H),{petnamePubkeys:$,canPublish:k,mutes:S}=at;_t(r,$,E=>t(25,a=E)),_t(r,k,E=>t(23,o=E)),_t(r,S,E=>t(24,i=E));const A=["notes","likes",Tr.forceUrls.length===0&&"relays"].filter(oi);let R=Hu(d),C=!1,T=!1,B=Dl(0,{interpolate:_,duration:1e3});_t(r,B,E=>t(8,c=E));let L=Br(R),j=!0,V=!1,Z=[],Q,ne;jr(async()=>{Ts("Person",d,L),document.title=er(L),Cr.loadPeople([R],{force:!0}).then(()=>{t(3,n=Ji(R)),t(4,L=Br(R)),t(5,j=!1)});const E=await Tr.count({kinds:[3],"#p":[R]});if(E)B.set(E);else{const P=new Set;await Cr.load({relays:v,shouldProcess:!1,filter:[{kinds:[3],"#p":[R]}],onChunk:H=>{for(const ee of H)P.add(ee.pubkey);B.set(P.size)}})}});const w=()=>{t(1,V=!V)},s=E=>Zr(xn.person(R,E)),u=()=>{Xt.set({type:"person/follows",pubkey:R})},h=()=>{Xt.set({type:"person/followers",pubkey:R})},p=async()=>{const[{url:E}]=v;at.addPetname(R,E,er(L))},g=async()=>{at.removePetname(R)},M=async()=>{at.addMute("p",R)},x=async()=>{at.removeMute(R)},y=()=>{Xt.set({type:"person/info",person:L})},l=()=>{Xt.set({type:"person/share",person:L})},b=()=>{t(1,V=!1)};return r.$$set=E=>{"npub"in E&&t(20,d=E.npub),"activeTab"in E&&t(0,m=E.activeTab),"relays"in E&&t(19,v=E.relays)},r.$$.update=()=>{if(r.$$.dirty[0]&524296&&t(19,v=An(v.concat(n))),r.$$.dirty[0]&67108864){const E=DL(oD(f,"gray-8"));t(7,ne=`rgba(${E.join(", ")}, 0.4)`),t(6,Q=`rgba(${E.join(", ")})`)}r.$$.dirty[0]&33554432&&t(21,C=a.includes(R)),r.$$.dirty[0]&16777216&&t(22,T=xi(E=>E[1]===R,i)),r.$$.dirty[0]&15728646&&(t(2,Z=[]),V&&(Z.push({onClick:l,label:"Share",icon:"share-nodes"}),o&&(C?Z.push({onClick:g,label:"Unfollow",icon:"user-minus"}):at.getPubkey()!==R&&Z.push({onClick:p,label:"Follow",icon:"user-plus"}),T?Z.push({onClick:x,label:"Muted",icon:"microphone-slash"}):at.getPubkey()!==R&&Z.push({onClick:M,label:"Mute",icon:"microphone"}),Z.push({onClick:()=>Zr(`/messages/${d}`),label:"Message",icon:"envelope"})),Tr.forceUrls.length===0&&Z.push({onClick:y,label:"Profile",icon:"info"}),at.getPubkey()===R&&o&&Z.push({onClick:()=>Zr("/profile"),label:"Edit",icon:"edit"})))},t(3,n=Ji(R)),[m,V,Z,n,L,j,Q,ne,c,$,k,S,A,R,B,w,s,u,h,v,d,C,T,o,i,a,f,b]}class bv extends ut{constructor(e){super(),lt(this,e,aK,sK,ft,{npub:20,activeTab:0,relays:19},null,[-1,-1])}}function fK(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[dK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&17&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function lK(r){let e,t;return e=new bv({props:{npub:r[0],activeTab:"notes"}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.npub=n[0]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function uK(r){let e,t;return e=new bv({props:{npub:br.npubEncode(r[2].pubkey),relays:r[3],activeTab:"notes"}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.npub=br.npubEncode(n[2].pubkey)),o&8&&(i.relays=n[3]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function cK(r){let e,t;return e=new At({props:{$$slots:{default:[pK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&20&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function hK(r){let e,t;return e=new At({props:{$$slots:{default:[mK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&28&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function dK(r){let e,t,n,o;return{c(){e=K("div"),t=Le(`Sorry, we weren't able to find "`),n=Le(r[0]),o=Le('".')},m(i,a){F(i,e,a),I(e,t),I(e,n),I(e,o)},p(i,a){a&1&&Mt(n,i[0])},d(i){i&&D(e)}}}function pK(r){let e,t;return e=new gv({props:{note:{id:r[2]}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.note={id:n[2]}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function mK(r){let e,t;return e=new gv({props:{note:{id:r[2].id},relays:r[3]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.note={id:n[2].id}),o&8&&(i.relays=n[3]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function vK(r){let e,t,n,o;const i=[hK,cK,uK,lK,fK],a=[];function f(c,d){return c[1]==="nevent"?0:c[1]==="note"?1:c[1]==="nprofile"?2:c[1]==="npub"?3:4}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,[d]){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function gK(r,e,t){let{entity:n}=e,o,i,a;return jr(()=>{try{t(1,{type:o,data:i}=br.decode(n),o,t(2,i)),t(3,a=An((i.relays||[]).map(Yf("url"))))}catch(f){Ei(f)}}),r.$$set=f=>{"entity"in f&&t(0,n=f.entity)},[n,o,i,a]}class yK extends ut{constructor(e){super(),lt(this,e,gK,vK,ft,{entity:0})}}const{window:bK}=Pw,_K=r=>({}),L2=r=>({});function N2(r,e,t){const n=r.slice();return n[17]=e[t],n}const wK=r=>({message:r&4}),D2=r=>({message:r[17]});function F2(r,e){let t,n,o;const i=e[10].message,a=Ir(i,e,e[13],D2);return{key:r,first:null,c(){t=K("li"),a&&a.c(),q(t,"class","flex flex-col gap-2 py-1"),this.first=t},m(f,c){F(f,t,c),a&&a.m(t,null),o=!0},p(f,c){e=f,a&&a.p&&(!o||c&8196)&&Nr(a,i,e,e[13],o?Lr(i,e[13],c,wK):Dr(e[13]),D2)},i(f){o||(O(a,f),n||Nt(()=>{n=_r(t,Qt,{y:20}),n.start()}),o=!0)},o(f){z(a,f),o=!1},d(f){f&&D(t),a&&a.d(f)}}}function MK(r){return{c:Fe,m:Fe,i:Fe,o:Fe,d:Fe}}function $K(r){let e,t;return{c(){e=K("div"),e.textContent="End of message history",q(e,"class","py-20 text-center")},m(n,o){F(n,e,o)},i(n){t||Nt(()=>{t=_r(e,Qt,{y:20}),t.start()})},o:Fe,d(n){n&&D(e)}}}function xK(r){let e,t;return e=new ei({props:{$$slots:{default:[kK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kK(r){let e;return{c(){e=Le("Looking for messages...")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function U2(r){let e,t,n;return{c(){e=K("div"),e.innerHTML='<div class="rounded-full bg-accent py-2 px-4 text-gray-3">New messages found</div>',q(e,"class","fixed bottom-32 flex w-full justify-center")},m(o,i){F(o,e,i),n=!0},i(o){n||(o&&Nt(()=>{t||(t=$i(e,Qt,{y:20},!0)),t.run(1)}),n=!0)},o(o){o&&(t||(t=$i(e,Qt,{y:20},!1)),t.run(0)),n=!1},d(o){o&&D(e),o&&t&&t.end()}}}function SK(r){let e,t,n,o,i=[],a=new Map,f,c,d,m,v,_,$,k,S,A,R,C,T,B=r[2];const L=ne=>ne[17].id;for(let ne=0;ne<B.length;ne+=1){let w=N2(r,B,ne),s=L(w);a.set(s,i[ne]=F2(s,w))}let j={ctx:r,current:null,token:null,hasCatch:!1,pending:xK,then:$K,catch:MK,blocks:[,,,]};eh(c=r[1],j);const V=r[10].header,Z=Ir(V,r,r[13],L2);let Q=r[3]&&U2();return{c(){e=K("div"),t=K("div"),n=K("div"),o=K("ul");for(let ne=0;ne<i.length;ne+=1)i[ne].c();f=oe(),j.block.c(),d=oe(),m=K("div"),Z&&Z.c(),v=oe(),_=K("div"),$=K("textarea"),k=oe(),S=K("button"),S.innerHTML='<i class="fa-solid fa-paper-plane fa-xl"></i>',A=oe(),Q&&Q.c(),q(o,"class","channel-messages flex flex-grow flex-col-reverse justify-start overflow-auto p-4 pb-6"),q(n,"class","py-18 flex h-full flex-col pb-20"),q(m,"class","fixed top-0 z-20 w-full border-b border-solid border-gray-6 bg-gray-7 p-4"),q($,"rows","3"),$.autofocus=!0,q($,"placeholder","Type something..."),q($,"class","w-full resize-none bg-gray-6 p-2 text-gray-3 outline-0 placeholder:text-gray-1"),q(S,"class","flex cursor-pointer flex-col justify-center gap-2 border-l border-solid border-gray-7 p-4 py-8 text-gray-3 transition-all hover:bg-accent "),q(_,"class","fixed bottom-0 z-10 flex w-full border-t border-solid border-gray-6 border-gray-7 bg-gray-6 lg:-ml-56 lg:pl-56"),q(t,"class","relative w-full"),q(e,"class","flex h-full gap-4")},m(ne,w){F(ne,e,w),I(e,t),I(t,n),I(n,o);for(let s=0;s<i.length;s+=1)i[s].m(o,null);I(o,f),j.block.m(o,j.anchor=null),j.mount=()=>o,j.anchor=null,I(t,d),I(t,m),Z&&Z.m(m,null),I(t,v),I(t,_),I(_,$),r[12]($),I(_,k),I(_,S),I(e,A),Q&&Q.m(e,null),R=!0,$.focus(),C||(T=[ct(bK,"scroll",r[11]),ct($,"keypress",r[5]),ct(S,"click",r[4])],C=!0)},p(ne,[w]){r=ne,w&8196&&(B=r[2],tt(),i=Sn(i,w,L,1,r,B,a,o,kn,F2,f,N2),rt()),j.ctx=r,w&2&&c!==(c=r[1])&&eh(c,j),Z&&Z.p&&(!R||w&8192)&&Nr(Z,V,r,r[13],R?Lr(V,r[13],w,_K):Dr(r[13]),L2),r[3]?Q?w&8&&O(Q,1):(Q=U2(),Q.c(),O(Q,1),Q.m(e,null)):Q&&(tt(),z(Q,1,1,()=>{Q=null}),rt())},i(ne){if(!R){for(let w=0;w<B.length;w+=1)O(i[w]);O(j.block),O(Z,ne),O(Q),R=!0}},o(ne){for(let w=0;w<i.length;w+=1)z(i[w]);for(let w=0;w<3;w+=1){const s=j.blocks[w];z(s)}z(Z,ne),z(Q),R=!1},d(ne){ne&&D(e);for(let w=0;w<i.length;w+=1)i[w].d();j.block.d(),j.token=null,j=null,Z&&Z.d(ne),r[12](null),Q&&Q.d(),C=!1,sn(T)}}}function EK(r,e,t){let{$$slots:n={},$$scope:o}=e,{loadMessages:i}=e,{listenForMessages:a}=e,{sendMessage:f}=e,c,d=[],m=Vo(3e4),v=[],_=!1,$=new v3;const k=()=>document.querySelector("ul[class=channel-messages] li"),S=async(B,L)=>{const j=window.scrollY+window.innerHeight>document.body.scrollHeight-200;if(await L(),j){const V=k();V&&V.scrollIntoView({behavior:B})}else t(3,_=!0)};jr(()=>{if(!at.getPubkey())return Zr("/login");const B=a(j=>S("smooth",()=>{t(1,m=Vo(3e4)),t(9,d=d.concat(j)),Cr.loadPeople(Ar("pubkey",j))})),L=C1(async()=>{await i($,j=>{S("auto",()=>{t(1,m=Vo(3e4)),t(9,d=tn(V=>-V.created_at,j.concat(d))),Cr.loadPeople(Ar("pubkey",j)),$.update(d)})})},{reverse:!0});return()=>{L.stop(),B.then(j=>j==null?void 0:j.unsub())}});const A=async()=>{const B=c.value.trim();if(B){t(0,c.value="",c);const L=await f(B);S("smooth",()=>{t(9,d=tn(j=>-j.created_at,[L].concat(d)))})}},R=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),A())},C=()=>{t(3,_=!1)};function T(B){Ct[B?"unshift":"push"](()=>{c=B,t(0,c)})}return r.$$set=B=>{"loadMessages"in B&&t(6,i=B.loadMessages),"listenForMessages"in B&&t(7,a=B.listenForMessages),"sendMessage"in B&&t(8,f=B.sendMessage),"$$scope"in B&&t(13,o=B.$$scope)},r.$$.update=()=>{r.$$.dirty&512&&t(2,v=Ww(tn(Gr("created_at"),Vi(Gr("id"),d)).reduce((B,L)=>{const j=Br(L.pubkey),V=j.pubkey!==Yw(["person","pubkey"],Yr(B));return B.concat({...L,person:j,showPerson:V})},[])))},[c,m,v,_,A,R,i,a,f,d,n,C,T,o]}class pM extends ut{constructor(e){super(),lt(this,e,EK,SK,ft,{loadMessages:6,listenForMessages:7,sendMessage:8})}}function H2(r){let e,t,n;return{c(){e=K("button"),e.innerHTML='<i class="fa-solid fa-edit"></i> Edit',q(e,"class","cursor-pointer text-sm")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[4]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function AK(r){var V;let e,t,n,o,i,a,f,c,d,m,v=(r[0].name||"")+"",_,$,k=((V=r[0])==null?void 0:V.pubkey)===at.getPubkey(),S,A,R,C,T=(r[0].about||"")+"",B,L;n=new $t({props:{type:"unstyled",class:"fa fa-arrow-left cursor-pointer text-2xl",href:"/chat"}});let j=k&&H2(r);return{c(){e=K("div"),t=K("div"),le(n.$$.fragment),o=oe(),i=K("div"),a=oe(),f=K("div"),c=K("div"),d=K("div"),m=K("div"),_=Le(v),$=oe(),j&&j.c(),S=oe(),A=K("div"),A.innerHTML=`<i class="fa fa-lock-open text-gray-1"></i> 
          <span class="text-gray-1">Public</span>`,R=oe(),C=K("div"),B=Le(T),q(i,"class","h-12 w-12 shrink-0 overflow-hidden rounded-full border border-solid border-white bg-cover bg-center"),lr(i,"background-image","url("+r[0].picture+")"),q(t,"class","flex items-center gap-4"),q(m,"class","text-lg font-bold"),q(d,"class","flex items-center gap-4"),q(A,"class","flex items-center gap-2"),q(c,"class","flex w-full items-center justify-between"),q(f,"class","flex w-full flex-col gap-2"),q(e,"slot","header"),q(e,"class","flex items-start gap-4")},m(Z,Q){F(Z,e,Q),I(e,t),ae(n,t,null),I(t,o),I(t,i),I(e,a),I(e,f),I(f,c),I(c,d),I(d,m),I(m,_),I(d,$),j&&j.m(d,null),I(c,S),I(c,A),I(f,R),I(f,C),I(C,B),L=!0},p(Z,Q){var ne;(!L||Q&1)&&lr(i,"background-image","url("+Z[0].picture+")"),(!L||Q&1)&&v!==(v=(Z[0].name||"")+"")&&Mt(_,v),Q&1&&(k=((ne=Z[0])==null?void 0:ne.pubkey)===at.getPubkey()),k?j?j.p(Z,Q):(j=H2(Z),j.c(),j.m(d,null)):j&&(j.d(1),j=null),(!L||Q&1)&&T!==(T=(Z[0].about||"")+"")&&Mt(B,T)},i(Z){L||(O(n.$$.fragment,Z),L=!0)},o(Z){z(n.$$.fragment,Z),L=!1},d(Z){Z&&D(e),fe(n),j&&j.d()}}}function j2(r){let e,t,n,o,i=Os(r[9].created_at)+"",a,f;return t=new q0({props:{person:r[9].person}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("p"),a=Le(i),q(o,"class","text-sm text-gray-1"),q(e,"class","flex items-center justify-between gap-4")},m(c,d){F(c,e,d),ae(t,e,null),I(e,n),I(e,o),I(o,a),f=!0},p(c,d){const m={};d&512&&(m.person=c[9].person),t.$set(m),(!f||d&512)&&i!==(i=Os(c[9].created_at)+"")&&Mt(a,i)},i(c){f||(O(t.$$.fragment,c),f=!0)},o(c){z(t.$$.fragment,c),f=!1},d(c){c&&D(e),fe(t)}}}function BK(r){let e,t,n,o,i,a=r[9].showPerson&&j2(r);return o=new Q0({props:{showEntire:!0,note:r[9]}}),{c(){e=K("div"),a&&a.c(),t=oe(),n=K("div"),le(o.$$.fragment),q(n,"class","my-1 ml-6 overflow-hidden text-ellipsis"),q(e,"slot","message")},m(f,c){F(f,e,c),a&&a.m(e,null),I(e,t),I(e,n),ae(o,n,null),i=!0},p(f,c){f[9].showPerson?a?(a.p(f,c),c&512&&O(a,1)):(a=j2(f),a.c(),O(a,1),a.m(e,t)):a&&(tt(),z(a,1,1,()=>{a=null}),rt());const d={};c&512&&(d.note=f[9]),o.$set(d)},i(f){i||(O(a),O(o.$$.fragment,f),i=!0)},o(f){z(a),z(o.$$.fragment,f),i=!1},d(f){f&&D(e),a&&a.d(),fe(o)}}}function RK(r){let e,t;return e=new pM({props:{loadMessages:r[3],listenForMessages:r[2],sendMessage:r[5],$$slots:{message:[BK,({message:n})=>({9:n}),({message:n})=>n?512:0],header:[AK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1537&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function CK(r,e,t){let n,{entity:o}=e;const i=Hu(o),a=on("rooms",_=>_.get(i)||{id:i});_t(r,a,_=>t(0,n=_));const f=()=>An(n?y5(n):[]),c=_=>Cr.listen({relays:f(),filter:[{kinds:[42],"#e":[i],since:dn()}],onChunk:_}),d=(_,$)=>Cr.load({relays:f(),filter:{kinds:[42],"#e":[i],..._.getFilter()},onChunk:$}),m=()=>{Xt.set({type:"room/edit",room:n})},v=async _=>{const[{url:$}]=f(),[k]=await jn.createChatMessage(i,_,$).publish(f());return k};return document.title=n.name,Bo.update(kt.exports.updateIn(Ko(i,dn()))),r.$$set=_=>{"entity"in _&&t(6,o=_.entity)},[n,a,c,d,m,v,o]}class PK extends ut{constructor(e){super(),lt(this,e,CK,RK,ft,{entity:6})}}function TK(r){let e,t;return e=new $t({props:{type:"button",class:"flex items-center gap-2",$$slots:{default:[IK]},$$scope:{ctx:r}}}),e.$on("click",r[5]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OK(r){let e,t;return e=new $t({props:{type:"button",class:"flex items-center gap-2",$$slots:{default:[LK]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&64&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IK(r){let e,t,n;return{c(){e=K("i"),t=oe(),n=K("span"),n.textContent="Join",q(e,"class","fa fa-right-to-bracket")},m(o,i){F(o,e,i),F(o,t,i),F(o,n,i)},p:Fe,d(o){o&&D(e),o&&D(t),o&&D(n)}}}function LK(r){let e,t,n;return{c(){e=K("i"),t=oe(),n=K("span"),n.textContent="Leave",q(e,"class","fa fa-right-from-bracket")},m(o,i){F(o,e,i),F(o,t,i),F(o,n,i)},p:Fe,d(o){o&&D(e),o&&D(t),o&&D(n)}}}function z2(r){let e,t=kt.exports.ellipsize(r[0].about,300)+"",n;return{c(){e=K("p"),n=Le(t),q(e,"class","text-start text-gray-1")},m(o,i){F(o,e,i),I(e,n)},p(o,i){i&1&&t!==(t=kt.exports.ellipsize(o[0].about,300)+"")&&Mt(n,t)},d(o){o&&D(e)}}}function NK(r){let e,t,n,o,i,a,f,c,d,m=(r[0].name||"")+"",v,_,$,k,S,A,R,C,T;const B=[OK,TK],L=[];function j(Z,Q){return Z[0].joined?0:1}$=j(r),k=L[$]=B[$](r);let V=r[0].about&&z2(r);return{c(){e=K("button"),t=K("div"),n=oe(),o=K("div"),i=K("div"),a=K("div"),f=K("i"),c=oe(),d=K("h2"),v=Le(m),_=oe(),k.c(),S=oe(),V&&V.c(),q(t,"class","h-14 w-14 shrink-0 overflow-hidden rounded-full border border-solid border-white bg-cover bg-center"),lr(t,"background-image","url("+r[0].picture+")"),q(f,"class","fa fa-lock-open text-gray-1"),q(d,"class","text-lg"),q(a,"class","flex items-center gap-2 overflow-hidden"),q(i,"class","flex flex-grow items-start justify-between gap-2"),q(o,"class","flex min-w-0 flex-grow flex-col justify-start gap-2"),q(e,"class","flex cursor-pointer gap-4 rounded border border-solid border-gray-6 bg-gray-7 px-4 py-6 transition-all hover:bg-gray-6")},m(Z,Q){F(Z,e,Q),I(e,t),I(e,n),I(e,o),I(o,i),I(i,a),I(a,f),I(a,c),I(a,d),I(d,v),I(i,_),L[$].m(i,null),I(o,S),V&&V.m(o,null),R=!0,C||(T=ct(e,"click",r[1]),C=!0)},p(Z,[Q]){(!R||Q&1)&&lr(t,"background-image","url("+Z[0].picture+")"),(!R||Q&1)&&m!==(m=(Z[0].name||"")+"")&&Mt(v,m);let ne=$;$=j(Z),$===ne?L[$].p(Z,Q):(tt(),z(L[ne],1,1,()=>{L[ne]=null}),rt(),k=L[$],k?k.p(Z,Q):(k=L[$]=B[$](Z),k.c()),O(k,1),k.m(i,null)),Z[0].about?V?V.p(Z,Q):(V=z2(Z),V.c(),V.m(o,null)):V&&(V.d(1),V=null)},i(Z){R||(O(k),A||Nt(()=>{A=_r(e,Qt,{y:20}),A.start()}),R=!0)},o(Z){z(k),R=!1},d(Z){Z&&D(e),L[$].d(),V&&V.d(),C=!1,T()}}}function DK(r,e,t){let{room:n}=e;const o=()=>Zr(`/chat/${br.noteEncode(n.id)}`),i=()=>Yi.patch({id:n.id,joined:!0}),a=()=>Yi.patch({id:n.id,joined:!1}),f=d=>{d.stopPropagation(),a()},c=d=>{d.stopPropagation(),i()};return r.$$set=d=>{"room"in d&&t(0,n=d.room)},[n,o,i,a,f,c]}class mM extends ut{constructor(e){super(),lt(this,e,DK,NK,ft,{room:0})}}function q2(r,e,t){const n=r.slice();return n[9]=e[t],n}function K2(r,e,t){const n=r.slice();return n[9]=e[t],n}function FK(r){let e,t;return{c(){e=K("i"),t=Le(" Create Room"),q(e,"class","fa-solid fa-plus")},m(n,o){F(n,e,o),F(n,t,o)},p:Fe,d(n){n&&D(e),n&&D(t)}}}function W2(r){let e;return{c(){e=K("p"),e.textContent="You haven't yet joined any rooms.",q(e,"class","text-center py-8")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function V2(r,e){let t,n,o;return n=new mM({props:{room:e[9]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&8&&(f.room=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function UK(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function HK(r){let e;return{c(){e=K("small"),e.textContent="No matching rooms found",q(e,"class","text-center")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function jK(r){let e=[],t=new Map,n,o,i,a=Math.min(50,r[1].length)+"",f,c,d=r[1].length+"",m,v,_,$=r[2];const k=S=>S[9].id;for(let S=0;S<$.length;S+=1){let A=q2(r,$,S),R=k(A);t.set(R,e[S]=Z2(R,A))}return{c(){for(let S=0;S<e.length;S+=1)e[S].c();n=oe(),o=K("small"),i=Le("Showing "),f=Le(a),c=Le(" of "),m=Le(d),v=Le(" known rooms"),q(o,"class","text-center")},m(S,A){for(let R=0;R<e.length;R+=1)e[R].m(S,A);F(S,n,A),F(S,o,A),I(o,i),I(o,f),I(o,c),I(o,m),I(o,v),_=!0},p(S,A){A&4&&($=S[2],tt(),e=Sn(e,A,k,1,S,$,t,n.parentNode,kn,Z2,n,q2),rt()),(!_||A&2)&&a!==(a=Math.min(50,S[1].length)+"")&&Mt(f,a),(!_||A&2)&&d!==(d=S[1].length+"")&&Mt(m,d)},i(S){if(!_){for(let A=0;A<$.length;A+=1)O(e[A]);_=!0}},o(S){for(let A=0;A<e.length;A+=1)z(e[A]);_=!1},d(S){for(let A=0;A<e.length;A+=1)e[A].d(S);S&&D(n),S&&D(o)}}}function Z2(r,e){let t,n,o;return n=new mM({props:{room:e[9]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&4&&(f.room=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function zK(r){let e,t,n,o,i,a=[],f=new Map,c,d,m,v,_,$,k,S,A,R,C,T,B;o=new $t({props:{type:"button-accent",$$slots:{default:[FK]},$$scope:{ctx:r}}}),o.$on("click",r[7]);let L=r[3];const j=u=>u[9].id;for(let u=0;u<L.length;u+=1){let h=K2(r,L,u),p=j(h);f.set(p,a[u]=V2(p,h))}let V=null;L.length||(V=W2());function Z(u){r[8](u)}let Q={type:"text",placeholder:"Search rooms",$$slots:{before:[UK]},$$scope:{ctx:r}};r[0]!==void 0&&(Q.value=r[0]),k=new Kr({props:Q}),Ct.push(()=>Er(k,"value",Z));const ne=[jK,HK],w=[];function s(u,h){return u[2].length>0?0:1}return R=s(r),C=w[R]=ne[R](r),{c(){e=K("div"),t=K("div"),t.innerHTML=`<i class="fa fa-server fa-lg"></i> 
      <h2 class="staatliches text-2xl">Your rooms</h2>`,n=oe(),le(o.$$.fragment),i=oe();for(let u=0;u<a.length;u+=1)a[u].c();V&&V.c(),c=oe(),d=K("div"),m=oe(),v=K("div"),v.innerHTML=`<i class="fa fa-earth-asia fa-lg"></i> 
    <h2 class="staatliches text-2xl">Other rooms</h2>`,_=oe(),$=K("div"),le(k.$$.fragment),A=oe(),C.c(),T=dt(),q(t,"class","flex items-center gap-2"),q(e,"class","flex justify-between"),q(d,"class","mb-2 border-b border-solid border-gray-6 pt-2"),q(v,"class","flex items-center gap-2"),q($,"class","flex-grow")},m(u,h){F(u,e,h),I(e,t),I(e,n),ae(o,e,null),F(u,i,h);for(let p=0;p<a.length;p+=1)a[p].m(u,h);V&&V.m(u,h),F(u,c,h),F(u,d,h),F(u,m,h),F(u,v,h),F(u,_,h),F(u,$,h),ae(k,$,null),F(u,A,h),w[R].m(u,h),F(u,T,h),B=!0},p(u,h){const p={};h&16384&&(p.$$scope={dirty:h,ctx:u}),o.$set(p),h&8&&(L=u[3],tt(),a=Sn(a,h,j,1,u,L,f,c.parentNode,kn,V2,c,K2),rt(),!L.length&&V?V.p(u,h):L.length?V&&(V.d(1),V=null):(V=W2(),V.c(),V.m(c.parentNode,c)));const g={};h&16384&&(g.$$scope={dirty:h,ctx:u}),!S&&h&1&&(S=!0,g.value=u[0],Sr(()=>S=!1)),k.$set(g);let M=R;R=s(u),R===M?w[R].p(u,h):(tt(),z(w[M],1,1,()=>{w[M]=null}),rt(),C=w[R],C?C.p(u,h):(C=w[R]=ne[R](u),C.c()),O(C,1),C.m(T.parentNode,T))},i(u){if(!B){O(o.$$.fragment,u);for(let h=0;h<L.length;h+=1)O(a[h]);O(k.$$.fragment,u),O(C),B=!0}},o(u){z(o.$$.fragment,u);for(let h=0;h<a.length;h+=1)z(a[h]);z(k.$$.fragment,u),z(C),B=!1},d(u){u&&D(e),fe(o),u&&D(i);for(let h=0;h<a.length;h+=1)a[h].d(u);V&&V.d(u),u&&D(c),u&&D(d),u&&D(m),u&&D(v),u&&D(_),u&&D($),fe(k),u&&D(A),w[R].d(u),u&&D(T)}}}function qK(r){let e,t;return e=new At({props:{$$slots:{default:[zK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function KK(r,e,t){let n,o,i="",a,f=[];const c=on("rooms",_=>_.all({joined:!0}));_t(r,c,_=>t(3,o=_));const d=on("rooms",_=>_.all({"joined:!eq":!0}));_t(r,d,_=>t(1,n=_)),document.title="Chat",jr(()=>{const _=Cr.listen({relays:Wu(),filter:[{kinds:[40,41]}]});return()=>{_.then($=>$==null?void 0:$.unsub())}});const m=()=>Xt.set({type:"room/edit"});function v(_){i=_,t(0,i)}return r.$$.update=()=>{r.$$.dirty&2&&t(6,a=Sa(n,{keys:["name","about"]})),r.$$.dirty&65&&t(2,f=a(i).slice(0,50))},[i,n,f,o,c,d,a,m,v]}class WK extends ut{constructor(e){super(),lt(this,e,KK,qK,ft,{})}}function G2(r,e,t){const n=r.slice();return n[2]=e[t].created_at,n[3]=e[t].message,n}function Y2(r){let e,t,n=Os(r[2]/1e3)+"",o,i,a,f=r[3].map(r[1]).join(" ")+"",c,d,m;return{c(){e=K("div"),t=K("div"),o=Le(n),i=oe(),a=K("pre"),c=Le(f),d=oe(),q(t,"class","text-gray-1 underline"),q(e,"class","flex flex-col gap-2 text-sm")},m(v,_){F(v,e,_),I(e,t),I(t,o),I(e,i),I(e,a),I(a,c),I(e,d)},p(v,_){_&1&&n!==(n=Os(v[2]/1e3)+"")&&Mt(o,n),_&1&&f!==(f=v[3].map(v[1]).join(" ")+"")&&Mt(c,f)},i(v){m||Nt(()=>{m=_r(e,Qt,{y:20}),m.start()})},o:Fe,d(v){v&&D(e)}}}function VK(r){let e,t=Rp(r[0]),n=[];for(let o=0;o<t.length;o+=1)n[o]=Y2(G2(r,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=dt()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);F(o,e,i)},p(o,i){if(i&1){t=Rp(o[0]);let a;for(a=0;a<t.length;a+=1){const f=G2(o,t,a);n[a]?(n[a].p(f,i),O(n[a],1)):(n[a]=Y2(f),n[a].c(),O(n[a],1),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},i(o){for(let i=0;i<t.length;i+=1)O(n[i])},o:Fe,d(o){yn(n,o),o&&D(e)}}}function ZK(r){let e,t;return e=new At({props:{$$slots:{default:[VK]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&65&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function GK(r,e,t){let n;return _t(r,Qw,i=>t(0,n=i)),document.title="Debug",[n,i=>JSON.stringify(i,null,2)]}class YK extends ut{constructor(e){super(),lt(this,e,GK,ZK,ft,{})}}function JK(r){let e,t;return e=new ec({props:{relays:r[0],filter:r[1]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function XK(r){const e=Xf(Ym()).slice(0,256);return[An(Vm(e)),[{kinds:[1],authors:e},{kinds:[7],authors:e}]]}class QK extends ut{constructor(e){super(),lt(this,e,XK,JK,ft,{})}}function eW(r){let e,t;return e=new ec({props:{relays:r[0],filter:r[1]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function tW(r){const e=Xf(GN()).slice(0,256);return[An(Vm(e)),[{kinds:[1],authors:e},{kinds:[7],authors:e}]]}class rW extends ut{constructor(e){super(),lt(this,e,tW,eW,ft,{})}}function nW(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[oW]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function iW(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function oW(r){let e,t,n,o,i,a,f;return i=new $t({props:{href:"/login",$$slots:{default:[iW]},$$scope:{ctx:r}}}),{c(){e=K("p"),e.textContent="Don't have an account?",t=oe(),n=K("p"),o=Le("Click "),le(i.$$.fragment),a=Le(" to join the nostr network."),q(e,"class","text-xl")},m(c,d){F(c,e,d),F(c,t,d),F(c,n,d),I(n,o),ae(i,n,null),I(n,a),f=!0},p(c,d){const m={};d&4&&(m.$$scope={dirty:d,ctx:c}),i.$set(m)},i(c){f||(O(i.$$.fragment,c),f=!0)},o(c){z(i.$$.fragment,c),f=!1},d(c){c&&D(e),c&&D(t),c&&D(n),fe(i)}}}function sW(r){let e,t;return e=new rW({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function aW(r){let e,t;return e=new QK({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function fW(r){let e=!at.getProfile(),t,n,o,i,a,f,c,d=e&&nW(r);o=new yv({props:{tabs:["follows","network"],activeTab:r[0],setActiveTab:r[1]}});const m=[aW,sW],v=[];function _($,k){return $[0]==="follows"?0:1}return a=_(r),f=v[a]=m[a](r),{c(){d&&d.c(),t=oe(),n=K("div"),le(o.$$.fragment),i=oe(),f.c()},m($,k){d&&d.m($,k),F($,t,k),F($,n,k),ae(o,n,null),I(n,i),v[a].m(n,null),c=!0},p($,k){const S={};k&1&&(S.activeTab=$[0]),o.$set(S);let A=a;a=_($),a!==A&&(tt(),z(v[A],1,1,()=>{v[A]=null}),rt(),f=v[a],f||(f=v[a]=m[a]($),f.c()),O(f,1),f.m(n,null))},i($){c||(O(d),O(o.$$.fragment,$),O(f),c=!0)},o($){z(d),z(o.$$.fragment,$),z(f),c=!1},d($){d&&d.d($),$&&D(t),$&&D(n),fe(o),v[a].d()}}}function lW(r){let e,t,n,o;return e=new At({props:{$$slots:{default:[fW]},$$scope:{ctx:r}}}),n=new dM({}),{c(){le(e.$$.fragment),t=oe(),le(n.$$.fragment)},m(i,a){ae(e,i,a),F(i,t,a),ae(n,i,a),o=!0},p(i,[a]){const f={};a&5&&(f.$$scope={dirty:a,ctx:i}),e.$set(f)},i(i){o||(O(e.$$.fragment,i),O(n.$$.fragment,i),o=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),o=!1},d(i){fe(e,i),i&&D(t),fe(n,i)}}}function uW(r,e,t){let{activeTab:n}=e;const o=i=>Zr(`/notes/${i}`);return document.title=kt.exports.toTitle(n),r.$$set=i=>{"activeTab"in i&&t(0,n=i.activeTab)},[n,o]}class cW extends ut{constructor(e){super(),lt(this,e,uW,lW,ft,{activeTab:0})}}function hW(r){let e,t,n;const o=r[2].default,i=Ir(o,r,r[1],null);let a=[r[0],{class:t=tr(r[0].class,"staatliches my-4 text-6xl")}],f={};for(let c=0;c<a.length;c+=1)f=Ft(f,a[c]);return{c(){e=K("h1"),i&&i.c(),vn(e,f)},m(c,d){F(c,e,d),i&&i.m(e,null),n=!0},p(c,[d]){i&&i.p&&(!n||d&2)&&Nr(i,o,c,c[1],n?Lr(o,c[1],d,null):Dr(c[1]),null),vn(e,f=ai(a,[d&1&&c[0],(!n||d&1&&t!==(t=tr(c[0].class,"staatliches my-4 text-6xl")))&&{class:t}]))},i(c){n||(O(i,c),n=!0)},o(c){z(i,c),n=!1},d(c){c&&D(e),i&&i.d(c)}}}function dW(r,e,t){let{$$slots:n={},$$scope:o}=e;return r.$$set=i=>{t(0,e=Ft(Ft({},e),Wr(i))),"$$scope"in i&&t(1,o=i.$$scope)},e=Wr(e),[e,o,n]}class Kn extends ut{constructor(e){super(),lt(this,e,dW,hW,ft,{})}}function pW(r){let e;return{c(){e=Le("Your Keys")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function mW(r){let e;return{c(){e=Le("keypair")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function vW(r){let e,t,n;return{c(){e=K("button"),q(e,"slot","after"),q(e,"class","fa-solid fa-copy cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[5]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function J2(r){let e,t,n,o,i,a,f,c,d,m,v,_;return o=new Kr({props:{disabled:!0,type:"password",value:br.nsecEncode(r[1]),$$slots:{after:[gW]},$$scope:{ctx:r}}}),m=new $t({props:{href:wW,external:!0,$$slots:{default:[yW]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("strong"),t.textContent="Private Key",n=oe(),le(o.$$.fragment),i=oe(),a=K("p"),f=Le("Your private key is used to prove your identity by cryptographically signing messages. "),c=K("strong"),c.textContent="Do not share this with anyone.",d=Le(`
            Be careful about copying this into other apps - instead, consider using a `),le(m.$$.fragment),v=Le(" to securely store your key."),q(a,"class","text-sm text-gray-1"),q(e,"class","flex flex-col gap-1")},m($,k){F($,e,k),I(e,t),I(e,n),ae(o,e,null),I(e,i),I(e,a),I(a,f),I(a,c),I(a,d),ae(m,a,null),I(a,v),_=!0},p($,k){const S={};k&2&&(S.value=br.nsecEncode($[1])),k&128&&(S.$$scope={dirty:k,ctx:$}),o.$set(S);const A={};k&128&&(A.$$scope={dirty:k,ctx:$}),m.$set(A)},i($){_||(O(o.$$.fragment,$),O(m.$$.fragment,$),_=!0)},o($){z(o.$$.fragment,$),z(m.$$.fragment,$),_=!1},d($){$&&D(e),fe(o),fe(m)}}}function gW(r){let e,t,n;return{c(){e=K("button"),q(e,"slot","after"),q(e,"class","fa-solid fa-copy cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[6]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function yW(r){let e;return{c(){e=Le("compatible browser extension")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function bW(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R;t=new Kn({props:{$$slots:{default:[pW]},$$scope:{ctx:r}}}),a=new $t({props:{href:MW,external:!0,$$slots:{default:[mW]},$$scope:{ctx:r}}}),$=new Kr({props:{disabled:!0,value:r[0]?br.npubEncode(r[0]):"",$$slots:{after:[vW]},$$scope:{ctx:r}}});let C=r[1]&&J2(r);return{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("p"),i=Le("Your account is identified across the network using a public/private "),le(a.$$.fragment),f=Le(". This allows you to fully own your account, and move to another app if needed."),c=oe(),d=K("div"),m=K("div"),v=K("strong"),v.textContent="Public Key",_=oe(),le($.$$.fragment),k=oe(),S=K("p"),S.textContent=`Your public key identifies your account. You can share this with people trying to find you
          on nostr.`,A=oe(),C&&C.c(),q(e,"class","mb-4 flex flex-col items-center justify-center"),q(S,"class","text-sm text-gray-1"),q(m,"class","flex flex-col gap-1"),q(d,"class","flex w-full flex-col gap-8")},m(T,B){F(T,e,B),ae(t,e,null),I(e,n),I(e,o),I(o,i),ae(a,o,null),I(o,f),F(T,c,B),F(T,d,B),I(d,m),I(m,v),I(m,_),ae($,m,null),I(m,k),I(m,S),I(d,A),C&&C.m(d,null),R=!0},p(T,B){const L={};B&128&&(L.$$scope={dirty:B,ctx:T}),t.$set(L);const j={};B&128&&(j.$$scope={dirty:B,ctx:T}),a.$set(j);const V={};B&1&&(V.value=T[0]?br.npubEncode(T[0]):""),B&128&&(V.$$scope={dirty:B,ctx:T}),$.$set(V),T[1]?C?(C.p(T,B),B&2&&O(C,1)):(C=J2(T),C.c(),O(C,1),C.m(d,null)):C&&(tt(),z(C,1,1,()=>{C=null}),rt())},i(T){R||(O(t.$$.fragment,T),O(a.$$.fragment,T),O($.$$.fragment,T),O(C),R=!0)},o(T){z(t.$$.fragment,T),z(a.$$.fragment,T),z($.$$.fragment,T),z(C),R=!1},d(T){T&&D(e),fe(t),fe(a),T&&D(c),T&&D(d),fe($),C&&C.d()}}}function _W(r){let e,t,n,o;return t=new At({props:{$$slots:{default:[bW]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,[a]){const f={};a&131&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}const wW="https://github.com/nostr-protocol/nips/blob/master/07.md",MW="https://www.cloudflare.com/learning/ssl/how-does-public-key-encryption-work/";function $W(r,e,t){let n,o;const{pubkey:i,privkey:a}=mn;_t(r,i,m=>t(0,n=m)),_t(r,a,m=>t(1,o=m));const f=m=>{ju(m==="private"?br.nsecEncode(o):br.npubEncode(n)),en.show("info",`Your ${m} key has been copied to the clipboard.`)};return jr(async()=>{if(!n)return Zr("/login")}),document.title="Keys",[n,o,i,a,f,()=>f("public"),()=>f("private")]}class xW extends ut{constructor(e){super(),lt(this,e,$W,_W,ft,{})}}function kW(r){let e;return{c(){e=Le("nostrkid BETA")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function SW(r){let e;return{c(){e=Le("compatible browser extension")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function EW(r){let e;return{c(){e=Le("Log In")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function AW(r){let e,t;return{c(){e=K("i"),t=Le(" npub Login"),q(e,"class","fa fa-cogs")},m(n,o){F(n,e,o),F(n,t,o)},p:Fe,d(n){n&&D(e),n&&D(t)}}}function BW(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j;return n=new Kn({props:{$$slots:{default:[kW]},$$scope:{ctx:r}}}),m=new $t({props:{href:CW,external:!0,$$slots:{default:[SW]},$$scope:{ctx:r}}}),T=new $t({props:{class:"w-32 text-center",type:"button-accent",$$slots:{default:[EW]},$$scope:{ctx:r}}}),T.$on("click",r[0]),L=new $t({props:{type:"unstyled",$$slots:{default:[AW]},$$scope:{ctx:r}}}),L.$on("click",r[1]),{c(){e=K("div"),t=K("div"),le(n.$$.fragment),o=oe(),i=K("i"),i.textContent="make friends   .   learn a ton   .   earn bitcoin",a=oe(),f=K("section"),c=K("p"),d=Le("Click below to log in. If you have a "),le(m.$$.fragment),v=Le(" installed, we will use that."),_=oe(),$=K("section"),$.innerHTML=`<p class="text-center">If youre not signed up, you can still explore by entering the npub 
          of a nostrkid to view their profile and activity <i>see npub login below</i></p>`,k=oe(),S=K("section"),S.innerHTML='<p class="text-center">If you would like to learn more about nostrkid BETA testing email oobiyou@soultiller.com</p>',A=oe(),R=K("div"),C=K("div"),le(T.$$.fragment),B=oe(),le(L.$$.fragment),q(t,"class","mb-4 flex flex-col items-center justify-center"),q(c,"class","text-center"),q(C,"class","flex gap-4"),q(R,"class","flex flex-col items-center gap-4"),q(e,"class","flex max-w-2xl flex-col gap-8")},m(V,Z){F(V,e,Z),I(e,t),ae(n,t,null),I(t,o),I(t,i),I(e,a),I(e,f),I(f,c),I(c,d),ae(m,c,null),I(c,v),I(e,_),I(e,$),I(e,k),I(e,S),I(e,A),I(e,R),I(R,C),ae(T,C,null),I(R,B),ae(L,R,null),j=!0},p(V,Z){const Q={};Z&8&&(Q.$$scope={dirty:Z,ctx:V}),n.$set(Q);const ne={};Z&8&&(ne.$$scope={dirty:Z,ctx:V}),m.$set(ne);const w={};Z&8&&(w.$$scope={dirty:Z,ctx:V}),T.$set(w);const s={};Z&8&&(s.$$scope={dirty:Z,ctx:V}),L.$set(s)},i(V){j||(O(n.$$.fragment,V),O(m.$$.fragment,V),O(T.$$.fragment,V),O(L.$$.fragment,V),j=!0)},o(V){z(n.$$.fragment,V),z(m.$$.fragment,V),z(T.$$.fragment,V),z(L.$$.fragment,V),j=!1},d(V){V&&D(e),fe(n),fe(m),fe(T),fe(L)}}}function RW(r){let e,t,n,o;return t=new At({props:{size:"lg",class:"text-center",$$slots:{default:[BW]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,[a]){const f={};a&8&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}const CW="https://github.com/nostr-protocol/nips/blob/master/07.md";function PW(r){const e=async()=>{const{nostr:n}=window;n?Xm("extension",await n.getPublicKey()):Xt.set({type:"login/privkey"})},t=()=>{Xt.set({type:"login/pubkey"})};return at.getPubkey()&&Zr("/"),document.title="Log In",[e,t]}class TW extends ut{constructor(e){super(),lt(this,e,PW,RW,ft,{})}}function OW(r){let e,t,n,o,i,a;return o=new $t({props:{type:"button",$$slots:{default:[LW]},$$scope:{ctx:r}}}),o.$on("click",r[1]),{c(){e=K("div"),t=K("div"),t.textContent="Are you sure you want to log out? All data will be cleared.",n=oe(),le(o.$$.fragment),q(e,"class","flex flex-col items-center gap-8")},m(f,c){F(f,e,c),I(e,t),I(e,n),ae(o,e,null),a=!0},p(f,c){const d={};c&4&&(d.$$scope={dirty:c,ctx:f}),o.$set(d)},i(f){a||(O(o.$$.fragment,f),i||Nt(()=>{i=_r(e,Qt,{y:20}),i.start()}),a=!0)},o(f){z(o.$$.fragment,f),a=!1},d(f){f&&D(e),fe(o)}}}function IW(r){let e,t;return{c(){e=K("div"),e.textContent="Clearing your local database..."},m(n,o){F(n,e,o)},p:Fe,i(n){t||Nt(()=>{t=_r(e,Qt,{y:20}),t.start()})},o:Fe,d(n){n&&D(e)}}}function LW(r){let e;return{c(){e=Le("Log out")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function NW(r){let e,t,n,o;const i=[IW,OW],a=[];function f(c,d){return c[0]?0:1}return e=f(r),t=a[e]=i[e](r),{c(){t.c(),n=dt()},m(c,d){a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?a[e].p(c,d):(tt(),z(a[m],1,1,()=>{a[m]=null}),rt(),t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n))},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){a[e].d(c),c&&D(n)}}}function DW(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[NW]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&5&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function FW(r,e,t){let n=!1;const o=async()=>{t(0,n=!0),await JL(),localStorage.clear(),setTimeout(()=>{window.location.href="/login"},1e3)};return document.title="Log Out",[n,o]}class UW extends ut{constructor(e){super(),lt(this,e,FW,DW,ft,{})}}function HW(r){let e=er(r[0])+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=er(n[0])+"")&&Mt(t,e)},d(n){n&&D(t)}}}function jW(r){var C;let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S=(((C=r[0].kind0)==null?void 0:C.about)||"")+"",A,R;return n=new $t({props:{type:"unstyled",class:"fa fa-arrow-left cursor-pointer text-2xl",href:"/messages"}}),i=new No({props:{person:r[0],size:12}}),m=new $t({props:{type:"unstyled",href:xn.person(r[1]),class:"text-lg font-bold",$$slots:{default:[HW]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("div"),le(n.$$.fragment),o=oe(),le(i.$$.fragment),a=oe(),f=K("div"),c=K("div"),d=K("div"),le(m.$$.fragment),v=oe(),_=K("div"),_.innerHTML=`<i class="fa fa-lock text-gray-1"></i> 
          <span class="text-gray-1">Encrypted</span>`,$=oe(),k=K("div"),A=Le(S),q(t,"class","flex items-center gap-4"),q(d,"class","flex items-center gap-4"),q(_,"class","flex items-center gap-2"),q(c,"class","flex w-full items-center justify-between"),q(f,"class","flex w-full flex-col gap-2"),q(e,"slot","header"),q(e,"class","flex items-start gap-4")},m(T,B){F(T,e,B),I(e,t),ae(n,t,null),I(t,o),ae(i,t,null),I(e,a),I(e,f),I(f,c),I(c,d),ae(m,d,null),I(c,v),I(c,_),I(f,$),I(f,k),I(k,A),R=!0},p(T,B){var V;const L={};B&1&&(L.person=T[0]),i.$set(L);const j={};B&4097&&(j.$$scope={dirty:B,ctx:T}),m.$set(j),(!R||B&1)&&S!==(S=(((V=T[0].kind0)==null?void 0:V.about)||"")+"")&&Mt(A,S)},i(T){R||(O(n.$$.fragment,T),O(i.$$.fragment,T),O(m.$$.fragment,T),R=!0)},o(T){z(n.$$.fragment,T),z(i.$$.fragment,T),z(m.$$.fragment,T),R=!1},d(T){T&&D(e),fe(n),fe(i),fe(m)}}}function zW(r){let e,t,n,o,i,a,f=Os(r[11].created_at)+"",c,d,m,v;return o=new Q0({props:{showEntire:!0,note:r[11]}}),{c(){e=K("div"),t=K("div"),n=K("div"),le(o.$$.fragment),i=oe(),a=K("small"),c=Le(f),q(n,"class","break-words"),q(a,"class","mt-1"),Rt(a,"text-gray-7",r[11].person.pubkey===at.getPubkey()),Rt(a,"text-gray-1",r[11].person.pubkey!==at.getPubkey()),q(t,"class",d=tr("inline-block max-w-xl rounded-2xl py-2 px-4",{"rounded-br-none bg-white text-end text-black":r[11].person.pubkey===at.getPubkey(),"rounded-bl-none bg-gray-7":r[11].person.pubkey!==at.getPubkey()})),q(e,"slot","message"),q(e,"class",m=tr("flex overflow-hidden text-ellipsis",{"ml-12 justify-end":r[11].person.pubkey===at.getPubkey(),"mr-12":r[11].person.pubkey!==at.getPubkey()}))},m(_,$){F(_,e,$),I(e,t),I(t,n),ae(o,n,null),I(t,i),I(t,a),I(a,c),v=!0},p(_,$){const k={};$&2048&&(k.note=_[11]),o.$set(k),(!v||$&2048)&&f!==(f=Os(_[11].created_at)+"")&&Mt(c,f),(!v||$&2048)&&Rt(a,"text-gray-7",_[11].person.pubkey===at.getPubkey()),(!v||$&2048)&&Rt(a,"text-gray-1",_[11].person.pubkey!==at.getPubkey()),(!v||$&2048&&d!==(d=tr("inline-block max-w-xl rounded-2xl py-2 px-4",{"rounded-br-none bg-white text-end text-black":_[11].person.pubkey===at.getPubkey(),"rounded-bl-none bg-gray-7":_[11].person.pubkey!==at.getPubkey()})))&&q(t,"class",d),(!v||$&2048&&m!==(m=tr("flex overflow-hidden text-ellipsis",{"ml-12 justify-end":_[11].person.pubkey===at.getPubkey(),"mr-12":_[11].person.pubkey!==at.getPubkey()})))&&q(e,"class",m)},i(_){v||(O(o.$$.fragment,_),v=!0)},o(_){z(o.$$.fragment,_),v=!1},d(_){_&&D(e),fe(o)}}}function qW(r){let e,t;return e=new pM({props:{loadMessages:r[4],listenForMessages:r[3],sendMessage:r[5],$$slots:{message:[zW,({message:n})=>({11:n}),({message:n})=>n?2048:0],header:[jW]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&6145&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function KW(r,e,t){let n,{entity:o}=e,i=mn.getCrypt(),a=Hu(o),f=on("people",()=>Br(a));_t(r,f,k=>t(0,n=k)),Bo.update(Ko(a,dn()));const c=()=>An(g5([a,at.getPubkey()])),d=async k=>{for(const S of k){const A=S.pubkey===a?a:Pr.from(S).type("p").values().first();S.decryptedContent=await i.decrypt(A,S.content)}return k.map(kt.exports.renameProp("decryptedContent","content"))},m=k=>[{kinds:[4],authors:[at.getPubkey()],"#p":[a],...k},{kinds:[4],authors:[a],"#p":[at.getPubkey()],...k}],v=k=>Cr.listen({relays:c(),filter:m({since:dn()}),onChunk:async S=>k(await d(S))}),_=(k,S)=>Cr.load({relays:c(),filter:m(k.getFilter()),onChunk:async A=>S(await d(A))}),$=async k=>{const S=await i.encrypt(a,k),[A]=await jn.createDirectMessage(a,S).publish(c());return{...A,content:k}};return document.title=`DMs with ${er(n)}`,r.$$set=k=>{"entity"in k&&t(6,o=k.entity)},[n,a,f,v,_,$,o]}class WW extends ut{constructor(e){super(),lt(this,e,KW,qW,ft,{entity:6})}}function VW(r){let e;return{c(){e=K("div"),q(e,"class","absolute top-0 right-0 mt-1 h-1 w-1 rounded-full bg-accent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function ZW(r){let e;return{c(){e=K("p"),e.textContent=`${kt.exports.ellipsize(r[1].kind0.about,300)}`,q(e,"class","text-start text-gray-1")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function GW(r){var C;let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S;t=new No({props:{size:14,person:r[1]}});let A=r[0]&&VW(),R=((C=r[1].kind0)==null?void 0:C.about)&&ZW(r);return{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("div"),i=K("div"),a=K("div"),f=K("i"),c=oe(),d=K("h2"),d.textContent=`${er(r[1])}`,m=oe(),v=K("div"),_=K("i"),$=oe(),A&&A.c(),k=oe(),R&&R.c(),q(f,"class","fa fa-lock text-gray-1"),q(d,"class","text-lg"),q(a,"class","flex items-center gap-2 overflow-hidden"),q(_,"class","fa fa-bell"),Rt(_,"text-gray-5",!r[0]),q(v,"class","relative"),q(i,"class","flex flex-grow items-start justify-between gap-2"),q(o,"class","flex min-w-0 flex-grow flex-col justify-start gap-2"),q(e,"class","flex gap-4 px-4 py-6")},m(T,B){F(T,e,B),ae(t,e,null),I(e,n),I(e,o),I(o,i),I(i,a),I(a,f),I(a,c),I(a,d),I(i,m),I(i,v),I(v,_),I(v,$),A&&A.m(v,null),I(o,k),R&&R.m(o,null),S=!0},p(T,B){var L;(L=T[1].kind0)!=null&&L.about&&R.p(T,B)},i(T){S||(O(t.$$.fragment,T),S=!0)},o(T){z(t.$$.fragment,T),S=!1},d(T){T&&D(e),fe(t),A&&A.d(),R&&R.d()}}}function YW(r){let e,t;return e=new K0({props:{interactive:!0,$$slots:{default:[GW]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&32&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function JW(r,e,t){let n;_t(r,Bo,c=>t(4,n=c));let{contact:o}=e;const i=o.lastMessage>n[o.pubkey],a=Br(o.pubkey),f=()=>Zr(`/messages/${br.npubEncode(o.pubkey)}`);return r.$$set=c=>{"contact"in c&&t(3,o=c.contact)},[i,a,f,o]}class XW extends ut{constructor(e){super(),lt(this,e,JW,YW,ft,{contact:3})}}function X2(r,e,t){const n=r.slice();return n[9]=e[t],n}function Q2(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[QW]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function QW(r){let e;return{c(){e=Le(`No messages found - start a conversation by clicking the envelope button on someone's profile.
    `)},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function e_(r,e){let t,n,o;return n=new XW({props:{contact:e[9]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&1&&(f.contact=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function eV(r){let e,t,n=[],o=new Map,i,a;e=new yv({props:{tabs:["messages","requests"],activeTab:r[0],setActiveTab:r[2],getDisplay:r[5]}});let f=r[1](r[0]);const c=m=>m[9].pubkey;for(let m=0;m<f.length;m+=1){let v=X2(r,f,m),_=c(v);o.set(_,n[m]=e_(_,v))}let d=null;return f.length||(d=Q2(r)),{c(){le(e.$$.fragment),t=oe();for(let m=0;m<n.length;m+=1)n[m].c();i=dt(),d&&d.c()},m(m,v){ae(e,m,v),F(m,t,v);for(let _=0;_<n.length;_+=1)n[_].m(m,v);F(m,i,v),d&&d.m(m,v),a=!0},p(m,v){const _={};v&1&&(_.activeTab=m[0]),e.$set(_),v&3&&(f=m[1](m[0]),tt(),n=Sn(n,v,c,1,m,f,o,i.parentNode,kn,e_,i,X2),rt(),!f.length&&d?d.p(m,v):f.length?d&&(tt(),z(d,1,1,()=>{d=null}),rt()):(d=Q2(m),d.c(),O(d,1),d.m(i.parentNode,i)))},i(m){if(!a){O(e.$$.fragment,m);for(let v=0;v<f.length;v+=1)O(n[v]);a=!0}},o(m){z(e.$$.fragment,m);for(let v=0;v<n.length;v+=1)z(n[v]);a=!1},d(m){fe(e,m),m&&D(t);for(let v=0;v<n.length;v+=1)n[v].d(m);m&&D(i),d&&d.d(m)}}}function tV(r){let e,t;return e=new At({props:{$$slots:{default:[eV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&4097&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function rV(r,e,t){let n,o,i="messages";const a=v=>tn(_=>-_.lastMessage,v==="messages"?o:n),f=v=>{t(0,i=v)},c=on("contacts",v=>tn(_=>-_.lastMessage,v.all({accepted:!0})));_t(r,c,v=>t(8,o=v));const d=on("contacts",v=>tn(_=>-_.lastMessage,v.all({"accepted:!eq":!0})));_t(r,d,v=>t(7,n=v));const m=v=>({title:kt.exports.toTitle(v),badge:a(v).length});return document.title="Direct Messages",r.$$.update=()=>{r.$$.dirty&1&&a(i)},[i,a,f,c,d,m]}class nV extends ut{constructor(e){super(),lt(this,e,rV,tV,ft,{})}}function iV(r){return jr(()=>Zr(at.getProfile()?"/login":"/notes/follows")),[]}class oV extends ut{constructor(e){super(),lt(this,e,iV,null,ft,{})}}function t_(r){let e,t,n,o,i=Yr(r[0].verified_as.split("@"))+"",a;return{c(){e=K("div"),t=K("i"),n=oe(),o=K("span"),a=Le(i),q(t,"class","fa fa-user-check text-accent"),q(o,"class","text-gray-1"),q(e,"class","flex gap-1 text-sm")},m(f,c){F(f,e,c),I(e,t),I(e,n),I(e,o),I(o,a)},p(f,c){c&1&&i!==(i=Yr(f[0].verified_as.split("@"))+"")&&Mt(a,i)},d(f){f&&D(e)}}}function r_(r){let e,t;return e=new $t({props:{type:"button-accent",$$slots:{default:[sV]},$$scope:{ctx:r}}}),e.$on("click",function(){Qr($h(r[3]))&&$h(r[3]).apply(this,arguments)}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){r=n;const i={};o&32&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function sV(r){let e;return{c(){e=Le("Following")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function n_(r){let e,t;return e=new $t({props:{type:"button",$$slots:{default:[aV]},$$scope:{ctx:r}}}),e.$on("click",function(){Qr($h(r[4]))&&$h(r[4]).apply(this,arguments)}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){r=n;const i={};o&32&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function aV(r){let e;return{c(){e=Le("Follow")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function fV(r){let e,t,n,o,i,a,f,c=er(r[0])+"",d,m,v,_,$,k,S,A,R,C;t=new No({props:{person:r[0],size:12}});let T=r[0].verified_as&&t_(r),B=r[2]&&r_(r),L=r[1]&&n_(r);return S=new pv({props:{truncate:!0,person:r[0]}}),{c(){e=K("a"),le(t.$$.fragment),n=oe(),o=K("div"),i=K("div"),a=K("div"),f=K("h1"),d=Le(c),m=oe(),T&&T.c(),v=oe(),B&&B.c(),_=oe(),L&&L.c(),$=oe(),k=K("p"),le(S.$$.fragment),q(f,"class","text-xl"),q(a,"class","flex flex-col gap-2"),q(i,"class","flex items-start justify-between gap-2"),q(k,"class","overflow-hidden text-ellipsis"),q(o,"class","flex min-w-0 flex-grow flex-col gap-4"),q(e,"href",A=xn.person(r[0].pubkey)),q(e,"class","flex gap-4 overflow-hidden border-l-2 border-solid border-gray-7 py-3 px-4 transition-all hover:border-accent hover:bg-gray-8")},m(j,V){F(j,e,V),ae(t,e,null),I(e,n),I(e,o),I(o,i),I(i,a),I(a,f),I(f,d),I(a,m),T&&T.m(a,null),I(i,v),B&&B.m(i,null),I(i,_),L&&L.m(i,null),I(o,$),I(o,k),ae(S,k,null),C=!0},p(j,[V]){const Z={};V&1&&(Z.person=j[0]),t.$set(Z),(!C||V&1)&&c!==(c=er(j[0])+"")&&Mt(d,c),j[0].verified_as?T?T.p(j,V):(T=t_(j),T.c(),T.m(a,null)):T&&(T.d(1),T=null),j[2]?B?(B.p(j,V),V&4&&O(B,1)):(B=r_(j),B.c(),O(B,1),B.m(i,_)):B&&(tt(),z(B,1,1,()=>{B=null}),rt()),j[1]?L?(L.p(j,V),V&2&&O(L,1)):(L=n_(j),L.c(),O(L,1),L.m(i,null)):L&&(tt(),z(L,1,1,()=>{L=null}),rt());const Q={};V&1&&(Q.person=j[0]),S.$set(Q),(!C||V&1&&A!==(A=xn.person(j[0].pubkey)))&&q(e,"href",A)},i(j){C||(O(t.$$.fragment,j),O(B),O(L),O(S.$$.fragment,j),R||Nt(()=>{R=_r(e,Qt,{y:20}),R.start()}),C=!0)},o(j){z(t.$$.fragment,j),z(B),z(L),z(S.$$.fragment,j),C=!1},d(j){j&&D(e),fe(t),T&&T.d(),B&&B.d(),L&&L.d(),fe(S)}}}function lV(r,e,t){let{person:n}=e,{addPetname:o=null}=e,{removePetname:i=null}=e;const a=()=>i(n),f=()=>o(n);return r.$$set=c=>{"person"in c&&t(0,n=c.person),"addPetname"in c&&t(1,o=c.addPetname),"removePetname"in c&&t(2,i=c.removePetname)},[n,o,i,a,f]}class _v extends ut{constructor(e){super(),lt(this,e,lV,fV,ft,{person:0,addPetname:1,removePetname:2})}}function uV(r){let e,t;return e=new _v({props:{person:r[0],addPetname:r[1].includes(r[0].pubkey)?null:r[3],removePetname:r[1].includes(r[0].pubkey)?r[4]:null}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.person=n[0]),o&3&&(i.addPetname=n[1].includes(n[0].pubkey)?null:n[3]),o&3&&(i.removePetname=n[1].includes(n[0].pubkey)?n[4]:null),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function cV(r,e,t){let n,{person:o}=e;const{petnamePubkeys:i}=at;_t(r,i,c=>t(1,n=c));const a=({pubkey:c})=>{const[{url:d}]=An(Ji(c));at.addPetname(c,d,er(o))},f=({pubkey:c})=>{at.removePetname(c)};return r.$$set=c=>{"person"in c&&t(0,o=c.person)},[o,n,i,a,f]}class wv extends ut{constructor(e){super(),lt(this,e,cV,uV,ft,{person:0})}}function i_(r,e,t){const n=r.slice();return n[8]=e[t],n}function hV(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function o_(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function s_(r){let e,t;return e=new wv({props:{person:r[8]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.person=n[8]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function a_(r,e){let t,n=e[8].pubkey!==at.getPubkey()&&!(e[0]&&e[3].includes(e[8].pubkey)),o,i,a=n&&s_(e);return{key:r,first:null,c(){t=dt(),a&&a.c(),o=dt(),this.first=t},m(f,c){F(f,t,c),a&&a.m(f,c),F(f,o,c),i=!0},p(f,c){e=f,c&13&&(n=e[8].pubkey!==at.getPubkey()&&!(e[0]&&e[3].includes(e[8].pubkey))),n?a?(a.p(e,c),c&13&&O(a,1)):(a=s_(e),a.c(),O(a,1),a.m(o.parentNode,o)):a&&(tt(),z(a,1,1,()=>{a=null}),rt())},i(f){i||(O(a),i=!0)},o(f){z(a),i=!1},d(f){f&&D(t),a&&a.d(f),f&&D(o)}}}function dV(r){let e,t,n,o=[],i=new Map,a,f;function c($){r[7]($)}let d={placeholder:"Search for people",$$slots:{before:[hV]},$$scope:{ctx:r}};r[1]!==void 0&&(d.value=r[1]),e=new Kr({props:d}),Ct.push(()=>Er(e,"value",c));let m=r[2];const v=$=>$[8].pubkey;for(let $=0;$<m.length;$+=1){let k=i_(r,m,$),S=v(k);i.set(S,o[$]=a_(S,k))}let _=null;return m.length||(_=o_()),{c(){le(e.$$.fragment),n=oe();for(let $=0;$<o.length;$+=1)o[$].c();a=dt(),_&&_.c()},m($,k){ae(e,$,k),F($,n,k);for(let S=0;S<o.length;S+=1)o[S].m($,k);F($,a,k),_&&_.m($,k),f=!0},p($,[k]){const S={};k&2048&&(S.$$scope={dirty:k,ctx:$}),!t&&k&2&&(t=!0,S.value=$[1],Sr(()=>t=!1)),e.$set(S),k&13&&(m=$[2],tt(),o=Sn(o,k,v,1,$,m,i,a.parentNode,kn,a_,a,i_),rt(),m.length?_&&(tt(),z(_,1,1,()=>{_=null}),rt()):_||(_=o_(),_.c(),O(_,1),_.m(a.parentNode,a)))},i($){if(!f){O(e.$$.fragment,$);for(let k=0;k<m.length;k+=1)O(o[k]);f=!0}},o($){z(e.$$.fragment,$);for(let k=0;k<o.length;k+=1)z(o[k]);f=!1},d($){fe(e,$),$&&D(n);for(let k=0;k<o.length;k+=1)o[k].d($);$&&D(a),_&&_.d($)}}}function pV(r,e,t){let n,o,{hideFollowing:i=!1}=e,a,f=[];const{petnamePubkeys:c}=at;_t(r,c,v=>t(3,o=v));const d=on("people",v=>Sa(v.all({"kind0.name:!nil":null}),{keys:["kind0.name","kind0.about","pubkey"]}));_t(r,d,v=>t(6,n=v)),Cr.load({relays:Wu(),filter:{kinds:T0,limit:10}}),document.title="Search";function m(v){a=v,t(1,a)}return r.$$set=v=>{"hideFollowing"in v&&t(0,i=v.hideFollowing)},r.$$.update=()=>{r.$$.dirty&66&&t(2,f=n(a).slice(0,50))},[i,a,f,o,c,d,n,m]}class vM extends ut{constructor(e){super(),lt(this,e,pV,dV,ft,{hideFollowing:0})}}function mV(r){let e,t;return e=new vM({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function vV(r){let e,t;return e=new At({props:{$$slots:{default:[mV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}class gV extends ut{constructor(e){super(),lt(this,e,null,vV,ft,{})}}class Yt{constructor(e,t,n,o,i){this._legacyCanvasSize=Yt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=t:(console.warn(n||o||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t=typeof n=="object"?n:{},this._onDecodeError=t.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||(typeof o=="function"?o:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof o=="number"?o:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let a=!1;if(e.hidden&&(e.hidden=!1,a=!0),document.body.contains(e)||(document.body.appendChild(e),a=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(o=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!o&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let f=window.getComputedStyle(e);f.display==="none"&&(e.style.setProperty("display","block","important"),a=!0),f.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),a=!0),a&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Yt.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Yt.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),n;try{e&&(await t()).every(o=>!o.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await t()).map((o,i)=>({id:o.deviceId,label:o.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Yt._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Yt._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Yt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?Yt._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(Yt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(t(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,o,i=!1,a=!1){let f,c=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(f=t.scanRegion,n=t.qrEngine,o=t.canvas,i=t.disallowCanvasResizing||!1,a=t.alsoTryWithoutScanRegion||!1,c=!0):console.warn(t||n||o||i||a?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let d,m;[n,d]=await Promise.all([n||Yt.createQrEngine(),Yt._loadImage(e)]),[o,m]=Yt._drawToCanvas(d,f,o,i);let v;if(n instanceof Worker){let _=n;t||Yt._postWorkerMessageSync(_,"inversionMode","both"),v=await new Promise(($,k)=>{let S,A,R,C=-1;A=B=>{B.data.id===C&&(_.removeEventListener("message",A),_.removeEventListener("error",R),clearTimeout(S),B.data.data!==null?$({data:B.data.data,cornerPoints:Yt._convertPoints(B.data.cornerPoints,f)}):k(Yt.NO_QR_CODE_FOUND))},R=B=>{_.removeEventListener("message",A),_.removeEventListener("error",R),clearTimeout(S),k("Scanner error: "+(B?B.message||B:"Unknown Error"))},_.addEventListener("message",A),_.addEventListener("error",R),S=setTimeout(()=>R("timeout"),1e4);let T=m.getImageData(0,0,o.width,o.height);C=Yt._postWorkerMessageSync(_,"decode",T,[T.data.buffer])})}else v=await Promise.race([new Promise((_,$)=>window.setTimeout(()=>$("Scanner error: timeout"),1e4)),(async()=>{try{var[_]=await n.detect(o);if(!_)throw Yt.NO_QR_CODE_FOUND;return{data:_.rawValue,cornerPoints:Yt._convertPoints(_.cornerPoints,f)}}catch($){if(_=$.message||$,/not implemented|service unavailable/.test(_))return Yt._disableBarcodeDetector=!0,Yt.scanImage(e,{scanRegion:f,canvas:o,disallowCanvasResizing:i,alsoTryWithoutScanRegion:a});throw`Scanner error: ${_}`}})()]);return c?v:v.data}catch(d){if(!f||!a)throw d;let m=await Yt.scanImage(e,{qrEngine:n,canvas:o,disallowCanvasResizing:i});return c?m:m.data}finally{t||Yt._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,o=!0){Yt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:o})}setInversionMode(e){Yt._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>o5(()=>import("./qr-scanner-worker.min.56d417f3.js"),[]).then(n=>n.createWorker()),!(!Yt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let t=navigator.userAgentData;return t&&t.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(t.platform)&&await t.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:o})=>/arm/i.test(n||"arm")&&13<=parseInt(o||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,o=e.offsetWidth,i=e.offsetHeight,a=e.offsetLeft,f=e.offsetTop,c=window.getComputedStyle(e),d=c.objectFit,m=t/n,v=o/i;switch(d){case"none":var _=t,$=n;break;case"fill":_=o,$=i;break;default:(d==="cover"?m>v:m<v)?($=i,_=$*m):(_=o,$=_/m),d==="scale-down"&&(_=Math.min(_,t),$=Math.min($,n))}var[k,S]=c.objectPosition.split(" ").map((R,C)=>{const T=parseFloat(R);return R.endsWith("%")?(C?i-$:o-_)*T/100:T});c=this._scanRegion.width||t,v=this._scanRegion.height||n,d=this._scanRegion.x||0;var A=this._scanRegion.y||0;m=this.$overlay.style,m.width=`${c/t*_}px`,m.height=`${v/n*$}px`,m.top=`${f+S+A/n*$}px`,n=/scaleX\(-1\)/.test(e.style.transform),m.left=`${a+(n?o-k-_:k)+(n?t-d-c:d)/t*_}px`,m.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,o=t.y||0,i=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let a of e)a.x=a.x*i+n,a.y=a.y*t+o;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(o=>setTimeout(o,t-e)),this._lastScanTimestamp=Date.now();try{var n=await Yt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(o){if(!this._active)return;this._onDecodeError(o)}!Yt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Yt.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:o,y:i})=>`${o},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==Yt.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map(o=>Object.assign({},o,{[e]:{exact:this._preferredCamera}}));for(let o of[...n,...t])try{let i=await navigator.mediaDevices.getUserMedia({video:o,audio:!1}),a=this._getFacingMode(i)||(o.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:a}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,o=!1){n=n||document.createElement("canvas");let i=t&&t.x?t.x:0,a=t&&t.y?t.y:0,f=t&&t.width?t.width:e.videoWidth||e.width,c=t&&t.height?t.height:e.videoHeight||e.height;return o||(o=t&&t.downScaledWidth?t.downScaledWidth:f,t=t&&t.downScaledHeight?t.downScaledHeight:c,n.width!==o&&(n.width=o),n.height!==t&&(n.height=t)),t=n.getContext("2d",{alpha:!1}),t.imageSmoothingEnabled=!1,t.drawImage(e,i,a,f,c,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await Yt._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Yt._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((t,n)=>{let o=i=>{e.removeEventListener("load",o),e.removeEventListener("error",o),i instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",o),e.addEventListener("error",o)})}static async _postWorkerMessage(e,t,n,o){return Yt._postWorkerMessageSync(await e,t,n,o)}static _postWorkerMessageSync(e,t,n,o){if(!(e instanceof Worker))return-1;let i=Yt._workerMessageId++;return e.postMessage({id:i,type:t,data:n},o),i}}Yt.DEFAULT_CANVAS_SIZE=400;Yt.NO_QR_CODE_FOUND="No QR code found";Yt._disableBarcodeDetector=!1;Yt._workerMessageId=0;function yV(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-arrow-right")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function bV(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-camera")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function f_(r){let e,t;return e=new ei({props:{$$slots:{default:[_V]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _V(r){let e;return{c(){e=Le("Loading your camera...")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function wV(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S;function A(T){r[5](T)}let R={placeholder:"nprofile...",wrapperClass:"flex-grow"};r[1]!==void 0&&(R.value=r[1]),t=new Kr({props:R}),Ct.push(()=>Er(t,"value",A)),i=new $t({props:{type:"button",$$slots:{default:[yV]},$$scope:{ctx:r}}}),i.$on("click",r[6]),f=new $t({props:{type:"button",$$slots:{default:[bV]},$$scope:{ctx:r}}}),f.$on("click",r[4]);let C=r[2]==="loading"&&f_(r);return{c(){e=K("form"),le(t.$$.fragment),o=oe(),le(i.$$.fragment),a=oe(),le(f.$$.fragment),c=oe(),d=K("div"),d.textContent=`Enter any nostr identifier (npub, nevent, nprofile, note or user@domain.tld), or click on the
    camera icon to scan with your device's camera instead.`,m=oe(),C&&C.c(),v=oe(),_=K("video"),q(e,"class","flex gap-2"),q(d,"class","text-center text-gray-1")},m(T,B){F(T,e,B),ae(t,e,null),I(e,o),ae(i,e,null),I(e,a),ae(f,e,null),F(T,c,B),F(T,d,B),F(T,m,B),C&&C.m(T,B),F(T,v,B),F(T,_,B),r[8](_),$=!0,k||(S=ct(e,"submit",mu(r[7])),k=!0)},p(T,B){const L={};!n&&B&2&&(n=!0,L.value=T[1],Sr(()=>n=!1)),t.$set(L);const j={};B&2048&&(j.$$scope={dirty:B,ctx:T}),i.$set(j);const V={};B&2048&&(V.$$scope={dirty:B,ctx:T}),f.$set(V),T[2]==="loading"?C?B&4&&O(C,1):(C=f_(T),C.c(),O(C,1),C.m(v.parentNode,v)):C&&(tt(),z(C,1,1,()=>{C=null}),rt())},i(T){$||(O(t.$$.fragment,T),O(i.$$.fragment,T),O(f.$$.fragment,T),O(C),$=!0)},o(T){z(t.$$.fragment,T),z(i.$$.fragment,T),z(f.$$.fragment,T),z(C),$=!1},d(T){T&&D(e),fe(t),fe(i),fe(f),T&&D(c),T&&D(d),T&&D(m),C&&C.d(T),T&&D(v),T&&D(_),r[8](null),k=!1,S()}}}function MV(r){let e,t;return e=new At({props:{$$slots:{default:[wV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&2055&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function $V(r,e,t){let n,o,i,a="";const f=k=>{c(k.data)},c=async k=>{if(k=k.replace("nostr:",""),xi(A=>k.startsWith(A),["note1","npub1","nevent1","nprofile1"])){Zr("/"+k);return}if(k.match(/^[a-f0-9]{64}$/)){Zr("/"+br.npubEncode(k));return}let S=await C0.queryProfile(k);if(S){Zr("/"+br.nprofileEncode(S));return}en.show("warning","That isn't a valid nostr identifier")},d=async()=>{t(2,a="loading"),i=new Yt(n,f,{returnDetailedScanResult:!0}),await i.start(),t(2,a="ready")};_1(async()=>{i&&(await i.stop(),await i.destroy())});function m(k){o=k,t(1,o)}const v=()=>c(o),_=()=>c(o);function $(k){Ct[k?"unshift":"push"](()=>{n=k,t(0,n)})}return[n,o,a,c,d,m,v,_,$]}class xV extends ut{constructor(e){super(),lt(this,e,$V,MV,ft,{})}}function kV(r){let e,t;return e=new $t({props:{type:"button-circle",href:`mailto:${r[5].contact}`,$$slots:{default:[SV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function SV(r){let e;return{c(){e=K("i"),q(e,"class","fa fa-envelope")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function EV(r){let e,t;return e=new $t({props:{type:"button",class:"flex items-center gap-2 rounded-full",$$slots:{default:[BV]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function AV(r){let e,t,n=r[0].length>1&&l_(r);return{c(){n&&n.c(),e=dt()},m(o,i){n&&n.m(o,i),F(o,e,i),t=!0},p(o,i){o[0].length>1?n?(n.p(o,i),i&1&&O(n,1)):(n=l_(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(tt(),z(n,1,1,()=>{n=null}),rt())},i(o){t||(O(n),t=!0)},o(o){z(n),t=!1},d(o){n&&n.d(o),o&&D(e)}}}function BV(r){let e,t;return{c(){e=K("i"),t=Le(" Join"),q(e,"class","fa fa-right-to-bracket")},m(n,o){F(n,e,o),F(n,t,o)},p:Fe,d(n){n&&D(e),n&&D(t)}}}function l_(r){let e,t;return e=new $t({props:{type:"button",class:"flex items-center gap-2 rounded-full",$$slots:{default:[RV]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4096&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function RV(r){let e,t;return{c(){e=K("i"),t=Le(" Leave"),q(e,"class","fa fa-right-from-bracket")},m(n,o){F(n,e,o),F(n,t,o)},p:Fe,d(n){n&&D(e),n&&D(t)}}}function CV(r){let e;return{c(){e=K("p"),e.textContent=`${r[5].description}`},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function PV(r){let e,t,n,o,i,a=n5(r[5])+"",f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V=r[5].contact&&kV(r);const Z=[AV,EV],Q=[];function ne(s,u){return s[4]?0:1}A=ne(r),R=Q[A]=Z[A](r);let w=r[5].description&&CV(r);return{c(){e=K("div"),t=K("div"),n=K("i"),o=oe(),i=K("span"),f=Le(a),c=oe(),d=K("span"),m=oe(),v=K("p"),_=Le(r[2]),$=oe(),k=K("div"),V&&V.c(),S=oe(),R.c(),C=oe(),w&&w.c(),T=dt(),q(n,"class",r[5].url.startsWith("wss")?"fa fa-lock":"fa fa-unlock"),q(i,"class","border-b border-solid"),q(i,"style",`border-color: ${va(_f(r[5].url))}`),q(d,"class","h-2 w-2 cursor-pointer rounded-full bg-gray-6"),Rt(d,"bg-gray-6",r[2]==="Not connected"),Rt(d,"bg-danger",r[1]<=.3&&r[2]!=="Not connected"),Rt(d,"bg-warning",kt.exports.between(.3,.7,r[1])),Rt(d,"bg-success",r[1]>.7),q(v,"class","hidden text-sm text-gray-1 transition-all sm:block"),Rt(v,"opacity-0",!r[3]),Rt(v,"opacity-1",r[3]),q(t,"class","flex items-center gap-2 text-xl"),q(k,"class","flex flex-wrap items-center gap-3 whitespace-nowrap"),q(e,"class","flex items-center justify-between gap-2")},m(s,u){F(s,e,u),I(e,t),I(t,n),I(t,o),I(t,i),I(i,f),I(t,c),I(t,d),I(t,m),I(t,v),I(v,_),I(e,$),I(e,k),V&&V.m(k,null),I(k,S),Q[A].m(k,null),F(s,C,u),w&&w.m(s,u),F(s,T,u),B=!0,L||(j=[ct(d,"mouseout",r[8]),ct(d,"mouseover",r[9])],L=!0)},p(s,u){(!B||u&4)&&Rt(d,"bg-gray-6",s[2]==="Not connected"),(!B||u&6)&&Rt(d,"bg-danger",s[1]<=.3&&s[2]!=="Not connected"),(!B||u&2)&&Rt(d,"bg-warning",kt.exports.between(.3,.7,s[1])),(!B||u&2)&&Rt(d,"bg-success",s[1]>.7),(!B||u&4)&&Mt(_,s[2]),(!B||u&8)&&Rt(v,"opacity-0",!s[3]),(!B||u&8)&&Rt(v,"opacity-1",s[3]),s[5].contact&&V.p(s,u);let h=A;A=ne(s),A===h?Q[A].p(s,u):(tt(),z(Q[h],1,1,()=>{Q[h]=null}),rt(),R=Q[A],R?R.p(s,u):(R=Q[A]=Z[A](s),R.c()),O(R,1),R.m(k,null)),s[5].description&&w.p(s,u)},i(s){B||(O(V),O(R),B=!0)},o(s){z(V),z(R),B=!1},d(s){s&&D(e),V&&V.d(),Q[A].d(),s&&D(C),w&&w.d(s),s&&D(T),L=!1,sn(j)}}}function TV(r){let e,t;return e=new ec({props:{relays:[r[5]],filter:{kinds:[1]}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OV(r){let e,t,n,o,i,a;return e=new At({props:{$$slots:{default:[PV]},$$scope:{ctx:r}}}),i=new At({props:{$$slots:{default:[TV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment),t=oe(),n=K("div"),o=oe(),le(i.$$.fragment),q(n,"class","border-b border-solid border-gray-6")},m(f,c){ae(e,f,c),F(f,t,c),F(f,n,c),F(f,o,c),ae(i,f,c),a=!0},p(f,[c]){const d={};c&4127&&(d.$$scope={dirty:c,ctx:f}),e.$set(d);const m={};c&4096&&(m.$$scope={dirty:c,ctx:f}),i.$set(m)},i(f){a||(O(e.$$.fragment,f),O(i.$$.fragment,f),a=!0)},o(f){z(e.$$.fragment,f),z(i.$$.fragment,f),a=!1},d(f){fe(e,f),f&&D(t),f&&D(n),f&&D(o),fe(i,f)}}}function IV(r,e,t){let n,{url:o}=e;const i=Ns.get(o)||{url:o};let a=null,f=null,c=!1,d=!1;const{relays:m}=at;_t(r,m,S=>t(0,n=S)),jr(()=>R1(1e4,async()=>{t(1,[a,f]=Tr.getQuality(i.url),a,t(2,f))})),document.title=n5(i);const v=()=>{t(3,c=!1)},_=()=>{t(3,c=!0)},$=()=>at.removeRelay(i.url),k=()=>at.addRelay(i.url);return r.$$set=S=>{"url"in S&&t(7,o=S.url)},r.$$.update=()=>{r.$$.dirty&1&&t(4,d=xi(hn("url",i.url),n))},[n,a,f,c,d,i,m,o,v,_,$,k]}class LV extends ut{constructor(e){super(),lt(this,e,IV,OV,ft,{url:7})}}function u_(r,e,t){const n=r.slice();return n[7]=e[t],n}function NV(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function c_(r,e){let t,n,o;return n=new ul({props:{relay:e[7]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&12&&(f.relay=e[7]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function DV(r){let e,t,n,o=[],i=new Map,a,f,c,d=Math.min((r[0]||[]).length-r[1].length,50)+"",m,v,_=(r[0]||[]).length-r[1].length+"",$,k,S;function A(B){r[6](B)}let R={type:"text",wrapperClass:"flex-grow",placeholder:"Type to search",$$slots:{before:[NV]},$$scope:{ctx:r}};r[2]!==void 0&&(R.value=r[2]),e=new Kr({props:R}),Ct.push(()=>Er(e,"value",A));let C=(r[3](r[2])||[]).slice(0,50);const T=B=>B[7].url;for(let B=0;B<C.length;B+=1){let L=u_(r,C,B),j=T(L);i.set(j,o[B]=c_(j,L))}return{c(){le(e.$$.fragment),n=oe();for(let B=0;B<o.length;B+=1)o[B].c();a=oe(),f=K("small"),c=Le("Showing "),m=Le(d),v=Le(`
  of `),$=Le(_),k=Le(" known relays"),q(f,"class","text-center")},m(B,L){ae(e,B,L),F(B,n,L);for(let j=0;j<o.length;j+=1)o[j].m(B,L);F(B,a,L),F(B,f,L),I(f,c),I(f,m),I(f,v),I(f,$),I(f,k),S=!0},p(B,[L]){const j={};L&1024&&(j.$$scope={dirty:L,ctx:B}),!t&&L&4&&(t=!0,j.value=B[2],Sr(()=>t=!1)),e.$set(j),L&12&&(C=(B[3](B[2])||[]).slice(0,50),tt(),o=Sn(o,L,T,1,B,C,i,a.parentNode,kn,c_,a,u_),rt()),(!S||L&3)&&d!==(d=Math.min((B[0]||[]).length-B[1].length,50)+"")&&Mt(m,d),(!S||L&3)&&_!==(_=(B[0]||[]).length-B[1].length+"")&&Mt($,_)},i(B){if(!S){O(e.$$.fragment,B);for(let L=0;L<C.length;L+=1)O(o[L]);S=!0}},o(B){z(e.$$.fragment,B);for(let L=0;L<o.length;L+=1)z(o[L]);S=!1},d(B){fe(e,B),B&&D(n);for(let L=0;L<o.length;L+=1)o[L].d(B);B&&D(a),B&&D(f)}}}function FV(r,e,t){let n,o,i="",a,f=on("relays",m=>m.all());_t(r,f,m=>t(0,n=m));const{relays:c}=at;_t(r,c,m=>t(1,o=m));function d(m){i=m,t(2,i)}return r.$$.update=()=>{if(r.$$.dirty&3){const m=new Set(Ar("url",o));t(3,a=Sa(n.filter(v=>!m.has(v.url)),{keys:["name","description","url"]}))}},[n,o,i,a,f,c,d]}class gM extends ut{constructor(e){super(),lt(this,e,FV,DV,ft,{})}}function h_(r,e,t){const n=r.slice();return n[3]=e[t],n}function UV(r){let e,t;return{c(){e=K("i"),t=Le(" Add Relay"),q(e,"class","fa-solid fa-plus")},m(n,o){F(n,e,o),F(n,t,o)},p:Fe,d(n){n&&D(e),n&&D(t)}}}function d_(r){let e;return{c(){e=K("div"),e.innerHTML=`<i class="fa fa-triangle-exclamation"></i>
        No relays connected`,q(e,"class","mt-8 flex items-center justify-center gap-2 text-center")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function p_(r,e){let t,n,o;return n=new ul({props:{showControls:!0,relay:e[3]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&1&&(f.relay=e[3]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function HV(r){let e,t,n,o,i,a,f,c,d,m=[],v=new Map,_,$,k,S,A,R,C,T,B,L,j;o=new $t({props:{type:"button-accent",$$slots:{default:[UV]},$$scope:{ctx:r}}}),o.$on("click",r[2]);let V=r[0].length===0&&d_(),Z=r[0];const Q=ne=>ne[3].url;for(let ne=0;ne<Z.length;ne+=1){let w=h_(r,Z,ne),s=Q(w);v.set(s,m[ne]=p_(s,w))}return B=new gM({}),{c(){e=K("div"),t=K("div"),t.innerHTML=`<i class="fa fa-server fa-lg"></i> 
        <h2 class="staatliches text-2xl">Your relays</h2>`,n=oe(),le(o.$$.fragment),i=oe(),a=K("p"),a.textContent=`Relays are hubs for your content and connections. At least one is required to interact with
      the network, but you can join as many as you like.`,f=oe(),V&&V.c(),c=oe(),d=K("div");for(let ne=0;ne<m.length;ne+=1)m[ne].c();_=oe(),$=K("div"),k=K("div"),S=oe(),A=K("div"),A.innerHTML=`<i class="fa fa-earth-asia fa-lg"></i> 
        <h2 class="staatliches text-2xl">Other relays</h2>`,R=oe(),C=K("p"),C.textContent=`Coracle automatically discovers relays as you browse the network. Adding more relays will
        generally make things quicker to load, at the expense of higher data usage.`,T=oe(),le(B.$$.fragment),q(t,"class","flex items-center gap-2"),q(e,"class","flex justify-between"),q(d,"class","grid grid-cols-1 gap-4"),q(k,"class","mb-2 border-b border-solid border-gray-6 pt-2"),q(A,"class","flex items-center gap-2"),q($,"class","flex flex-col gap-6")},m(ne,w){F(ne,e,w),I(e,t),I(e,n),ae(o,e,null),F(ne,i,w),F(ne,a,w),F(ne,f,w),V&&V.m(ne,w),F(ne,c,w),F(ne,d,w);for(let s=0;s<m.length;s+=1)m[s].m(d,null);F(ne,_,w),F(ne,$,w),I($,k),I($,S),I($,A),I($,R),I($,C),I($,T),ae(B,$,null),j=!0},p(ne,w){const s={};w&64&&(s.$$scope={dirty:w,ctx:ne}),o.$set(s),ne[0].length===0?V||(V=d_(),V.c(),V.m(c.parentNode,c)):V&&(V.d(1),V=null),w&1&&(Z=ne[0],tt(),m=Sn(m,w,Q,1,ne,Z,v,d,kn,p_,null,h_),rt())},i(ne){if(!j){O(o.$$.fragment,ne);for(let w=0;w<Z.length;w+=1)O(m[w]);O(B.$$.fragment,ne),L||Nt(()=>{L=_r($,Qt,{y:20}),L.start()}),j=!0}},o(ne){z(o.$$.fragment,ne);for(let w=0;w<m.length;w+=1)z(m[w]);z(B.$$.fragment,ne),j=!1},d(ne){ne&&D(e),fe(o),ne&&D(i),ne&&D(a),ne&&D(f),V&&V.d(ne),ne&&D(c),ne&&D(d);for(let w=0;w<m.length;w+=1)m[w].d();ne&&D(_),ne&&D($),fe(B)}}}function jV(r){let e,t,n,o;return t=new At({props:{$$slots:{default:[HV]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,[a]){const f={};a&65&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function zV(r,e,t){let n;const{relays:o}=at;return _t(r,o,a=>t(0,n=a)),document.title="Relays",[n,o,()=>Xt.set({type:"relay/add"})]}class qV extends ut{constructor(e){super(),lt(this,e,zV,jV,ft,{})}}function m_(r,e,t){const n=r.slice();return n[15]=e[t],n}function v_(r,e,t){const n=r.slice();return n[12]=e[t],n}function KV(r){let e;const t=r[10].default,n=Ir(t,r,r[11],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&2048)&&Nr(n,t,o,o[11],e?Lr(t,o[11],i,null):Dr(o[11]),null)},i(o){e||(O(n,o),e=!0)},o(o){z(n,o),e=!1},d(o){n&&n.d(o)}}}function WV(r){let e,t;return e=new At({props:{size:"lg",$$slots:{default:[JV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function VV(r){let e,t;return e=new Lo({props:{onEscape:r[7],$$slots:{default:[QV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2050&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function ZV(r){let e,t;return e=new At({props:{size:"lg",$$slots:{default:[tZ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2048&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function GV(r){let e,t;return e=new Lo({props:{onEscape:r[7],$$slots:{default:[nZ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2052&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function YV(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function JV(r){let e,t,n,o,i,a,f,c;return a=new $t({props:{href:"/search/people",$$slots:{default:[YV]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("div"),t.innerHTML=`<i class="fa fa-triangle-exclamation fa-light"></i>
        You aren&#39;t yet following anyone.`,n=oe(),o=K("div"),i=Le("Click "),le(a.$$.fragment),f=Le(" to find some interesting people."),q(t,"class","flex items-center gap-2 text-xl"),q(e,"class","mt-12 flex flex-col items-center gap-4")},m(d,m){F(d,e,m),I(e,t),I(e,n),I(e,o),I(o,i),ae(a,o,null),I(o,f),c=!0},p(d,m){const v={};m&2048&&(v.$$scope={dirty:m,ctx:d}),a.$set(v)},i(d){c||(O(a.$$.fragment,d),c=!0)},o(d){z(a.$$.fragment,d),c=!1},d(d){d&&D(e),fe(a)}}}function g_(r){let e;return{c(){e=K("h1"),e.textContent="Your Follows",q(e,"class","text-2xl")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function y_(r){let e;return{c(){e=K("div"),e.innerHTML=`<div class="text-xl flex gap-2 items-center"><i class="fa fa-triangle-exclamation fa-light"></i>
            You aren&#39;t yet following anyone.</div> 
          <div>Search below to find some interesting people.</div>`,q(e,"class","flex flex-col items-center gap-4 my-8")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function b_(r,e){let t,n,o;return n=new wv({props:{person:Br(e[15])}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&2&&(f.person=Br(e[15])),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function XV(r){let e,t=[],n=new Map,o,i,a,f=r[1].length>0&&g_(),c=r[1];const d=v=>v[15];for(let v=0;v<c.length;v+=1){let _=m_(r,c,v),$=d(_);n.set($,t[v]=b_($,_))}let m=null;return c.length||(m=y_()),i=new vM({props:{hideFollowing:!0}}),{c(){f&&f.c(),e=oe();for(let v=0;v<t.length;v+=1)t[v].c();m&&m.c(),o=oe(),le(i.$$.fragment)},m(v,_){f&&f.m(v,_),F(v,e,_);for(let $=0;$<t.length;$+=1)t[$].m(v,_);m&&m.m(v,_),F(v,o,_),ae(i,v,_),a=!0},p(v,_){v[1].length>0?f||(f=g_(),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),_&2&&(c=v[1],tt(),t=Sn(t,_,d,1,v,c,n,o.parentNode,kn,b_,o,m_),rt(),!c.length&&m?m.p(v,_):c.length?m&&(m.d(1),m=null):(m=y_(),m.c(),m.m(o.parentNode,o)))},i(v){if(!a){for(let _=0;_<c.length;_+=1)O(t[_]);O(i.$$.fragment,v),a=!0}},o(v){for(let _=0;_<t.length;_+=1)z(t[_]);z(i.$$.fragment,v),a=!1},d(v){f&&f.d(v),v&&D(e);for(let _=0;_<t.length;_+=1)t[_].d(v);m&&m.d(v),v&&D(o),fe(i,v)}}}function QV(r){let e,t;return e=new At({props:{$$slots:{default:[XV]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2050&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function eZ(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function tZ(r){let e,t,n,o,i,a,f,c;return a=new $t({props:{href:"/relays",$$slots:{default:[eZ]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("div"),t.innerHTML=`<i class="fa fa-triangle-exclamation fa-light"></i>
        You aren&#39;t yet connected to any relays.`,n=oe(),o=K("div"),i=Le("Click "),le(a.$$.fragment),f=Le(" to find one to join."),q(t,"class","flex items-center gap-2 text-xl"),q(e,"class","mt-12 flex flex-col items-center gap-4")},m(d,m){F(d,e,m),I(e,t),I(e,n),I(e,o),I(o,i),ae(a,o,null),I(o,f),c=!0},p(d,m){const v={};m&2048&&(v.$$scope={dirty:m,ctx:d}),a.$set(v)},i(d){c||(O(a.$$.fragment,d),c=!0)},o(d){z(a.$$.fragment,d),c=!1},d(d){d&&D(e),fe(a)}}}function __(r){let e;return{c(){e=K("h1"),e.textContent="Your Relays",q(e,"class","text-2xl")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function w_(r){let e;return{c(){e=K("div"),e.innerHTML=`<div class="text-xl flex gap-2 items-center"><i class="fa fa-triangle-exclamation fa-light"></i>
            You aren&#39;t yet connected to any relays.</div> 
          <div>Search below to find one to join.</div>`,q(e,"class","flex flex-col items-center gap-4 my-8")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function M_(r,e){let t,n,o;return n=new ul({props:{showControls:!0,relay:e[12]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&4&&(f.relay=e[12]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function rZ(r){let e,t=[],n=new Map,o,i,a,f=r[2].length>0&&__(),c=r[2];const d=v=>v[12].url;for(let v=0;v<c.length;v+=1){let _=v_(r,c,v),$=d(_);n.set($,t[v]=M_($,_))}let m=null;return c.length||(m=w_()),i=new gM({}),{c(){f&&f.c(),e=oe();for(let v=0;v<t.length;v+=1)t[v].c();m&&m.c(),o=oe(),le(i.$$.fragment)},m(v,_){f&&f.m(v,_),F(v,e,_);for(let $=0;$<t.length;$+=1)t[$].m(v,_);m&&m.m(v,_),F(v,o,_),ae(i,v,_),a=!0},p(v,_){v[2].length>0?f||(f=__(),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),_&4&&(c=v[2],tt(),t=Sn(t,_,d,1,v,c,n,o.parentNode,kn,M_,o,v_),rt(),!c.length&&m?m.p(v,_):c.length?m&&(m.d(1),m=null):(m=w_(),m.c(),m.m(o.parentNode,o)))},i(v){if(!a){for(let _=0;_<c.length;_+=1)O(t[_]);O(i.$$.fragment,v),a=!0}},o(v){for(let _=0;_<t.length;_+=1)z(t[_]);z(i.$$.fragment,v),a=!1},d(v){f&&f.d(v),v&&D(e);for(let _=0;_<t.length;_+=1)t[_].d(v);m&&m.d(v),v&&D(o),fe(i,v)}}}function nZ(r){let e,t;return e=new At({props:{$$slots:{default:[rZ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2052&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function iZ(r){let e,t,n,o,i,a;const f=[GV,ZV,VV,WV,KV],c=[];function d(m,v){return m[0]==="relays"?0:(e==null&&(e=!!m[5]()),e?1:m[0]==="people"?2:(t==null&&(t=!!m[6]()),t?3:4))}return n=d(r),o=c[n]=f[n](r),{c(){o.c(),i=dt()},m(m,v){c[n].m(m,v),F(m,i,v),a=!0},p(m,[v]){let _=n;n=d(m),n===_?c[n].p(m,v):(tt(),z(c[_],1,1,()=>{c[_]=null}),rt(),o=c[n],o?o.p(m,v):(o=c[n]=f[n](m),o.c()),O(o,1),o.m(i.parentNode,i))},i(m){a||(O(o),a=!0)},o(m){z(o),a=!1},d(m){c[n].d(m),m&&D(i)}}}function oZ(r,e,t){let n,o,{$$slots:i={},$$scope:a}=e,{enforceRelays:f=!0}=e,{enforcePeople:c=!0}=e;const{petnamePubkeys:d,relays:m}=at;_t(r,d,S=>t(1,n=S)),_t(r,m,S=>t(2,o=S));const v=()=>o.length===0&&f,_=()=>n.length===0&&c;let $=v()?"relays":_()?"people":null;const k=()=>{t(0,$=null)};return r.$$set=S=>{"enforceRelays"in S&&t(8,f=S.enforceRelays),"enforcePeople"in S&&t(9,c=S.enforcePeople),"$$scope"in S&&t(11,a=S.$$scope)},[$,n,o,d,m,v,_,k,f,c,i,a]}class Mv extends ut{constructor(e){super(),lt(this,e,oZ,iZ,ft,{enforceRelays:8,enforcePeople:9})}}function sZ(r){let e,t,n,o;const i=r[5].default,a=Ir(i,r,r[4],null);let f=[r[1],{class:r[0]}],c={};for(let d=0;d<f.length;d+=1)c=Ft(c,f[d]);return{c(){e=K("button"),a&&a.c(),vn(e,c)},m(d,m){F(d,e,m),a&&a.m(e,null),e.autofocus&&e.focus(),t=!0,n||(o=ct(e,"click",r[6]),n=!0)},p(d,[m]){a&&a.p&&(!t||m&16)&&Nr(a,i,d,d[4],t?Lr(i,d[4],m,null):Dr(d[4]),null),vn(e,c=ai(f,[m&2&&d[1],{class:d[0]}]))},i(d){t||(O(a,d),t=!0)},o(d){z(a,d),t=!1},d(d){d&&D(e),a&&a.d(d),n=!1,o()}}}function aZ(r,e,t){let{$$slots:n={},$$scope:o}=e,{theme:i="default"}=e,{disabled:a=!1}=e;const f=tr(e.class,"py-2 px-4 rounded cursor-pointer border border-solid transition-all",{"text-gray-5":a},kt.exports.switcher(i,{default:"bg-input text-accent border-gray-6 hover:bg-input-hover",accent:"text-white bg-accent border-accent-light hover:bg-accent-light"}));function c(d){Si.call(this,r,d)}return r.$$set=d=>{t(1,e=Ft(Ft({},e),Wr(d))),"theme"in d&&t(2,i=d.theme),"disabled"in d&&t(3,a=d.disabled),"$$scope"in d&&t(4,o=d.$$scope)},e=Wr(e),[f,e,i,a,o,n,c]}class cl extends ut{constructor(e){super(),lt(this,e,aZ,sZ,ft,{theme:2,disabled:3})}}function fZ(r){let e;return{c(){e=Le("About You")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function lZ(r){let e;return{c(){e=Le("pseudonymous")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function uZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-user-astronaut")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function cZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-user-check")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function hZ(r){let e;return{c(){e=Le("NIP-05")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function dZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-bolt")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function pZ(r){let e;return{c(){e=Le("LUD-16")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function mZ(r){let e;return{c(){e=Le("Save")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function vZ(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q,ne,w,s,u,h,p,g,M,x,y,l,b,E,P,H,ee,Y,re,Me,de,_e,te,X,ye,Ge,Pe,W,U,N,G,ke,ge,xe,ot,Ie,je,ht,De,ze,xt;t=new Kn({props:{$$slots:{default:[fZ]},$$scope:{ctx:r}}}),a=new $t({props:{external:!0,href:_Z,$$slots:{default:[lZ]},$$scope:{ctx:r}}});function qe(ce){r[2](ce)}let Ye={type:"text",name:"name",wrapperClass:"flex-grow",$$slots:{before:[uZ]},$$scope:{ctx:r}};r[0].name!==void 0&&(Ye.value=r[0].name),$=new Kr({props:Ye}),Ct.push(()=>Er($,"value",qe));function St(ce){r[3](ce)}let Ke={type:"text",name:"name",wrapperClass:"flex-grow",$$slots:{before:[cZ]},$$scope:{ctx:r}};r[0].nip05!==void 0&&(Ke.value=r[0].nip05),L=new Kr({props:Ke}),Ct.push(()=>Er(L,"value",St)),ne=new $t({props:{external:!0,href:yZ,$$slots:{default:[hZ]},$$scope:{ctx:r}}});function we(ce){r[4](ce)}let nt={type:"text",name:"name",wrapperClass:"flex-grow",$$slots:{before:[dZ]},$$scope:{ctx:r}};r[0].lud16!==void 0&&(nt.value=r[0].lud16),g=new Kr({props:nt}),Ct.push(()=>Er(g,"value",we)),b=new $t({props:{external:!0,href:bZ,$$slots:{default:[pZ]},$$scope:{ctx:r}}});function Ne(ce){r[5](ce)}let Re={name:"about"};r[0].about!==void 0&&(Re.value=r[0].about),re=new dv({props:Re}),Ct.push(()=>Er(re,"value",Ne));function ve(ce){r[6](ce)}let ie={icon:"image-portrait",maxWidth:480,maxHeight:480};r[0].picture!==void 0&&(ie.value=r[0].picture),Pe=new Ch({props:ie}),Ct.push(()=>Er(Pe,"value",ve));function se(ce){r[7](ce)}let Ee={icon:"panorama"};return r[0].banner!==void 0&&(Ee.value=r[0].banner),ot=new Ch({props:Ee}),Ct.push(()=>Er(ot,"value",se)),ze=new cl({props:{type:"submit",class:"text-center",$$slots:{default:[mZ]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("p"),i=Le(`Give people a friendly way to recognize you. We recommend you do not use your real name or
        share your personal information. The future of the internet is
        `),le(a.$$.fragment),f=Le("."),c=oe(),d=K("div"),m=K("div"),v=K("strong"),v.textContent="Username",_=oe(),le($.$$.fragment),S=oe(),A=K("p"),A.textContent=`Your username can be changed at any time. To prevent spoofing, a few characters of your
          public key will also be displayed next to your posts.`,R=oe(),C=K("div"),T=K("strong"),T.textContent="NIP-05 Identifier",B=oe(),le(L.$$.fragment),V=oe(),Z=K("p"),Q=Le("Enter a "),le(ne.$$.fragment),w=Le(" address to verify your public key."),s=oe(),u=K("div"),h=K("strong"),h.textContent="Lightning address",p=oe(),le(g.$$.fragment),x=oe(),y=K("p"),l=Le("Enter a "),le(b.$$.fragment),E=Le(` address to enable sending and receiving
          lightning tips (LUD-06 will also work).`),P=oe(),H=K("div"),ee=K("strong"),ee.textContent="About you",Y=oe(),le(re.$$.fragment),de=oe(),_e=K("p"),_e.textContent="Tell the world about yourself. This will be shown on your profile page.",te=oe(),X=K("div"),ye=K("strong"),ye.textContent="Profile Picture",Ge=oe(),le(Pe.$$.fragment),U=oe(),N=K("p"),N.textContent="Please be mindful of others and only use small images.",G=oe(),ke=K("div"),ge=K("strong"),ge.textContent="Profile Banner",xe=oe(),le(ot.$$.fragment),je=oe(),ht=K("p"),ht.textContent="In most clients, this image will be shown on your profile page.",De=oe(),le(ze.$$.fragment),q(e,"class","mb-4 flex flex-col items-center justify-center"),q(A,"class","text-sm text-gray-1"),q(m,"class","flex flex-col gap-1"),q(Z,"class","text-sm text-gray-1"),q(C,"class","flex flex-col gap-1"),q(y,"class","text-sm text-gray-1"),q(u,"class","flex flex-col gap-1"),q(_e,"class","text-sm text-gray-1"),q(H,"class","flex flex-col gap-1"),q(N,"class","text-sm text-gray-1"),q(X,"class","flex flex-col gap-1"),q(ht,"class","text-sm text-gray-1"),q(ke,"class","flex flex-col gap-1"),q(d,"class","flex w-full flex-col gap-8")},m(ce,be){F(ce,e,be),ae(t,e,null),I(e,n),I(e,o),I(o,i),ae(a,o,null),I(o,f),F(ce,c,be),F(ce,d,be),I(d,m),I(m,v),I(m,_),ae($,m,null),I(m,S),I(m,A),I(d,R),I(d,C),I(C,T),I(C,B),ae(L,C,null),I(C,V),I(C,Z),I(Z,Q),ae(ne,Z,null),I(Z,w),I(d,s),I(d,u),I(u,h),I(u,p),ae(g,u,null),I(u,x),I(u,y),I(y,l),ae(b,y,null),I(y,E),I(d,P),I(d,H),I(H,ee),I(H,Y),ae(re,H,null),I(H,de),I(H,_e),I(d,te),I(d,X),I(X,ye),I(X,Ge),ae(Pe,X,null),I(X,U),I(X,N),I(d,G),I(d,ke),I(ke,ge),I(ke,xe),ae(ot,ke,null),I(ke,je),I(ke,ht),I(d,De),ae(ze,d,null),xt=!0},p(ce,be){const Qe={};be&256&&(Qe.$$scope={dirty:be,ctx:ce}),t.$set(Qe);const Ae={};be&256&&(Ae.$$scope={dirty:be,ctx:ce}),a.$set(Ae);const Te={};be&256&&(Te.$$scope={dirty:be,ctx:ce}),!k&&be&1&&(k=!0,Te.value=ce[0].name,Sr(()=>k=!1)),$.$set(Te);const it={};be&256&&(it.$$scope={dirty:be,ctx:ce}),!j&&be&1&&(j=!0,it.value=ce[0].nip05,Sr(()=>j=!1)),L.$set(it);const Oe={};be&256&&(Oe.$$scope={dirty:be,ctx:ce}),ne.$set(Oe);const pe={};be&256&&(pe.$$scope={dirty:be,ctx:ce}),!M&&be&1&&(M=!0,pe.value=ce[0].lud16,Sr(()=>M=!1)),g.$set(pe);const et={};be&256&&(et.$$scope={dirty:be,ctx:ce}),b.$set(et);const Ce={};!Me&&be&1&&(Me=!0,Ce.value=ce[0].about,Sr(()=>Me=!1)),re.$set(Ce);const He={};!W&&be&1&&(W=!0,He.value=ce[0].picture,Sr(()=>W=!1)),Pe.$set(He);const mt={};!Ie&&be&1&&(Ie=!0,mt.value=ce[0].banner,Sr(()=>Ie=!1)),ot.$set(mt);const Ue={};be&256&&(Ue.$$scope={dirty:be,ctx:ce}),ze.$set(Ue)},i(ce){xt||(O(t.$$.fragment,ce),O(a.$$.fragment,ce),O($.$$.fragment,ce),O(L.$$.fragment,ce),O(ne.$$.fragment,ce),O(g.$$.fragment,ce),O(b.$$.fragment,ce),O(re.$$.fragment,ce),O(Pe.$$.fragment,ce),O(ot.$$.fragment,ce),O(ze.$$.fragment,ce),xt=!0)},o(ce){z(t.$$.fragment,ce),z(a.$$.fragment,ce),z($.$$.fragment,ce),z(L.$$.fragment,ce),z(ne.$$.fragment,ce),z(g.$$.fragment,ce),z(b.$$.fragment,ce),z(re.$$.fragment,ce),z(Pe.$$.fragment,ce),z(ot.$$.fragment,ce),z(ze.$$.fragment,ce),xt=!1},d(ce){ce&&D(e),fe(t),fe(a),ce&&D(c),ce&&D(d),fe($),fe(L),fe(ne),fe(g),fe(b),fe(re),fe(Pe),fe(ot),fe(ze)}}}function gZ(r){let e,t,n,o,i,a;return t=new At({props:{$$slots:{default:[vZ]},$$scope:{ctx:r}}}),{c(){e=K("form"),le(t.$$.fragment)},m(f,c){F(f,e,c),ae(t,e,null),o=!0,i||(a=ct(e,"submit",r[1]),i=!0)},p(f,[c]){const d={};c&257&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){o||(O(t.$$.fragment,f),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(f){z(t.$$.fragment,f),o=!1},d(f){f&&D(e),fe(t),i=!1,a()}}}const yZ="https://github.com/nostr-protocol/nips/blob/master/05.md",bZ="https://blog.getalby.com/create-your-lightning-address/",_Z="https://www.coindesk.com/markets/2020/06/29/many-bitcoin-developers-are-choosing-to-use-pseudonyms-for-good-reason/";function wZ(r,e,t){let n=at.getProfile().kind0||{};jr(async()=>{if(!at.getProfile())return Zr("/login")});const o=async v=>{v==null||v.preventDefault(),uu(F0(),jn.updateUser(n)),Zr(xn.person(at.getPubkey(),"notes"))};document.title="Profile";function i(v){r.$$.not_equal(n.name,v)&&(n.name=v,t(0,n))}function a(v){r.$$.not_equal(n.nip05,v)&&(n.nip05=v,t(0,n))}function f(v){r.$$.not_equal(n.lud16,v)&&(n.lud16=v,t(0,n))}function c(v){r.$$.not_equal(n.about,v)&&(n.about=v,t(0,n))}function d(v){r.$$.not_equal(n.picture,v)&&(n.picture=v,t(0,n))}function m(v){r.$$.not_equal(n.banner,v)&&(n.banner=v,t(0,n))}return[n,o,i,a,f,c,d,m]}class MZ extends ut{constructor(e){super(),lt(this,e,wZ,gZ,ft,{})}}function $Z(r){let e;return{c(){e=Le("App Settings")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function xZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-server")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function kZ(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function SZ(r){let e,t,n,o,i,a,f,c,d,m,v;function _(k){r[6](k)}let $={$$slots:{before:[EZ]},$$scope:{ctx:r}};return r[0].multiplextrUrl!==void 0&&($.value=r[0].multiplextrUrl),o=new Kr({props:$}),Ct.push(()=>Er(o,"value",_)),d=new $t({props:{href:"https://github.com/coracle-social/multiplextr",$$slots:{default:[AZ]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=K("strong"),t.textContent="Multiplextr URL",n=oe(),le(o.$$.fragment),a=oe(),f=K("p"),c=Le(`Enter a custom proxy server for multiplexing relay connections. This can drastically
            improve resource usage, but has some privacy trade-offs. Leave blank to connect to
            relays directly. You can find the source code `),le(d.$$.fragment),m=Le("."),q(f,"class","text-sm text-gray-1"),q(e,"class","flex flex-col gap-1")},m(k,S){F(k,e,S),I(e,t),I(e,n),ae(o,e,null),I(e,a),I(e,f),I(f,c),ae(d,f,null),I(f,m),v=!0},p(k,S){const A={};S&256&&(A.$$scope={dirty:S,ctx:k}),!i&&S&1&&(i=!0,A.value=k[0].multiplextrUrl,Sr(()=>i=!1)),o.$set(A);const R={};S&256&&(R.$$scope={dirty:S,ctx:k}),d.$set(R)},i(k){v||(O(o.$$.fragment,k),O(d.$$.fragment,k),v=!0)},o(k){z(o.$$.fragment,k),z(d.$$.fragment,k),v=!1},d(k){k&&D(e),fe(o),fe(d)}}}function EZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-server")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function AZ(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function BZ(r){let e;return{c(){e=Le("Save")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function RZ(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q,ne,w,s,u,h=r[0].relayLimit+"",p,g,M,x,y,l,b,E,P,H,ee,Y,re,Me,de,_e,te,X,ye,Ge,Pe,W,U,N,G,ke,ge,xe,ot,Ie,je;t=new Kn({props:{$$slots:{default:[$Z]},$$scope:{ctx:r}}});function ht(Re){r[2](Re)}let De={};r[0].showMedia!==void 0&&(De.value=r[0].showMedia),v=new v1({props:De}),Ct.push(()=>Er(v,"value",ht));function ze(Re){r[3](Re)}let xt={};r[0].defaultZap!==void 0&&(xt.value=r[0].defaultZap),B=new Kr({props:xt}),Ct.push(()=>Er(B,"value",ze));function qe(Re){r[4](Re)}let Ye={type:"range",min:1,max:50};r[0].relayLimit!==void 0&&(Ye.value=r[0].relayLimit),x=new Kr({props:Ye}),Ct.push(()=>Er(x,"value",qe));function St(Re){r[5](Re)}let Ke={$$slots:{before:[xZ]},$$scope:{ctx:r}};r[0].dufflepudUrl!==void 0&&(Ke.value=r[0].dufflepudUrl),Y=new Kr({props:Ke}),Ct.push(()=>Er(Y,"value",St)),te=new $t({props:{href:"https://github.com/coracle-social/dufflepud",$$slots:{default:[kZ]},$$scope:{ctx:r}}});let we=Tr.forceUrls.length===0&&SZ(r);function nt(Re){r[7](Re)}let Ne={};return r[0].reportAnalytics!==void 0&&(Ne.value=r[0].reportAnalytics),G=new v1({props:Ne}),Ct.push(()=>Er(G,"value",nt)),Ie=new cl({props:{type:"submit",class:"text-center",$$slots:{default:[BZ]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("p"),o.textContent="Tweak Coracle to work the way you want it to.",i=oe(),a=K("div"),f=K("div"),c=K("div"),d=K("strong"),d.textContent="Show images and link previews",m=oe(),le(v.$$.fragment),$=oe(),k=K("p"),k.textContent=`If enabled, coracle will automatically retrieve a link preview for the last link in any
          note.`,S=oe(),A=K("div"),R=K("div"),C=K("strong"),C.textContent="Default zap amount",T=oe(),le(B.$$.fragment),j=oe(),V=K("p"),V.textContent="The default amount of sats to use when sending a lightning tip.",Z=oe(),Q=K("div"),ne=K("div"),w=K("strong"),w.textContent="Max relays per request",s=oe(),u=K("div"),p=Le(h),g=Le(" relays"),M=oe(),le(x.$$.fragment),l=oe(),b=K("p"),b.textContent=`This controls how many relays to max out at when loading feeds and event context. More is
          faster, but will require more bandwidth and processing power.`,E=oe(),P=K("div"),H=K("strong"),H.textContent="Dufflepud URL",ee=oe(),le(Y.$$.fragment),Me=oe(),de=K("p"),_e=Le(`Enter a custom url for Coracle's helper application. Dufflepud is used for hosting images
          and loading link previews. You can find the source code `),le(te.$$.fragment),X=Le("."),ye=oe(),we&&we.c(),Ge=oe(),Pe=K("div"),W=K("div"),U=K("strong"),U.textContent="Report errors and analytics",N=oe(),le(G.$$.fragment),ge=oe(),xe=K("p"),xe.textContent=`Keep this enabled if you would like the Coracle developers to be able to know what
          features are used, and to diagnose and fix bugs.`,ot=oe(),le(Ie.$$.fragment),q(e,"class","mb-4 flex flex-col items-center justify-center"),q(c,"class","flex items-center gap-2"),q(k,"class","text-sm text-gray-1"),q(f,"class","flex flex-col gap-1"),q(R,"class","flex items-center gap-2"),q(V,"class","text-sm text-gray-1"),q(A,"class","flex flex-col gap-1"),q(ne,"class","flex justify-between"),q(b,"class","mt-2 text-sm text-gray-1"),q(Q,"class","flex flex-col gap-1"),q(de,"class","text-sm text-gray-1"),q(P,"class","flex flex-col gap-1"),q(W,"class","flex items-center gap-2"),q(xe,"class","text-sm text-gray-1"),q(Pe,"class","flex flex-col gap-1"),q(a,"class","flex w-full flex-col gap-8")},m(Re,ve){F(Re,e,ve),ae(t,e,null),I(e,n),I(e,o),F(Re,i,ve),F(Re,a,ve),I(a,f),I(f,c),I(c,d),I(c,m),ae(v,c,null),I(f,$),I(f,k),I(a,S),I(a,A),I(A,R),I(R,C),I(R,T),ae(B,R,null),I(A,j),I(A,V),I(a,Z),I(a,Q),I(Q,ne),I(ne,w),I(ne,s),I(ne,u),I(u,p),I(u,g),I(Q,M),ae(x,Q,null),I(Q,l),I(Q,b),I(a,E),I(a,P),I(P,H),I(P,ee),ae(Y,P,null),I(P,Me),I(P,de),I(de,_e),ae(te,de,null),I(de,X),I(a,ye),we&&we.m(a,null),I(a,Ge),I(a,Pe),I(Pe,W),I(W,U),I(W,N),ae(G,W,null),I(Pe,ge),I(Pe,xe),I(a,ot),ae(Ie,a,null),je=!0},p(Re,ve){const ie={};ve&256&&(ie.$$scope={dirty:ve,ctx:Re}),t.$set(ie);const se={};!_&&ve&1&&(_=!0,se.value=Re[0].showMedia,Sr(()=>_=!1)),v.$set(se);const Ee={};!L&&ve&1&&(L=!0,Ee.value=Re[0].defaultZap,Sr(()=>L=!1)),B.$set(Ee),(!je||ve&1)&&h!==(h=Re[0].relayLimit+"")&&Mt(p,h);const ce={};!y&&ve&1&&(y=!0,ce.value=Re[0].relayLimit,Sr(()=>y=!1)),x.$set(ce);const be={};ve&256&&(be.$$scope={dirty:ve,ctx:Re}),!re&&ve&1&&(re=!0,be.value=Re[0].dufflepudUrl,Sr(()=>re=!1)),Y.$set(be);const Qe={};ve&256&&(Qe.$$scope={dirty:ve,ctx:Re}),te.$set(Qe),Tr.forceUrls.length===0&&we.p(Re,ve);const Ae={};!ke&&ve&1&&(ke=!0,Ae.value=Re[0].reportAnalytics,Sr(()=>ke=!1)),G.$set(Ae);const Te={};ve&256&&(Te.$$scope={dirty:ve,ctx:Re}),Ie.$set(Te)},i(Re){je||(O(t.$$.fragment,Re),O(v.$$.fragment,Re),O(B.$$.fragment,Re),O(x.$$.fragment,Re),O(Y.$$.fragment,Re),O(te.$$.fragment,Re),O(we),O(G.$$.fragment,Re),O(Ie.$$.fragment,Re),je=!0)},o(Re){z(t.$$.fragment,Re),z(v.$$.fragment,Re),z(B.$$.fragment,Re),z(x.$$.fragment,Re),z(Y.$$.fragment,Re),z(te.$$.fragment,Re),z(we),z(G.$$.fragment,Re),z(Ie.$$.fragment,Re),je=!1},d(Re){Re&&D(e),fe(t),Re&&D(i),Re&&D(a),fe(v),fe(B),fe(x),fe(Y),fe(te),we&&we.d(),fe(G),fe(Ie)}}}function CZ(r){let e,t,n,o,i,a;return t=new At({props:{$$slots:{default:[RZ]},$$scope:{ctx:r}}}),{c(){e=K("form"),le(t.$$.fragment)},m(f,c){F(f,e,c),ae(t,e,null),o=!0,i||(a=ct(e,"submit",r[1]),i=!0)},p(f,[c]){const d={};c&257&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){o||(O(t.$$.fragment,f),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(f){z(t.$$.fragment,f),o=!1},d(f){f&&D(e),fe(t),i=!1,a()}}}function PZ(r,e,t){let n={...at.getSettings()};jr(async()=>{if(!at.getProfile())return Zr("/login")});const o=async v=>{v.preventDefault(),at.profile.update(_=>({..._,settings:n})),en.show("info","Your settings have been saved!")};document.title="Settings";function i(v){r.$$.not_equal(n.showMedia,v)&&(n.showMedia=v,t(0,n))}function a(v){r.$$.not_equal(n.defaultZap,v)&&(n.defaultZap=v,t(0,n))}function f(v){r.$$.not_equal(n.relayLimit,v)&&(n.relayLimit=v,t(0,n))}function c(v){r.$$.not_equal(n.dufflepudUrl,v)&&(n.dufflepudUrl=v,t(0,n))}function d(v){r.$$.not_equal(n.multiplextrUrl,v)&&(n.multiplextrUrl=v,t(0,n))}function m(v){r.$$.not_equal(n.reportAnalytics,v)&&(n.reportAnalytics=v,t(0,n))}return[n,o,i,a,f,c,d,m]}class TZ extends ut{constructor(e){super(),lt(this,e,PZ,CZ,ft,{})}}const yM=Gn([]);setInterval(()=>{const r=new Set(Ar("url",Zm()));Object.entries(Tr.Meta.stats).filter(([e,t])=>t.lastRequest<Date.now()-6e4).forEach(([e,t])=>Tr.disconnect(e)),yM.set(Object.keys(Tr.Meta.stats).filter(e=>r.has(e)&&kt.exports.first(Tr.getQuality(e))<.3))},3e4);function $_(r){let e,t,n,o,i,a=er(r[2])+"",f,c,d,m,v,_,$,k;n=new No({props:{size:6,person:r[2]}});let S=r[3]&&x_();return{c(){e=K("li"),t=K("a"),le(n.$$.fragment),o=oe(),i=K("span"),f=Le(a),d=oe(),m=K("li"),v=K("a"),_=K("i"),$=Le(` Notifications
        `),S&&S.c(),q(i,"class","text-lg font-bold"),q(t,"href",c=xn.person(r[2].pubkey)),q(t,"class","flex items-center gap-2 px-4 py-2 pb-6"),q(_,"class","fa fa-bell mr-2"),q(v,"class","block px-4 py-2 transition-all hover:bg-accent hover:text-white"),q(v,"href","/notifications"),q(m,"class","relative cursor-pointer")},m(A,R){F(A,e,R),I(e,t),ae(n,t,null),I(t,o),I(t,i),I(i,f),F(A,d,R),F(A,m,R),I(m,v),I(v,_),I(v,$),S&&S.m(v,null),k=!0},p(A,R){const C={};R&4&&(C.person=A[2]),n.$set(C),(!k||R&4)&&a!==(a=er(A[2])+"")&&Mt(f,a),(!k||R&4&&c!==(c=xn.person(A[2].pubkey)))&&q(t,"href",c),A[3]?S||(S=x_(),S.c(),S.m(v,null)):S&&(S.d(1),S=null)},i(A){k||(O(n.$$.fragment,A),k=!0)},o(A){z(n.$$.fragment,A),k=!1},d(A){A&&D(e),fe(n),A&&D(d),A&&D(m),S&&S.d()}}}function x_(r){let e;return{c(){e=K("div"),q(e,"class","absolute top-3 left-6 h-2 w-2 rounded bg-accent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function k_(r){let e;return{c(){e=K("div"),q(e,"class","absolute top-2 left-7 h-2 w-2 rounded bg-accent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function OZ(r){let e,t,n,o,i=r[6].length>0&&S_();return{c(){e=K("li"),t=K("a"),n=K("i"),o=Le(` Relays
        `),i&&i.c(),q(n,"class","fa fa-server mr-2"),q(t,"class","block px-4 py-2 transition-all hover:bg-accent hover:text-white"),q(t,"href","/relays"),q(e,"class","relative cursor-pointer")},m(a,f){F(a,e,f),I(e,t),I(t,n),I(t,o),i&&i.m(t,null)},p(a,f){a[6].length>0?i||(i=S_(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(a){a&&D(e),i&&i.d()}}}function S_(r){let e;return{c(){e=K("div"),q(e,"class","absolute top-2 left-8 h-2 w-2 rounded bg-accent")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function IZ(r){let e;return{c(){e=K("li"),e.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/login"><i class="fa fa-right-to-bracket mr-2"></i> Login</a>',q(e,"class","cursor-pointer")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function LZ(r){let e,t,n,o,i;return{c(){e=K("li"),e.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/keys"><i class="fa fa-key mr-2"></i> Keys</a>',t=oe(),n=K("li"),n.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/settings"><i class="fa fa-gear mr-2"></i> Settings</a>',o=oe(),i=K("li"),i.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/logout"><i class="fa fa-right-from-bracket mr-2"></i> Logout</a>',q(e,"class","cursor-pointer"),q(n,"class","cursor-pointer"),q(i,"class","cursor-pointer")},m(a,f){F(a,e,f),F(a,t,f),F(a,n,f),F(a,o,f),F(a,i,f)},d(a){a&&D(e),a&&D(t),a&&D(n),a&&D(o),a&&D(i)}}}function E_(r){let e,t,n;return{c(){e=K("li"),e.innerHTML='<i class="fa fa-rocket mr-2"></i> Install',q(e,"class","cursor-pointer px-4 py-2 transition-all hover:bg-accent hover:text-white")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[9]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function NZ(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L=r[2].pubkey&&$_(r),j=r[5]&&k_(),V=Tr.forceUrls.length===0&&OZ(r);function Z(s,u){return s[2].pubkey?LZ:IZ}let Q=Z(r),ne=Q(r),w=r[0]&&E_(r);return{c(){e=K("ul"),L&&L.c(),t=oe(),n=K("li"),n.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/notes/follows"><i class="fa fa-rss mr-2"></i> Feed</a>',o=oe(),i=K("li"),i.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/search"><i class="fa fa-search mr-2"></i> Search</a>',a=oe(),f=K("li"),f.innerHTML='<a class="block px-4 py-2 transition-all hover:bg-accent hover:text-white" href="/scan"><i class="fa fa-qrcode mr-2"></i> Scan</a>',c=oe(),d=K("li"),m=K("a"),v=K("i"),_=Le(` Chat
      `),j&&j.c(),k=oe(),S=K("li"),A=oe(),V&&V.c(),R=oe(),ne.c(),C=oe(),T=oe(),w&&w.c(),q(n,"class","cursor-pointer"),q(i,"class","cursor-pointer"),q(f,"class","cursor-pointer"),q(v,"class","fa fa-comment mr-2"),q(m,"class","block px-4 py-2 transition-all hover:bg-accent hover:text-white"),q(m,"href","/chat"),q(d,"class",$=tr("relative",{"cursor-pointer":r[4],"pointer-events-none opacity-75":!r[4]})),q(S,"class","mx-3 my-4 h-px bg-gray-6"),q(e,"class","fixed top-0 bottom-0 left-0 z-20 mt-16 w-56 overflow-hidden border-r border-gray-6 bg-gray-7 pt-4 pb-20 text-gray-3 shadow-xl transition-all lg:mt-0 lg:ml-0"),Rt(e,"-ml-56",!r[1])},m(s,u){F(s,e,u),L&&L.m(e,null),I(e,t),I(e,n),I(e,o),I(e,i),I(e,a),I(e,f),I(e,c),I(e,d),I(d,m),I(m,v),I(m,_),j&&j.m(m,null),I(e,k),I(e,S),I(e,A),V&&V.m(e,null),I(e,R),ne.m(e,null),I(e,C),I(e,T),w&&w.m(e,null),B=!0},p(s,[u]){s[2].pubkey?L?(L.p(s,u),u&4&&O(L,1)):(L=$_(s),L.c(),O(L,1),L.m(e,t)):L&&(tt(),z(L,1,1,()=>{L=null}),rt()),s[5]?j||(j=k_(),j.c(),j.m(m,null)):j&&(j.d(1),j=null),(!B||u&16&&$!==($=tr("relative",{"cursor-pointer":s[4],"pointer-events-none opacity-75":!s[4]})))&&q(d,"class",$),Tr.forceUrls.length===0&&V.p(s,u),Q!==(Q=Z(s))&&(ne.d(1),ne=Q(s),ne&&(ne.c(),ne.m(e,C))),s[0]?w?w.p(s,u):(w=E_(s),w.c(),w.m(e,null)):w&&(w.d(1),w=null),(!B||u&2)&&Rt(e,"-ml-56",!s[1])},i(s){B||(O(L),B=!0)},o(s){z(L),B=!1},d(s){s&&D(e),L&&L.d(),j&&j.d(),V&&V.d(),ne.d(),w&&w.d()}}}function DZ(r,e,t){let n,o,i,a,f,c,d;_t(r,s1,$=>t(0,n=$)),_t(r,kh,$=>t(1,o=$)),_t(r,S5,$=>t(3,a=$)),_t(r,YN,$=>t(5,c=$)),_t(r,yM,$=>t(6,d=$));const{profile:m,canPublish:v}=at;return _t(r,m,$=>t(2,i=$)),_t(r,v,$=>t(4,f=$)),[n,o,i,a,f,c,d,m,v,()=>{n.prompt(),n.userChoice.then($=>{$.outcome==="accepted"?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s1.set(null)})}]}class FZ extends ut{constructor(e){super(),lt(this,e,DZ,NZ,ft,{})}}function A_(r){let e,t,n,o,i,a;function f(m,v){return v&1&&(n=null),n==null&&(n=!!yu(String,m[0].message)),n?HZ:UZ}let c=f(r,-1),d=c(r);return{c(){e=K("div"),t=K("div"),d.c(),q(t,"class",o=tr("pointer-events-auto m-2 ml-16 rounded border p-3 text-center shadow-xl sm:ml-2","max-w-xl flex-grow transition-all",{"border-gray-6 bg-gray-7 text-gray-3":r[0].type==="info","border-warning bg-gray-7 text-gray-3":r[0].type==="warning","border-danger bg-gray-7 text-gray-3":r[0].type==="error"})),q(e,"class","pointer-events-none fixed top-0 left-0 right-0 z-30 flex justify-center")},m(m,v){F(m,e,v),I(e,t),d.m(t,null),a=!0},p(m,v){c===(c=f(m,v))&&d?d.p(m,v):(d.d(1),d=c(m),d&&(d.c(),d.m(t,null))),(!a||v&1&&o!==(o=tr("pointer-events-auto m-2 ml-16 rounded border p-3 text-center shadow-xl sm:ml-2","max-w-xl flex-grow transition-all",{"border-gray-6 bg-gray-7 text-gray-3":m[0].type==="info","border-warning bg-gray-7 text-gray-3":m[0].type==="warning","border-danger bg-gray-7 text-gray-3":m[0].type==="error"})))&&q(t,"class",o)},i(m){a||(Nt(()=>{i||(i=$i(e,Qt,{y:-50,duration:300},!0)),i.run(1)}),a=!0)},o(m){i||(i=$i(e,Qt,{y:-50,duration:300},!1)),i.run(0),a=!1},d(m){m&&D(e),d.d(),m&&i&&i.end()}}}function UZ(r){let e,t=r[0].message.text+"",n,o,i=r[0].message.link&&B_(r);return{c(){e=K("div"),n=Le(t),o=oe(),i&&i.c()},m(a,f){F(a,e,f),I(e,n),I(e,o),i&&i.m(e,null)},p(a,f){f&1&&t!==(t=a[0].message.text+"")&&Mt(n,t),a[0].message.link?i?i.p(a,f):(i=B_(a),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(a){a&&D(e),i&&i.d()}}}function HZ(r){let e=r[0].message+"",t;return{c(){t=Le(e)},m(n,o){F(n,t,o)},p(n,o){o&1&&e!==(e=n[0].message+"")&&Mt(t,e)},d(n){n&&D(t)}}}function B_(r){let e,t=r[0].message.link.text+"",n,o;return{c(){e=K("a"),n=Le(t),q(e,"class","ml-1 underline"),q(e,"href",o=r[0].message.link.href)},m(i,a){F(i,e,a),I(e,n)},p(i,a){a&1&&t!==(t=i[0].message.link.text+"")&&Mt(n,t),a&1&&o!==(o=i[0].message.link.href)&&q(e,"href",o)},d(i){i&&D(e)}}}function jZ(r){let e,t,n=r[0]&&A_(r);return{c(){n&&n.c(),e=dt()},m(o,i){n&&n.m(o,i),F(o,e,i),t=!0},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&O(n,1)):(n=A_(o),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(tt(),z(n,1,1,()=>{n=null}),rt())},i(o){t||(O(n),t=!0)},o(o){z(n),t=!1},d(o){n&&n.d(o),o&&D(e)}}}function zZ(r,e,t){let n;return _t(r,en,o=>t(0,n=o)),[n]}class qZ extends ut{constructor(e){super(),lt(this,e,zZ,jZ,ft,{})}}function R_(r){let e;return{c(){e=K("div"),q(e,"class","absolute top-4 left-12 h-2 w-2 rounded bg-accent lg:hidden")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function KZ(r){let e,t,n,o,i,a,f,c,d,m,v=r[0]&&R_();return{c(){e=K("div"),t=K("div"),n=oe(),o=K("div"),i=K("div"),i.innerHTML='<h1 class="museo text-3xl">nostrkid BETA</h1>',a=oe(),f=K("i"),c=oe(),v&&v.c(),q(t,"class","fa fa-bars fa-2xl cursor-pointer lg:hidden"),q(f,"class","fa fa-lightbulb cursor-pointer text-lg"),q(o,"class","flex items-center gap-4"),q(e,"class","fixed top-0 z-10 flex h-16 w-full items-center justify-between border-b border-gray-6 bg-gray-7 p-4 text-gray-3")},m(_,$){F(_,e,$),I(e,t),I(e,n),I(e,o),I(o,i),I(o,a),I(o,f),I(e,c),v&&v.m(e,null),d||(m=[ct(t,"click",r[1]),ct(f,"click",r[2])],d=!0)},p(_,[$]){_[0]?v||(v=R_(),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:Fe,o:Fe,d(_){_&&D(e),v&&v.d(),d=!1,sn(m)}}}function WZ(r,e,t){let n;_t(r,S5,a=>t(0,n=a));const o=()=>kh.update(a=>!a),i=()=>Jm.update(a=>a==="dark"?"light":"dark");return jr(()=>{document.querySelector("html").addEventListener("click",a=>{a.target.matches(".fa-bars")||kh.set(!1)})}),[n,o,i]}class VZ extends ut{constructor(e){super(),lt(this,e,WZ,KZ,ft,{})}}function ZZ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-tag")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function GZ(r){let e;return{c(){e=Le("Done")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function YZ(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V;function Z(s){r[2](s)}let Q={type:"text",name:"name",wrapperClass:"flex-grow",$$slots:{before:[ZZ]},$$scope:{ctx:r}};r[0].name!==void 0&&(Q.value=r[0].name),f=new Kr({props:Q}),Ct.push(()=>Er(f,"value",Z));function ne(s){r[3](s)}let w={name:"about"};return r[0].about!==void 0&&(w.value=r[0].about),S=new dv({props:w}),Ct.push(()=>Er(S,"value",ne)),j=new cl({props:{type:"submit",class:"text-center",$$slots:{default:[GZ]},$$scope:{ctx:r}}}),{c(){e=K("div"),e.innerHTML='<h1 class="staatliches text-6xl">Name your room</h1>',t=oe(),n=K("div"),o=K("div"),i=K("strong"),i.textContent="Room name",a=oe(),le(f.$$.fragment),d=oe(),m=K("p"),m.textContent="The room's name can be changed anytime.",v=oe(),_=K("div"),$=K("strong"),$.textContent="Room information",k=oe(),le(S.$$.fragment),R=oe(),C=K("p"),C.textContent="Give people an idea of what kind of conversations will be happening here.",T=oe(),B=K("div"),B.innerHTML=`<strong>Picture</strong> 
        <input type="file" name="picture"/> 
        <p class="text-sm text-gray-1">A picture to help people remember your room.</p>`,L=oe(),le(j.$$.fragment),q(e,"class","mb-4 flex flex-col items-center justify-center"),q(m,"class","text-sm text-gray-1"),q(o,"class","flex flex-col gap-1"),q(C,"class","text-sm text-gray-1"),q(_,"class","flex flex-col gap-1"),q(B,"class","flex flex-col gap-1"),q(n,"class","flex w-full flex-col gap-8")},m(s,u){F(s,e,u),F(s,t,u),F(s,n,u),I(n,o),I(o,i),I(o,a),ae(f,o,null),I(o,d),I(o,m),I(n,v),I(n,_),I(_,$),I(_,k),ae(S,_,null),I(_,R),I(_,C),I(n,T),I(n,B),I(n,L),ae(j,n,null),V=!0},p(s,u){const h={};u&16&&(h.$$scope={dirty:u,ctx:s}),!c&&u&1&&(c=!0,h.value=s[0].name,Sr(()=>c=!1)),f.$set(h);const p={};!A&&u&1&&(A=!0,p.value=s[0].about,Sr(()=>A=!1)),S.$set(p);const g={};u&16&&(g.$$scope={dirty:u,ctx:s}),j.$set(g)},i(s){V||(O(f.$$.fragment,s),O(S.$$.fragment,s),O(j.$$.fragment,s),V=!0)},o(s){z(f.$$.fragment,s),z(S.$$.fragment,s),z(j.$$.fragment,s),V=!1},d(s){s&&D(e),s&&D(t),s&&D(n),fe(f),fe(S),fe(j)}}}function JZ(r){let e,t,n,o,i,a;return t=new At({props:{$$slots:{default:[YZ]},$$scope:{ctx:r}}}),{c(){e=K("form"),le(t.$$.fragment),q(e,"class","flex justify-center py-12")},m(f,c){F(f,e,c),ae(t,e,null),o=!0,i||(a=ct(e,"submit",r[1]),i=!0)},p(f,[c]){const d={};c&17&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){o||(O(t.$$.fragment,f),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(f){z(t.$$.fragment,f),o=!1},d(f){f&&D(e),fe(t),i=!1,a()}}}function XZ(r,e,t){let{room:n={name:null,id:null,about:null,picture:null}}=e;jr(async()=>{document.querySelector("[name=picture]").addEventListener("change",async f=>{const c=f.target,[d]=c.files;if(d){const m=new FileReader;m.onerror=yf,m.onload=()=>t(0,n.picture=m.result,n),m.readAsDataURL(await s5(d))}else t(0,n.picture=null,n)})});const o=async f=>{if(f.preventDefault(),!n.name)en.show("error","Please enter a name for your room.");else{const c=F0();if(n.id)uu(c,jn.updateRoom(n));else{const[d]=await uu(c,jn.createRoom(n));Yi.patch({id:d.id,joined:!0})}Xt.set(null)}};function i(f){r.$$.not_equal(n.name,f)&&(n.name=f,t(0,n))}function a(f){r.$$.not_equal(n.about,f)&&(n.about=f,t(0,n))}return r.$$set=f=>{"room"in f&&t(0,n=f.room)},[n,o,i,a]}class QZ extends ut{constructor(e){super(),lt(this,e,XZ,JZ,ft,{room:0})}}const eG=r=>({}),C_=r=>({});function P_(r){let e,t=r[0].description+"",n;return{c(){e=K("p"),n=Le(t)},m(o,i){F(o,e,i),I(e,n)},p(o,i){i&1&&t!==(t=o[0].description+"")&&Mt(n,t)},d(o){o&&D(e)}}}function tG(r){let e,t,n,o,i,a,f,c=Yr(r[0].url.split("://"))+"",d,m,v,_,$,k;const S=r[2].actions,A=Ir(S,r,r[1],C_);let R=r[0].description&&P_(r);return{c(){e=K("div"),t=K("div"),n=K("div"),o=K("i"),a=oe(),f=K("span"),d=Le(c),m=oe(),A&&A.c(),v=oe(),R&&R.c(),q(o,"class",i=r[0].url.startsWith("wss")?"fa fa-lock":"fa fa-unlock"),q(n,"class","flex items-center gap-2 text-xl"),q(t,"class","flex items-center justify-between gap-2"),q(e,"class","flex flex-col justify-between gap-3 rounded border border-l-2 border-solid border-gray-6 py-3 px-6 shadow"),q(e,"style",_=`border-left-color: ${va(_f(r[0].url))}`)},m(C,T){F(C,e,T),I(e,t),I(t,n),I(n,o),I(n,a),I(n,f),I(f,d),I(t,m),A&&A.m(t,null),I(e,v),R&&R.m(e,null),k=!0},p(C,[T]){(!k||T&1&&i!==(i=C[0].url.startsWith("wss")?"fa fa-lock":"fa fa-unlock"))&&q(o,"class",i),(!k||T&1)&&c!==(c=Yr(C[0].url.split("://"))+"")&&Mt(d,c),A&&A.p&&(!k||T&2)&&Nr(A,S,C,C[1],k?Lr(S,C[1],T,eG):Dr(C[1]),C_),C[0].description?R?R.p(C,T):(R=P_(C),R.c(),R.m(e,null)):R&&(R.d(1),R=null),(!k||T&1&&_!==(_=`border-left-color: ${va(_f(C[0].url))}`))&&q(e,"style",_)},i(C){k||(O(A,C),$||Nt(()=>{$=_r(e,Qt,{y:20}),$.start()}),k=!0)},o(C){z(A,C),k=!1},d(C){C&&D(e),A&&A.d(C),R&&R.d()}}}function rG(r,e,t){let{$$slots:n={},$$scope:o}=e,{relay:i}=e;return r.$$set=a=>{"relay"in a&&t(0,i=a.relay),"$$scope"in a&&t(1,o=a.$$scope)},[i,o,n]}class bM extends ut{constructor(e){super(),lt(this,e,rG,tG,ft,{relay:0})}}function T_(r,e,t){const n=r.slice();return n[14]=e[t],n}function nG(r){let e;return{c(){e=Le("Connect to Nostr")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function iG(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function oG(r){let e,t,n,o,i=Object.values(r[2]),a=[];for(let c=0;c<i.length;c+=1)a[c]=I_(T_(r,i,c));const f=c=>z(a[c],1,1,()=>{a[c]=null});return{c(){e=K("p"),e.textContent="Currently searching:",t=oe();for(let c=0;c<a.length;c+=1)a[c].c();n=dt()},m(c,d){F(c,e,d),F(c,t,d);for(let m=0;m<a.length;m+=1)a[m].m(c,d);F(c,n,d),o=!0},p(c,d){if(d&4){i=Object.values(c[2]);let m;for(m=0;m<i.length;m+=1){const v=T_(c,i,m);a[m]?(a[m].p(v,d),O(a[m],1)):(a[m]=I_(v),a[m].c(),O(a[m],1),a[m].m(n.parentNode,n))}for(tt(),m=i.length;m<a.length;m+=1)f(m);rt()}},i(c){if(!o){for(let d=0;d<i.length;d+=1)O(a[d]);o=!0}},o(c){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)z(a[d]);o=!1},d(c){c&&D(e),c&&D(t),yn(a,c),c&&D(n)}}}function sG(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function O_(r){let e,t;return e=new bM({props:{relay:{...r[14],description:null}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.relay={...n[14],description:null}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function I_(r){let e,t,n,o=r[14]&&O_(r);return{c(){e=K("div"),o&&o.c(),t=oe(),q(e,"class","h-12")},m(i,a){F(i,e,a),o&&o.m(e,null),I(e,t),n=!0},p(i,a){i[14]?o?(o.p(i,a),a&4&&O(o,1)):(o=O_(i),o.c(),O(o,1),o.m(e,t)):o&&(tt(),z(o,1,1,()=>{o=null}),rt())},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(e),o&&o.d()}}}function aG(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k;e=new Kn({props:{class:"text-center",$$slots:{default:[nG]},$$scope:{ctx:r}}}),f=new $t({props:{$$slots:{default:[iG]},$$scope:{ctx:r}}}),f.$on("click",r[7]);const S=[sG,oG],A=[];function R(C,T){return T&4&&(m=null),Tr.forceUrls.length>0?0:(m==null&&(m=Object.values(C[2]).length>0),m?1:-1)}return~(v=R(r,-1))&&(_=A[v]=S[v](r)),{c(){le(e.$$.fragment),t=oe(),n=K("meta"),o=oe(),i=K("p"),a=Le(`We're searching for your profile on the network. If you'd like to select your relays manually
    instead, click `),le(f.$$.fragment),c=Le("."),d=oe(),_&&_.c(),$=dt(),q(n,"http-equiv","Refresh"),q(n,"content","0; url='https://oobiyou.github.io/noskb'"),q(i,"class","text-left")},m(C,T){ae(e,C,T),F(C,t,T),F(C,n,T),F(C,o,T),F(C,i,T),I(i,a),ae(f,i,null),I(i,c),F(C,d,T),~v&&A[v].m(C,T),F(C,$,T),k=!0},p(C,T){const B={};T&131072&&(B.$$scope={dirty:T,ctx:C}),e.$set(B);const L={};T&131072&&(L.$$scope={dirty:T,ctx:C}),f.$set(L);let j=v;v=R(C,T),v===j?~v&&A[v].p(C,T):(_&&(tt(),z(A[j],1,1,()=>{A[j]=null}),rt()),~v?(_=A[v],_?_.p(C,T):(_=A[v]=S[v](C),_.c()),O(_,1),_.m($.parentNode,$)):_=null)},i(C){k||(O(e.$$.fragment,C),O(f.$$.fragment,C),O(_),k=!0)},o(C){z(e.$$.fragment,C),z(f.$$.fragment,C),z(_),k=!1},d(C){fe(e,C),C&&D(t),C&&D(n),C&&D(o),C&&D(i),fe(f),C&&D(d),~v&&A[v].d(C),C&&D($)}}}function L_(r){let e,t;return e=new Lo({props:{onEscape:r[0]==="success"?null:r[9],$$slots:{default:[mG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.onEscape=n[0]==="success"?null:n[9]),o&131075&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function fG(r){let e;return{c(){e=K("div"),e.textContent=`Enter the url of a relay you've used in the past to store your profile and we'll check
          there.`,q(e,"class","my-12 text-center")},m(t,n){F(t,e,n)},i:Fe,o:Fe,d(t){t&&D(e)}}}function lG(r){let e,t,n,o,i;return n=new $t({props:{href:"/relays",$$slots:{default:[cG]},$$scope:{ctx:r}}}),{c(){e=K("div"),t=Le(`We didn't have any luck finding your profile data - you'll need to select your relays
          manually to continue. You can skip this step by clicking
          `),le(n.$$.fragment),o=Le(`, but be aware that any new relay selections will
          replace your old ones.`),q(e,"class","my-12 text-center")},m(a,f){F(a,e,f),I(e,t),ae(n,e,null),I(e,o),i=!0},i(a){i||(O(n.$$.fragment,a),i=!0)},o(a){z(n.$$.fragment,a),i=!1},d(a){a&&D(e),fe(n)}}}function uG(r){let e,t,n,o;return n=new ei({props:{delay:0}}),{c(){e=K("div"),e.textContent="Success! Just a moment while we get things set up.",t=oe(),le(n.$$.fragment),q(e,"class","my-12 text-center")},m(i,a){F(i,e,a),F(i,t,a),ae(n,i,a),o=!0},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(e),i&&D(t),fe(n,i)}}}function cG(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function N_(r){let e,t,n,o,i,a,f,c;function d(v){r[8](v)}let m={wrapperClass:"flex-grow",$$slots:{before:[hG]},$$scope:{ctx:r}};return r[1]!==void 0&&(m.value=r[1]),t=new Kr({props:m}),Ct.push(()=>Er(t,"value",d)),i=new $t({props:{type:"button",$$slots:{default:[dG]},$$scope:{ctx:r}}}),i.$on("click",r[4]),{c(){e=K("form"),le(t.$$.fragment),o=oe(),le(i.$$.fragment),q(e,"class","flex gap-2")},m(v,_){F(v,e,_),ae(t,e,null),I(e,o),ae(i,e,null),a=!0,f||(c=ct(e,"submit",mu(r[4])),f=!0)},p(v,_){const $={};_&131072&&($.$$scope={dirty:_,ctx:v}),!n&&_&2&&(n=!0,$.value=v[1],Sr(()=>n=!1)),t.$set($);const k={};_&131072&&(k.$$scope={dirty:_,ctx:v}),i.$set(k)},i(v){a||(O(t.$$.fragment,v),O(i.$$.fragment,v),a=!0)},o(v){z(t.$$.fragment,v),z(i.$$.fragment,v),a=!1},d(v){v&&D(e),fe(t),fe(i),f=!1,c()}}}function hG(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function dG(r){let e;return{c(){e=Le("Search relay")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function pG(r){let e,t,n,o=["failure","custom"].includes(r[0]),i,a;const f=[uG,lG,fG],c=[];function d(v,_){return v[0]==="success"?0:v[0]==="failure"?1:v[0]==="custom"?2:-1}~(e=d(r))&&(t=c[e]=f[e](r));let m=o&&N_(r);return{c(){t&&t.c(),n=oe(),m&&m.c(),i=dt()},m(v,_){~e&&c[e].m(v,_),F(v,n,_),m&&m.m(v,_),F(v,i,_),a=!0},p(v,_){let $=e;e=d(v),e!==$&&(t&&(tt(),z(c[$],1,1,()=>{c[$]=null}),rt()),~e?(t=c[e],t||(t=c[e]=f[e](v),t.c()),O(t,1),t.m(n.parentNode,n)):t=null),_&1&&(o=["failure","custom"].includes(v[0])),o?m?(m.p(v,_),_&1&&O(m,1)):(m=N_(v),m.c(),O(m,1),m.m(i.parentNode,i)):m&&(tt(),z(m,1,1,()=>{m=null}),rt())},i(v){a||(O(t),O(m),a=!0)},o(v){z(t),z(m),a=!1},d(v){~e&&c[e].d(v),v&&D(n),m&&m.d(v),v&&D(i)}}}function mG(r){let e,t;return e=new At({props:{$$slots:{default:[pG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&131075&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function vG(r){let e,t,n,o;e=new At({props:{size:"lg",$$slots:{default:[aG]},$$scope:{ctx:r}}});let i=r[0]&&L_(r);return{c(){le(e.$$.fragment),t=oe(),i&&i.c(),n=dt()},m(a,f){ae(e,a,f),F(a,t,f),i&&i.m(a,f),F(a,n,f),o=!0},p(a,[f]){const c={};f&131079&&(c.$$scope={dirty:f,ctx:a}),e.$set(c),a[0]?i?(i.p(a,f),f&1&&O(i,1)):(i=L_(a),i.c(),O(i,1),i.m(n.parentNode,n)):i&&(tt(),z(i,1,1,()=>{i=null}),rt())},i(a){o||(O(e.$$.fragment,a),O(i),o=!0)},o(a){z(e.$$.fragment,a),z(i),o=!1},d(a){fe(e,a),a&&D(t),i&&i.d(a),a&&D(n)}}}function gG(r,e,t){let n,o=null,i=null,a=!0,f={},c=new Set,d=[],m=on("relays",R=>Xf(R.all()));_t(r,m,R=>t(6,n=R));let v=[];const _=async()=>{if(!!a){for(let R=0;R<8;R++){if(f[R])continue;const C=xi(T=>!c.has(T.url),v);if(!C)break;c.add(C.url),t(2,f[R]=C,f),Cr.loadPeople([at.getPubkey()],{relays:[C],force:!0,kinds:BL}).then(async()=>{await Vo(1e3),t(2,f[R]=null,f),a&&at.getRelays().length>0&&at.getPetnames().length>0?(a=!1,t(0,o="success"),await Promise.all([Zu(at.getPubkey()),Vo(3e3)]),Zr("/notes/follows")):Tr.disconnect(C.url)})}v.length>0&&zw(eu,Object.values(f))&&eu(i)&&(t(0,o="failure"),t(1,i="")),setTimeout(_,300)}},$=()=>{if(i.startsWith("ws")||t(1,i="wss://"+Yr(i.split("://"))),!Uu(i))return en.show("error","That isn't a valid relay url");t(5,d=[{url:i}].concat(d)),t(1,i=null),t(0,o=null)};jr(()=>{_()}),_1(()=>{a=!1});const k=()=>{t(1,i=""),t(0,o="custom")};function S(R){i=R,t(1,i)}const A=()=>{t(0,o=null)};return r.$$.update=()=>{r.$$.dirty&96&&(v=n.concat(d))},[o,i,f,m,$,d,n,k,S,A]}class yG extends ut{constructor(e){super(),lt(this,e,gG,vG,ft,{})}}function bG(r){let e;return{c(){e=Le("Login with your Private Key")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function _G(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-key")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function wG(r){let e;return{c(){e=Le("Log In")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function MG(r){let e;return{c(){e=Le("compatible browser extension")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function $G(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A;e=new Kn({props:{$$slots:{default:[bG]},$$scope:{ctx:r}}});function R(T){r[2](T)}let C={type:"password",placeholder:"nsec...",$$slots:{before:[_G]},$$scope:{ctx:r}};return r[0]!==void 0&&(C.value=r[0]),f=new Kr({props:C}),Ct.push(()=>Er(f,"value",R)),m=new $t({props:{type:"button",$$slots:{default:[wG]},$$scope:{ctx:r}}}),m.$on("click",r[1]),k=new $t({props:{href:kG,external:!0,$$slots:{default:[MG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.textContent="To give Coracle full access to your nostr identity, enter your private key below.",o=oe(),i=K("div"),a=K("div"),le(f.$$.fragment),d=oe(),le(m.$$.fragment),v=oe(),_=K("p"),$=Le("Note that sharing your private key directly is not recommended, instead you should use a "),le(k.$$.fragment),S=Le(" to securely store your key."),q(a,"class","flex-grow"),q(i,"class","flex gap-2"),q(_,"class","rounded border-2 border-solid border-warning bg-gray-8 py-3 px-6")},m(T,B){ae(e,T,B),F(T,t,B),F(T,n,B),F(T,o,B),F(T,i,B),I(i,a),ae(f,a,null),I(i,d),ae(m,i,null),F(T,v,B),F(T,_,B),I(_,$),ae(k,_,null),I(_,S),A=!0},p(T,B){const L={};B&8&&(L.$$scope={dirty:B,ctx:T}),e.$set(L);const j={};B&8&&(j.$$scope={dirty:B,ctx:T}),!c&&B&1&&(c=!0,j.value=T[0],Sr(()=>c=!1)),f.$set(j);const V={};B&8&&(V.$$scope={dirty:B,ctx:T}),m.$set(V);const Z={};B&8&&(Z.$$scope={dirty:B,ctx:T}),k.$set(Z)},i(T){A||(O(e.$$.fragment,T),O(f.$$.fragment,T),O(m.$$.fragment,T),O(k.$$.fragment,T),A=!0)},o(T){z(e.$$.fragment,T),z(f.$$.fragment,T),z(m.$$.fragment,T),z(k.$$.fragment,T),A=!1},d(T){fe(e,T),T&&D(t),T&&D(n),T&&D(o),T&&D(i),fe(f),fe(m),T&&D(v),T&&D(_),fe(k)}}}function xG(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[$G]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&9&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}const kG="https://github.com/nostr-protocol/nips/blob/master/07.md";function SG(r,e,t){let n="";const o=()=>{const a=n.startsWith("nsec")?Hu(n):n;try{mn.validate(a)}catch{en.show("error","Sorry, but that's an invalid private key.");return}Xm("privkey",a)};function i(a){n=a,t(0,n)}return[n,o,i]}class EG extends ut{constructor(e){super(),lt(this,e,SG,xG,ft,{})}}function AG(r){let e;return{c(){e=Le("Login with a nostrkid Public Key")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function BG(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-key")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function RG(r){let e;return{c(){e=Le("Log In")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function CG(r){let e,t,n,o,i,a,f,c,d,m,v,_,$;e=new Kn({props:{$$slots:{default:[AG]},$$scope:{ctx:r}}});function k(A){r[2](A)}let S={placeholder:"npub...",$$slots:{before:[BG]},$$scope:{ctx:r}};return r[0]!==void 0&&(S.value=r[0]),d=new Kr({props:S}),Ct.push(()=>Er(d,"value",k)),_=new $t({props:{type:"button",$$slots:{default:[RG]},$$scope:{ctx:r}}}),_.$on("click",r[1]),{c(){le(e.$$.fragment),t=oe(),n=K("section"),n.innerHTML=`<p>For read-only access, enter a public key below. The key should start
    with &quot;npub&quot;.</p>`,o=oe(),i=K("section"),i.innerHTML="<p>Example: nostrkid 1 sprite205 : npub1falry06qh3ktl6evtf8enl2we9qarflncc299ujpda4kkqkhl7gs3995cd</p>",a=oe(),f=K("div"),c=K("div"),le(d.$$.fragment),v=oe(),le(_.$$.fragment),q(c,"class","flex-grow"),q(f,"class","flex gap-2")},m(A,R){ae(e,A,R),F(A,t,R),F(A,n,R),F(A,o,R),F(A,i,R),F(A,a,R),F(A,f,R),I(f,c),ae(d,c,null),I(f,v),ae(_,f,null),$=!0},p(A,R){const C={};R&8&&(C.$$scope={dirty:R,ctx:A}),e.$set(C);const T={};R&8&&(T.$$scope={dirty:R,ctx:A}),!m&&R&1&&(m=!0,T.value=A[0],Sr(()=>m=!1)),d.$set(T);const B={};R&8&&(B.$$scope={dirty:R,ctx:A}),_.$set(B)},i(A){$||(O(e.$$.fragment,A),O(d.$$.fragment,A),O(_.$$.fragment,A),$=!0)},o(A){z(e.$$.fragment,A),z(d.$$.fragment,A),z(_.$$.fragment,A),$=!1},d(A){fe(e,A),A&&D(t),A&&D(n),A&&D(o),A&&D(i),A&&D(a),A&&D(f),fe(d),fe(_)}}}function PG(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[CG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&9&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function TG(r,e,t){let n="";const o=()=>{const a=n.startsWith("npub")?Hu(n):n;try{mn.validate(a)}catch{en.show("error","Sorry, but that's an invalid public key.");return}Xm("pubkey",a)};function i(a){n=a,t(0,n)}return[n,o,i]}class OG extends ut{constructor(e){super(),lt(this,e,TG,PG,ft,{})}}function IG(r){let e;return{c(){e=Le("Create an Account")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function LG(r){let e;return{c(){e=Le("here")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function NG(r){let e;return{c(){e=Le("Let's go!")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function DG(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k;return e=new Kn({props:{$$slots:{default:[IG]},$$scope:{ctx:r}}}),i=new $t({props:{external:!0,href:UG,$$slots:{default:[LG]},$$scope:{ctx:r}}}),$=new $t({props:{type:"button-accent",$$slots:{default:[NG]},$$scope:{ctx:r}}}),$.$on("click",r[0]),{c(){le(e.$$.fragment),t=oe(),n=K("p"),o=Le("New to Nostr? Click "),le(i.$$.fragment),a=Le(` or watch the video below for
    a crash course on what it is, and how to use it.`),f=oe(),c=K("video"),m=oe(),v=K("p"),v.textContent=`When you\u2019re ready to dive in, click below and we\u2019ll guide you through the process of creating an
    account.`,_=oe(),le($.$$.fragment),c.controls=!0,hf(c.src,d=HG)||q(c,"src",d),q(c,"class","object-contain object-center")},m(S,A){ae(e,S,A),F(S,t,A),F(S,n,A),I(n,o),ae(i,n,null),I(n,a),F(S,f,A),F(S,c,A),F(S,m,A),F(S,v,A),F(S,_,A),ae($,S,A),k=!0},p(S,A){const R={};A&2&&(R.$$scope={dirty:A,ctx:S}),e.$set(R);const C={};A&2&&(C.$$scope={dirty:A,ctx:S}),i.$set(C);const T={};A&2&&(T.$$scope={dirty:A,ctx:S}),$.$set(T)},i(S){k||(O(e.$$.fragment,S),O(i.$$.fragment,S),O($.$$.fragment,S),k=!0)},o(S){z(e.$$.fragment,S),z(i.$$.fragment,S),z($.$$.fragment,S),k=!1},d(S){fe(e,S),S&&D(t),S&&D(n),fe(i),S&&D(f),S&&D(c),S&&D(m),S&&D(v),S&&D(_),fe($,S)}}}function FG(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[DG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&2&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}const UG="https://nostr.com/",HG="https://dufflepud.us-southeast-1.linodeobjects.com/coracle_intro.mp4";function jG(r){return[()=>Xt.set({type:"onboarding",stage:"key"})]}class zG extends ut{constructor(e){super(),lt(this,e,jG,FG,ft,{})}}function qG(r){let e;return{c(){e=Le("Generate a Key")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function KG(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-lock")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function WG(r){let e,t,n;return{c(){e=K("button"),q(e,"slot","after"),q(e,"class","fa fa-copy cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[1]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function VG(r){let e;return{c(){e=Le("Log in")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function ZG(r){let e,t,n,o,i,a,f,c,d,m,v;return e=new Kn({props:{$$slots:{default:[qG]},$$scope:{ctx:r}}}),a=new Kr({props:{disabled:!0,placeholder:"\u2022".repeat(53),wrapperClass:"flex-grow",$$slots:{after:[WG],before:[KG]},$$scope:{ctx:r}}}),c=new $t({props:{type:"button-accent",$$slots:{default:[VG]},$$scope:{ctx:r}}}),c.$on("click",r[3]),{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.textContent=`Your private key is your password, and gives you total control over your Nostr account. We've
    generated a fresh one for you below \u2013 store it somewhere safe!`,o=oe(),i=K("div"),le(a.$$.fragment),f=oe(),le(c.$$.fragment),d=oe(),m=K("p"),m.textContent="If you don't want to save your keys now, you can find them later in Coracle's settings.",q(i,"class","flex gap-2")},m(_,$){ae(e,_,$),F(_,t,$),F(_,n,$),F(_,o,$),F(_,i,$),ae(a,i,null),I(i,f),ae(c,i,null),F(_,d,$),F(_,m,$),v=!0},p(_,$){const k={};$&32&&(k.$$scope={dirty:$,ctx:_}),e.$set(k);const S={};$&32&&(S.$$scope={dirty:$,ctx:_}),a.$set(S);const A={};$&32&&(A.$$scope={dirty:$,ctx:_}),c.$set(A)},i(_){v||(O(e.$$.fragment,_),O(a.$$.fragment,_),O(c.$$.fragment,_),v=!0)},o(_){z(e.$$.fragment,_),z(a.$$.fragment,_),z(c.$$.fragment,_),v=!1},d(_){fe(e,_),_&&D(t),_&&D(n),_&&D(o),_&&D(i),fe(a),fe(c),_&&D(d),_&&D(m)}}}function GG(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[ZG]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&32&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function YG(r,e,t){let{privkey:n}=e;const o=br.nsecEncode(n),i=Tr.forceUrls.length>0?"follows":"relays",a=()=>{ju(o),en.show("info","Your private key has been copied to the clipboard. Keep it secret!")},f=()=>Xt.set({type:"onboarding",stage:i});return r.$$set=c=>{"privkey"in c&&t(2,n=c.privkey)},[i,a,n,f]}class JG extends ut{constructor(e){super(),lt(this,e,YG,GG,ft,{privkey:2})}}function D_(r,e,t){const n=r.slice();return n[9]=e[t],n}function F_(r,e,t){const n=r.slice();return n[9]=e[t],n}function XG(r){let e;return{c(){e=Le("Get Connected")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function QG(r){let e;return{c(){e=Le("Continue")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function eY(r){let e,t,n,o,i,a;return e=new Kn({props:{$$slots:{default:[XG]},$$scope:{ctx:r}}}),i=new $t({props:{type:"button-accent",$$slots:{default:[QG]},$$scope:{ctx:r}}}),i.$on("click",r[7]),{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.innerHTML=`Nostr is a protocol, not a platform. This means that <i>you</i> choose where to store your data.
      Select your preferred storage relays below, or click &quot;continue&quot; to use some reasonable defaults.
      You can change your selection any time.`,o=oe(),le(i.$$.fragment)},m(f,c){ae(e,f,c),F(f,t,c),F(f,n,c),F(f,o,c),ae(i,f,c),a=!0},p(f,c){const d={};c&16384&&(d.$$scope={dirty:c,ctx:f}),e.$set(d);const m={};c&16384&&(m.$$scope={dirty:c,ctx:f}),i.$set(m)},i(f){a||(O(e.$$.fragment,f),O(i.$$.fragment,f),a=!0)},o(f){z(e.$$.fragment,f),z(i.$$.fragment,f),a=!1},d(f){fe(e,f),f&&D(t),f&&D(n),f&&D(o),fe(i,f)}}}function tY(r){let e,t=[],n=new Map,o,i=r[0];const a=f=>f[9].url;for(let f=0;f<i.length;f+=1){let c=F_(r,i,f),d=a(c);n.set(d,t[f]=U_(d,c))}return{c(){e=K("div");for(let f=0;f<t.length;f+=1)t[f].c();q(e,"class","grid grid-cols-1 gap-4")},m(f,c){F(f,e,c);for(let d=0;d<t.length;d+=1)t[d].m(e,null);o=!0},p(f,c){c&33&&(i=f[0],tt(),t=Sn(t,c,a,1,f,i,n,e,kn,U_,null,F_),rt())},i(f){if(!o){for(let c=0;c<i.length;c+=1)O(t[c]);o=!0}},o(f){for(let c=0;c<t.length;c+=1)z(t[c]);o=!1},d(f){f&&D(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function rY(r){let e;return{c(){e=K("div"),e.innerHTML=`<i class="fa fa-triangle-exclamation"></i> 
      <span>No relays connected</span>`,q(e,"class","mt-8 flex items-center justify-center gap-2 text-center")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function U_(r,e){let t,n,o;return n=new mv({props:{relay:e[9],removeRelay:e[5]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&1&&(f.relay=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function nY(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function H_(r,e){let t,n,o;return n=new mv({props:{relay:e[9],addRelay:e[6]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&12&&(f.relay=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function iY(r){let e,t,n,o,i,a,f,c,d,m,v,_,$=[],k=new Map,S,A,R,C=Math.min(r[1].length-r[0].length,50)+"",T,B,L=r[1].length-r[0].length+"",j,V,Z;e=new At({props:{class:"text-center",$$slots:{default:[eY]},$$scope:{ctx:r}}});const Q=[rY,tY],ne=[];function w(g,M){return g[0].length===0?0:1}i=w(r),a=ne[i]=Q[i](r);function s(g){r[8](g)}let u={type:"text",wrapperClass:"flex-grow",placeholder:"Type to search",$$slots:{before:[nY]},$$scope:{ctx:r}};r[2]!==void 0&&(u.value=r[2]),m=new Kr({props:u}),Ct.push(()=>Er(m,"value",s));let h=(r[3](r[2])||[]).slice(0,50);const p=g=>g[9].url;for(let g=0;g<h.length;g+=1){let M=D_(r,h,g),x=p(M);k.set(x,$[g]=H_(x,M))}return{c(){le(e.$$.fragment),t=oe(),n=K("div"),n.innerHTML=`<i class="fa fa-server fa-lg"></i> 
    <h2 class="staatliches text-2xl">Your relays</h2>`,o=oe(),a.c(),f=oe(),c=K("div"),c.innerHTML=`<i class="fa fa-earth-asia fa-lg"></i> 
    <h2 class="staatliches text-2xl">Other relays</h2>`,d=oe(),le(m.$$.fragment),_=oe();for(let g=0;g<$.length;g+=1)$[g].c();S=oe(),A=K("small"),R=Le("Showing "),T=Le(C),B=Le(`
    of `),j=Le(L),V=Le(" known relays"),q(n,"class","flex items-center gap-2"),q(c,"class","flex items-center gap-2"),q(A,"class","text-center")},m(g,M){ae(e,g,M),F(g,t,M),F(g,n,M),F(g,o,M),ne[i].m(g,M),F(g,f,M),F(g,c,M),F(g,d,M),ae(m,g,M),F(g,_,M);for(let x=0;x<$.length;x+=1)$[x].m(g,M);F(g,S,M),F(g,A,M),I(A,R),I(A,T),I(A,B),I(A,j),I(A,V),Z=!0},p(g,M){const x={};M&16384&&(x.$$scope={dirty:M,ctx:g}),e.$set(x);let y=i;i=w(g),i===y?ne[i].p(g,M):(tt(),z(ne[y],1,1,()=>{ne[y]=null}),rt(),a=ne[i],a?a.p(g,M):(a=ne[i]=Q[i](g),a.c()),O(a,1),a.m(f.parentNode,f));const l={};M&16384&&(l.$$scope={dirty:M,ctx:g}),!v&&M&4&&(v=!0,l.value=g[2],Sr(()=>v=!1)),m.$set(l),M&76&&(h=(g[3](g[2])||[]).slice(0,50),tt(),$=Sn($,M,p,1,g,h,k,S.parentNode,kn,H_,S,D_),rt()),(!Z||M&3)&&C!==(C=Math.min(g[1].length-g[0].length,50)+"")&&Mt(T,C),(!Z||M&3)&&L!==(L=g[1].length-g[0].length+"")&&Mt(j,L)},i(g){if(!Z){O(e.$$.fragment,g),O(a),O(m.$$.fragment,g);for(let M=0;M<h.length;M+=1)O($[M]);Z=!0}},o(g){z(e.$$.fragment,g),z(a),z(m.$$.fragment,g);for(let M=0;M<$.length;M+=1)z($[M]);Z=!1},d(g){fe(e,g),g&&D(t),g&&D(n),g&&D(o),ne[i].d(g),g&&D(f),g&&D(c),g&&D(d),fe(m,g),g&&D(_);for(let M=0;M<$.length;M+=1)$[M].d(g);g&&D(S),g&&D(A)}}}function oY(r){let e,t;return e=new At({props:{$$slots:{default:[iY]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function sY(r,e,t){let n,{relays:o}=e,i="",a;const f=on("relays",_=>_.all());_t(r,f,_=>t(1,n=_));const c=({url:_})=>{t(0,o=wi(tf({url:_}),o))},d=_=>{t(0,o=o.concat({..._,write:!0}))},m=()=>Xt.set({type:"onboarding",stage:"follows"});function v(_){i=_,t(2,i)}return r.$$set=_=>{"relays"in _&&t(0,o=_.relays)},r.$$.update=()=>{if(r.$$.dirty&3){const _=new Set(Ar("url",o));t(3,a=Sa(n.filter($=>!_.has($.url)),{keys:["name","description","url"]}))}},[o,n,i,a,f,c,d,m,v]}class aY extends ut{constructor(e){super(),lt(this,e,sY,oY,ft,{relays:0})}}function j_(r,e,t){const n=r.slice();return n[9]=e[t],n}function z_(r,e,t){const n=r.slice();return n[12]=e[t],n}function fY(r){let e;return{c(){e=Le("Find Your People")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function lY(r){let e;return{c(){e=Le("Continue")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function uY(r){let e,t,n,o,i,a;return e=new Kn({props:{$$slots:{default:[fY]},$$scope:{ctx:r}}}),i=new $t({props:{type:"button-accent",$$slots:{default:[lY]},$$scope:{ctx:r}}}),i.$on("click",r[7]),{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.textContent=`To get you started, we\u2019ve added some interesting people to your follow list. You can update
      your follows list at any time.`,o=oe(),le(i.$$.fragment)},m(f,c){ae(e,f,c),F(f,t,c),F(f,n,c),F(f,o,c),ae(i,f,c),a=!0},p(f,c){const d={};c&32768&&(d.$$scope={dirty:c,ctx:f}),e.$set(d);const m={};c&32768&&(m.$$scope={dirty:c,ctx:f}),i.$set(m)},i(f){a||(O(e.$$.fragment,f),O(i.$$.fragment,f),a=!0)},o(f){z(e.$$.fragment,f),z(i.$$.fragment,f),a=!1},d(f){fe(e,f),f&&D(t),f&&D(n),f&&D(o),fe(i,f)}}}function cY(r){let e,t,n=r[0],o=[];for(let a=0;a<n.length;a+=1)o[a]=q_(z_(r,n,a));const i=a=>z(o[a],1,1,()=>{o[a]=null});return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=dt()},m(a,f){for(let c=0;c<o.length;c+=1)o[c].m(a,f);F(a,e,f),t=!0},p(a,f){if(f&17){n=a[0];let c;for(c=0;c<n.length;c+=1){const d=z_(a,n,c);o[c]?(o[c].p(d,f),O(o[c],1)):(o[c]=q_(d),o[c].c(),O(o[c],1),o[c].m(e.parentNode,e))}for(tt(),c=n.length;c<o.length;c+=1)i(c);rt()}},i(a){if(!t){for(let f=0;f<n.length;f+=1)O(o[f]);t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)z(o[f]);t=!1},d(a){yn(o,a),a&&D(e)}}}function hY(r){let e;return{c(){e=K("div"),e.innerHTML=`<i class="fa fa-triangle-exclamation"></i> 
      <span>No follows selected</span>`,q(e,"class","mt-8 flex items-center justify-center gap-2 text-center")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function q_(r){let e,t;return e=new _v({props:{person:Br(r[12]),removePetname:r[4]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.person=Br(n[12])),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function dY(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function K_(r,e){let t,n,o;return n=new _v({props:{person:e[9],addPetname:e[5]}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&6&&(f.person=e[9]),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function pY(r){let e,t,n,o,i,a,f,c,d,m,v,_,$=[],k=new Map,S,A;e=new At({props:{class:"text-center",$$slots:{default:[uY]},$$scope:{ctx:r}}});const R=[hY,cY],C=[];function T(Z,Q){return Z[0].length===0?0:1}i=T(r),a=C[i]=R[i](r);function B(Z){r[8](Z)}let L={type:"text",wrapperClass:"flex-grow",placeholder:"Type to search",$$slots:{before:[dY]},$$scope:{ctx:r}};r[1]!==void 0&&(L.value=r[1]),m=new Kr({props:L}),Ct.push(()=>Er(m,"value",B));let j=r[2](r[1]).slice(0,50);const V=Z=>Z[9].pubkey;for(let Z=0;Z<j.length;Z+=1){let Q=j_(r,j,Z),ne=V(Q);k.set(ne,$[Z]=K_(ne,Q))}return{c(){le(e.$$.fragment),t=oe(),n=K("div"),n.innerHTML=`<i class="fa fa-user-astronaut fa-lg"></i> 
    <h2 class="staatliches text-2xl">Your follows</h2>`,o=oe(),a.c(),f=oe(),c=K("div"),c.innerHTML=`<i class="fa fa-earth-asia fa-lg"></i> 
    <h2 class="staatliches text-2xl">Other people</h2>`,d=oe(),le(m.$$.fragment),_=oe();for(let Z=0;Z<$.length;Z+=1)$[Z].c();S=dt(),q(n,"class","flex items-center gap-2"),q(c,"class","flex items-center gap-2")},m(Z,Q){ae(e,Z,Q),F(Z,t,Q),F(Z,n,Q),F(Z,o,Q),C[i].m(Z,Q),F(Z,f,Q),F(Z,c,Q),F(Z,d,Q),ae(m,Z,Q),F(Z,_,Q);for(let ne=0;ne<$.length;ne+=1)$[ne].m(Z,Q);F(Z,S,Q),A=!0},p(Z,Q){const ne={};Q&32768&&(ne.$$scope={dirty:Q,ctx:Z}),e.$set(ne);let w=i;i=T(Z),i===w?C[i].p(Z,Q):(tt(),z(C[w],1,1,()=>{C[w]=null}),rt(),a=C[i],a?a.p(Z,Q):(a=C[i]=R[i](Z),a.c()),O(a,1),a.m(f.parentNode,f));const s={};Q&32768&&(s.$$scope={dirty:Q,ctx:Z}),!v&&Q&2&&(v=!0,s.value=Z[1],Sr(()=>v=!1)),m.$set(s),Q&38&&(j=Z[2](Z[1]).slice(0,50),tt(),$=Sn($,Q,V,1,Z,j,k,S.parentNode,kn,K_,S,j_),rt())},i(Z){if(!A){O(e.$$.fragment,Z),O(a),O(m.$$.fragment,Z);for(let Q=0;Q<j.length;Q+=1)O($[Q]);A=!0}},o(Z){z(e.$$.fragment,Z),z(a),z(m.$$.fragment,Z);for(let Q=0;Q<$.length;Q+=1)z($[Q]);A=!1},d(Z){fe(e,Z),Z&&D(t),Z&&D(n),Z&&D(o),C[i].d(Z),Z&&D(f),Z&&D(c),Z&&D(d),fe(m,Z),Z&&D(_);for(let Q=0;Q<$.length;Q+=1)$[Q].d(Z);Z&&D(S)}}}function mY(r){let e,t;return e=new At({props:{$$slots:{default:[pY]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&32775&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function vY(r,e,t){let n,{follows:o}=e,i="",a;const f=on("people",_=>_.all({"kind0.name:!nil":null}));_t(r,f,_=>t(6,n=_));const c=({pubkey:_})=>{t(0,o=gf([_],o))},d=({pubkey:_})=>{t(0,o=o.concat(_))},m=()=>Xt.set({type:"onboarding",stage:"complete"});function v(_){i=_,t(1,i)}return r.$$set=_=>{"follows"in _&&t(0,o=_.follows)},r.$$.update=()=>{r.$$.dirty&65&&t(2,a=Sa(n.filter(_=>!o.includes(_.pubkey)),{keys:["kind0.name","kind0.about","pubkey"]}))},[o,i,a,f,c,d,n,m,v]}class gY extends ut{constructor(e){super(),lt(this,e,vY,mY,ft,{follows:0})}}function yY(r){let e;return{c(){e=Le("Welcome to Nostr")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function bY(r){let e;return{c(){e=Le("Get on Nostr")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function W_(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _Y(r){let e,t,n,o,i,a,f,c;e=new Kn({props:{$$slots:{default:[yY]},$$scope:{ctx:r}}}),i=new $t({props:{loading:r[0],type:"button-accent",$$slots:{default:[bY]},$$scope:{ctx:r}}}),i.$on("click",r[1]);let d=r[0]&&W_();return{c(){le(e.$$.fragment),t=oe(),n=K("p"),n.textContent=`You\u2019re all set! If have any questions, or need any help, just ask. Your fellow nostriches are
    always happy to lend a hand.`,o=oe(),le(i.$$.fragment),a=oe(),d&&d.c(),f=dt()},m(m,v){ae(e,m,v),F(m,t,v),F(m,n,v),F(m,o,v),ae(i,m,v),F(m,a,v),d&&d.m(m,v),F(m,f,v),c=!0},p(m,v){const _={};v&8&&(_.$$scope={dirty:v,ctx:m}),e.$set(_);const $={};v&1&&($.loading=m[0]),v&8&&($.$$scope={dirty:v,ctx:m}),i.$set($),m[0]?d?v&1&&O(d,1):(d=W_(),d.c(),O(d,1),d.m(f.parentNode,f)):d&&(tt(),z(d,1,1,()=>{d=null}),rt())},i(m){c||(O(e.$$.fragment,m),O(i.$$.fragment,m),O(d),c=!0)},o(m){z(e.$$.fragment,m),z(i.$$.fragment,m),z(d),c=!1},d(m){fe(e,m),m&&D(t),m&&D(n),m&&D(o),fe(i,m),m&&D(a),d&&d.d(m),m&&D(f)}}}function wY(r){let e,t;return e=new At({props:{size:"lg",class:"text-center",$$slots:{default:[_Y]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&9&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function MY(r,e,t){let{signup:n}=e,o=!1;const i=()=>{t(0,o=!0),n()};return r.$$set=a=>{"signup"in a&&t(2,n=a.signup)},[o,i,n]}class $Y extends ut{constructor(e){super(),lt(this,e,MY,wY,ft,{signup:2})}}function xY(r){let e,t;return e=new $Y({props:{signup:r[6]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kY(r){let e,t,n;function o(a){r[8](a)}let i={};return r[2]!==void 0&&(i.follows=r[2]),e=new gY({props:i}),Ct.push(()=>Er(e,"follows",o)),{c(){le(e.$$.fragment)},m(a,f){ae(e,a,f),n=!0},p(a,f){const c={};!t&&f&4&&(t=!0,c.follows=a[2],Sr(()=>t=!1)),e.$set(c)},i(a){n||(O(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){fe(e,a)}}}function SY(r){let e,t,n;function o(a){r[7](a)}let i={};return r[1]!==void 0&&(i.relays=r[1]),e=new aY({props:i}),Ct.push(()=>Er(e,"relays",o)),{c(){le(e.$$.fragment)},m(a,f){ae(e,a,f),n=!0},p(a,f){const c={};!t&&f&2&&(t=!0,c.relays=a[1],Sr(()=>t=!1)),e.$set(c)},i(a){n||(O(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){fe(e,a)}}}function EY(r){let e,t;return e=new JG({props:{privkey:r[5]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function AY(r){let e,t;return e=new zG({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function V_(r){let e,t,n,o,i;const a=[AY,EY,SY,kY,xY],f=[];function c(d,m){return d[0]==="intro"?0:d[0]==="key"?1:d[0]==="relays"?2:d[0]==="follows"?3:4}return t=c(r),n=f[t]=a[t](r),{c(){e=K("div"),n.c()},m(d,m){F(d,e,m),f[t].m(e,null),i=!0},p(d,m){let v=t;t=c(d),t===v?f[t].p(d,m):(tt(),z(f[v],1,1,()=>{f[v]=null}),rt(),n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),O(n,1),n.m(e,null))},i(d){i||(O(n),o||Nt(()=>{o=_r(e,Qt,{y:20}),o.start()}),i=!0)},o(d){z(n),i=!1},d(d){d&&D(e),f[t].d()}}}function BY(r){let e=r[0],t,n,o=V_(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,[a]){a&1&&ft(e,e=i[0])?(tt(),z(o,1,1,Fe),rt(),o=V_(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function RY(r,e,t){let n,o,{stage:i}=e;const{relays:a,petnamePubkeys:f}=at;_t(r,a,k=>t(10,o=k)),_t(r,f,k=>t(9,n=k));let c=[];o.length>0?c=o:Tr.forceUrls.length>0?c=Tr.forceUrls.map(Yf("url")):c=[{url:"wss://nostr-pub.wellorder.net",write:!0},{url:"wss://nostr.zebedee.cloud",write:!0},{url:"wss://nos.lol",write:!0},{url:"wss://brb.io",write:!0}];let d=n.length>0?n:["97c70a44366a6535c145b333f973ea86dfdc2d7a99da618c40c64705ad98e322","3bf0c63fcb93463407af97a5e5ee64fa883d107ef9e558472c4eb9aaaefa459d","82341f882b6eabcd2ba7f1ef90aad961cf074af15b9ef44a09f9d2a8fbfbe6a2","6e468422dfb74a5738702a8823b9b28168abab8655faacb6853cd0ee15deee93"];const m=zI(),v=async()=>{await mn.login("privkey",m),await at.updateRelays(()=>c),await at.updatePetnames(()=>d.map(k=>{const[{url:S}]=An(Ji(k)),A=er(Br(k));return["p",k,S,A]})),Zu(at.getPubkey()),Xt.set(null),Zr("/notes/follows")};jr(async()=>{await Cr.loadPeople(d,{relays:c});const k=Xf($o(d.flatMap(k5))).slice(0,256);await Cr.loadPeople(k,{relays:c})});function _(k){c=k,t(1,c)}function $(k){d=k,t(2,d)}return r.$$set=k=>{"stage"in k&&t(0,i=k.stage)},[i,c,d,a,f,m,v,_,$]}class CY extends ut{constructor(e){super(),lt(this,e,RY,BY,ft,{stage:0})}}function Z_(r,e,t){const n=r.slice();return n[21]=e[t],n}function G_(r,e,t){const n=r.slice();return n[21]=e[t],n}function PY(r){let e;return{c(){e=Le("Create a note")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function Y_(r){let e,t;return e=new X0({props:{link:{type:"image",url:r[1]},onClose:r[15]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2&&(i.link={type:"image",url:n[1]}),o&2&&(i.onClose=n[15]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function TY(r){let e;return{c(){e=Le("Send")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function OY(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V=kt.exports.quantify(r[0].length,"relay")+"",Z,Q,ne,w,s,u;e=new Kn({props:{class:"text-center",$$slots:{default:[PY]},$$scope:{ctx:r}}});let h={onSubmit:r[7]};c=new hM({props:h}),r[14](c);let p=r[1]&&Y_(r);S=new cl({props:{type:"submit",class:"flex-grow text-center",$$slots:{default:[TY]},$$scope:{ctx:r}}});function g(x){r[16](x)}let M={icon:"image",hideInput:!0};return r[1]!==void 0&&(M.value=r[1]),R=new Ch({props:M}),Ct.push(()=>Er(R,"value",g)),{c(){le(e.$$.fragment),t=oe(),n=K("div"),o=K("div"),i=K("strong"),i.textContent="What do you want to say?",a=oe(),f=K("div"),le(c.$$.fragment),d=oe(),m=K("div"),v=K("small"),v.textContent=`Posting as @${er(Br(at.getPubkey()))}`,_=oe(),p&&p.c(),$=oe(),k=K("div"),le(S.$$.fragment),A=oe(),le(R.$$.fragment),T=oe(),B=K("small"),L=K("span"),j=Le("Publishing to "),Z=Le(V),Q=oe(),ne=K("i"),q(v,"class","text-gray-5"),q(m,"class","flex justify-end"),q(f,"class","border-l-2 border-solid border-gray-6 pl-4"),q(o,"class","flex flex-col gap-2"),q(k,"class","flex gap-2"),q(ne,"class","fa fa-edit"),q(B,"class","flex cursor-pointer items-center justify-end gap-1"),q(n,"class","flex w-full flex-col gap-4")},m(x,y){ae(e,x,y),F(x,t,y),F(x,n,y),I(n,o),I(o,i),I(o,a),I(o,f),ae(c,f,null),I(f,d),I(f,m),I(m,v),I(n,_),p&&p.m(n,null),I(n,$),I(n,k),ae(S,k,null),I(k,A),ae(R,k,null),I(n,T),I(n,B),I(B,L),I(L,j),I(L,Z),I(B,Q),I(B,ne),w=!0,s||(u=ct(B,"click",r[17]),s=!0)},p(x,y){const l={};y&67108864&&(l.$$scope={dirty:y,ctx:x}),e.$set(l);const b={};c.$set(b),x[1]?p?(p.p(x,y),y&2&&O(p,1)):(p=Y_(x),p.c(),O(p,1),p.m(n,$)):p&&(tt(),z(p,1,1,()=>{p=null}),rt());const E={};y&67108864&&(E.$$scope={dirty:y,ctx:x}),S.$set(E);const P={};!C&&y&2&&(C=!0,P.value=x[1],Sr(()=>C=!1)),R.$set(P),(!w||y&1)&&V!==(V=kt.exports.quantify(x[0].length,"relay")+"")&&Mt(Z,V)},i(x){w||(O(e.$$.fragment,x),O(c.$$.fragment,x),O(p),O(S.$$.fragment,x),O(R.$$.fragment,x),w=!0)},o(x){z(e.$$.fragment,x),z(c.$$.fragment,x),z(p),z(S.$$.fragment,x),z(R.$$.fragment,x),w=!1},d(x){fe(e,x),x&&D(t),x&&D(n),r[14](null),fe(c),p&&p.d(),fe(S),fe(R),s=!1,u()}}}function J_(r){let e,t;return e=new Lo({props:{onEscape:r[8],$$slots:{default:[UY]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&67108913&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IY(r){let e;return{c(){e=Le("Note relays")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function X_(r){let e,t,n,o=Yr(r[21].url.split("//"))+"",i,a,f,c;function d(){return r[18](r[21])}return{c(){e=K("div"),t=K("button"),n=oe(),i=Le(o),a=oe(),q(t,"type","button"),q(t,"class","fa fa-times cursor-pointer"),q(e,"class","mr-1 mb-2 inline-block rounded-full border border-solid border-gray-1 py-1 px-2")},m(m,v){F(m,e,v),I(e,t),I(e,n),I(e,i),I(e,a),f||(c=ct(t,"click",d),f=!0)},p(m,v){r=m,v&1&&o!==(o=Yr(r[21].url.split("//"))+"")&&Mt(i,o)},d(m){m&&D(e),f=!1,c()}}}function LY(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa fa-search")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function NY(r){let e,t,n;function o(){return r[20](r[21])}return{c(){e=K("button"),e.textContent="Add relay",q(e,"slot","actions"),q(e,"class","underline")},m(i,a){F(i,e,a),t||(n=ct(e,"click",o),t=!0)},p(i,a){r=i},d(i){i&&D(e),t=!1,n()}}}function Q_(r,e){let t,n,o;return n=new bM({props:{relay:e[21],$$slots:{actions:[NY]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=dt(),le(n.$$.fragment),this.first=t},m(i,a){F(i,t,a),ae(n,i,a),o=!0},p(i,a){e=i;const f={};a&48&&(f.relay=e[21]),a&67108912&&(f.$$scope={dirty:a,ctx:e}),n.$set(f)},i(i){o||(O(n.$$.fragment,i),o=!0)},o(i){z(n.$$.fragment,i),o=!1},d(i){i&&D(t),fe(n,i)}}}function DY(r){let e;return{c(){e=Le("Done")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function FY(r){let e,t,n,o,i,a,f,c,d,m,v=[],_=new Map,$,k,S;t=new Kn({props:{$$slots:{default:[IY]},$$scope:{ctx:r}}});let A=r[0],R=[];for(let j=0;j<A.length;j+=1)R[j]=X_(G_(r,A,j));function C(j){r[19](j)}let T={placeholder:"Search for other relays",$$slots:{before:[LY]},$$scope:{ctx:r}};r[4]!==void 0&&(T.value=r[4]),c=new Kr({props:T}),Ct.push(()=>Er(c,"value",C));let B=(r[4]?r[5](r[4]):[]).slice(0,3);const L=j=>j[21].url;for(let j=0;j<B.length;j+=1){let V=Z_(r,B,j),Z=L(V);_.set(Z,v[j]=Q_(Z,V))}return k=new cl({props:{type:"submit",class:"text-center",$$slots:{default:[DY]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("div"),o.textContent="Select which relays to publish to:",i=oe(),a=K("div");for(let j=0;j<R.length;j+=1)R[j].c();f=oe(),le(c.$$.fragment),m=oe();for(let j=0;j<v.length;j+=1)v[j].c();$=oe(),le(k.$$.fragment),q(e,"class","mb-4 flex items-center justify-center")},m(j,V){F(j,e,V),ae(t,e,null),F(j,n,V),F(j,o,V),F(j,i,V),F(j,a,V);for(let Z=0;Z<R.length;Z+=1)R[Z].m(a,null);F(j,f,V),ae(c,j,V),F(j,m,V);for(let Z=0;Z<v.length;Z+=1)v[Z].m(j,V);F(j,$,V),ae(k,j,V),S=!0},p(j,V){const Z={};if(V&67108864&&(Z.$$scope={dirty:V,ctx:j}),t.$set(Z),V&1025){A=j[0];let w;for(w=0;w<A.length;w+=1){const s=G_(j,A,w);R[w]?R[w].p(s,V):(R[w]=X_(s),R[w].c(),R[w].m(a,null))}for(;w<R.length;w+=1)R[w].d(1);R.length=A.length}const Q={};V&67108864&&(Q.$$scope={dirty:V,ctx:j}),!d&&V&16&&(d=!0,Q.value=j[4],Sr(()=>d=!1)),c.$set(Q),V&560&&(B=(j[4]?j[5](j[4]):[]).slice(0,3),tt(),v=Sn(v,V,L,1,j,B,_,$.parentNode,kn,Q_,$,Z_),rt());const ne={};V&67108864&&(ne.$$scope={dirty:V,ctx:j}),k.$set(ne)},i(j){if(!S){O(t.$$.fragment,j),O(c.$$.fragment,j);for(let V=0;V<B.length;V+=1)O(v[V]);O(k.$$.fragment,j),S=!0}},o(j){z(t.$$.fragment,j),z(c.$$.fragment,j);for(let V=0;V<v.length;V+=1)z(v[V]);z(k.$$.fragment,j),S=!1},d(j){j&&D(e),fe(t),j&&D(n),j&&D(o),j&&D(i),j&&D(a),yn(R,j),j&&D(f),fe(c,j),j&&D(m);for(let V=0;V<v.length;V+=1)v[V].d(j);j&&D($),fe(k,j)}}}function UY(r){let e,t,n,o,i;return t=new At({props:{$$slots:{default:[FY]},$$scope:{ctx:r}}}),{c(){e=K("form"),le(t.$$.fragment)},m(a,f){F(a,e,f),ae(t,e,null),n=!0,o||(i=ct(e,"submit",mu(r[8])),o=!0)},p(a,f){const c={};f&67108913&&(c.$$scope={dirty:f,ctx:a}),t.$set(c)},i(a){n||(O(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&D(e),fe(t),o=!1,i()}}}function HY(r){let e,t,n,o,i,a,f,c;t=new At({props:{size:"lg",$$slots:{default:[OY]},$$scope:{ctx:r}}});let d=r[3]&&J_(r);return{c(){e=K("form"),le(t.$$.fragment),o=oe(),d&&d.c(),i=dt()},m(m,v){F(m,e,v),ae(t,e,null),F(m,o,v),d&&d.m(m,v),F(m,i,v),a=!0,f||(c=ct(e,"submit",mu(r[7])),f=!0)},p(m,[v]){const _={};v&67108879&&(_.$$scope={dirty:v,ctx:m}),t.$set(_),m[3]?d?(d.p(m,v),v&8&&O(d,1)):(d=J_(m),d.c(),O(d,1),d.m(i.parentNode,i)):d&&(tt(),z(d,1,1,()=>{d=null}),rt())},i(m){a||(O(t.$$.fragment,m),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),O(d),a=!0)},o(m){z(t.$$.fragment,m),z(d),a=!1},d(m){m&&D(e),fe(t),m&&D(o),d&&d.d(m),m&&D(i),f=!1,c()}}}function jY(r,e,t){let n,{pubkey:o=null}=e,{nevent:i=null}=e,a=null,f=null,c=F0(),d=!1,m="",v;const _=on("relays",Z=>Z.all());_t(r,_,Z=>t(13,n=Z));const $=async()=>{let{content:Z,mentions:Q,topics:ne}=f.parse();if(a&&(Z=Z+`
`+a),Z){const w=jn.createNote(Z.trim(),Q,ne),[s,u]=await uu(c,w);u.then(()=>setTimeout(()=>en.show("info",{text:"Your note has been created!",link:{text:"View",href:"/"+br.neventEncode({id:s.id,relays:Ar("url",c.slice(0,3))})}}),3e3)),Xt.clear()}},k=()=>{t(4,m=""),t(3,d=!1)},S=Z=>{t(4,m=""),t(0,c=c.concat(Z))},A=Z=>{t(0,c=wi(hn("url",Z.url),c))};jr(()=>{o&&o!==at.getPubkey()&&f.mention(Br(o)),i&&f.nevent("nostr:"+i)});function R(Z){Ct[Z?"unshift":"push"](()=>{f=Z,t(2,f)})}const C=()=>{t(1,a=null)};function T(Z){a=Z,t(1,a)}const B=()=>{t(3,d=!0)},L=Z=>A(Z);function j(Z){m=Z,t(4,m)}const V=Z=>S(Z);return r.$$set=Z=>{"pubkey"in Z&&t(11,o=Z.pubkey),"nevent"in Z&&t(12,i=Z.nevent)},r.$$.update=()=>{if(r.$$.dirty&8193){const Z=new Set(Ar("url",c));t(5,v=Sa(n.filter(Q=>!Z.has(Q.url)),{keys:["name","description","url"]}))}},[c,a,f,d,m,v,_,$,k,S,A,o,i,n,R,C,T,B,L,j,V]}class zY extends ut{constructor(e){super(),lt(this,e,jY,HY,ft,{pubkey:11,nevent:12})}}function ew(r,e,t){const n=r.slice();return n[2]=e[t],n}function tw(r){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function rw(r){let e,t;return e=new wv({props:{person:r[2]}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.person=n[2]),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function qY(r){let e,t,n=r[0]||[],o=[];for(let f=0;f<n.length;f+=1)o[f]=rw(ew(r,n,f));const i=f=>z(o[f],1,1,()=>{o[f]=null});let a=null;return n.length||(a=tw()),{c(){for(let f=0;f<o.length;f+=1)o[f].c();e=dt(),a&&a.c()},m(f,c){for(let d=0;d<o.length;d+=1)o[d].m(f,c);F(f,e,c),a&&a.m(f,c),t=!0},p(f,c){if(c&1){n=f[0]||[];let d;for(d=0;d<n.length;d+=1){const m=ew(f,n,d);o[d]?(o[d].p(m,c),O(o[d],1)):(o[d]=rw(m),o[d].c(),O(o[d],1),o[d].m(e.parentNode,e))}for(tt(),d=n.length;d<o.length;d+=1)i(d);rt(),n.length?a&&(tt(),z(a,1,1,()=>{a=null}),rt()):a||(a=tw(),a.c(),O(a,1),a.m(e.parentNode,e))}},i(f){if(!t){for(let c=0;c<n.length;c+=1)O(o[c]);t=!0}},o(f){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)z(o[c]);t=!1},d(f){yn(o,f),f&&D(e),a&&a.d(f)}}}function KY(r){let e,t;return e=new At({props:{gap:2,$$slots:{default:[qY]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&257&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function WY(r,e,t){let n,{type:o}=e,{pubkey:i}=e,a=[];const f=Br(i),c=on("people",d=>tn(m=>m.kind0?0:1,a.map(Br)));return _t(r,c,d=>t(0,n=d)),jr(async()=>{o==="follows"?(a=Pr.wrap(f.petnames).values().all(),c.refresh()):await Cr.load({shouldProcess:!1,relays:An(Ji(i)),filter:[{kinds:[3],"#p":[i]}],onChunk:d=>{a=$o(a.concat(Ar("pubkey",d))),c.refresh()}}),Cr.loadPeople(a)}),r.$$set=d=>{"type"in d&&t(3,o=d.type),"pubkey"in d&&t(4,i=d.pubkey)},[n,c,f,o,i]}class _M extends ut{constructor(e){super(),lt(this,e,WY,KY,ft,{type:3,pubkey:4})}}function nw(r,e,t){const n=r.slice();return n[12]=e[t],n}function VY(r){let e,t,n;return{c(){e=K("button"),q(e,"class","fa-solid fa-copy cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[8]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function iw(r){let e,t,n,o,i,a,f,c,d;return{c(){e=K("div"),t=K("div"),t.textContent="nprofile",n=oe(),o=K("div"),i=K("button"),a=oe(),f=Le(r[3]),q(t,"class","mb-1 text-lg"),q(i,"class","fa-solid fa-copy inline cursor-pointer"),q(o,"class","break-all font-mono text-sm")},m(m,v){F(m,e,v),I(e,t),I(e,n),I(e,o),I(o,i),I(o,a),I(o,f),c||(d=ct(i,"click",r[9]),c=!0)},p(m,v){v&8&&Mt(f,m[3])},d(m){m&&D(e),c=!1,d()}}}function ZY(r){let e;return{c(){e=K("p"),e.innerHTML=`<i class="fa-solid fa-info-circle"></i>
        NIP05 identifier not available.`,q(e,"class","mb-4 text-sm text-gray-1")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function GY(r){let e,t,n,o,i,a=(r[0].verified_as||"?")+"",f,c,d,m,v,_,$,k=(r[2]||"?")+"",S,A,R,C,T,B,L=r[0].verified_as&&ow(r),j=r[2]&&sw(r);const V=[JY,YY],Z=[];function Q(ne,w){return ne[1]?0:1}return R=Q(r),C=Z[R]=V[R](r),{c(){e=K("div"),t=K("div"),t.textContent="NIP05 Identifier",n=oe(),o=K("div"),L&&L.c(),i=oe(),f=Le(a),c=oe(),d=K("div"),m=K("div"),m.textContent="NIP05 Validation Endpoint",v=oe(),_=K("div"),j&&j.c(),$=oe(),S=Le(k),A=oe(),C.c(),T=dt(),q(t,"class","mb-1 text-lg"),q(o,"class","font-mono text-sm"),q(m,"class","mb-1 text-lg"),q(_,"class","font-mono text-sm")},m(ne,w){F(ne,e,w),I(e,t),I(e,n),I(e,o),L&&L.m(o,null),I(o,i),I(o,f),F(ne,c,w),F(ne,d,w),I(d,m),I(d,v),I(d,_),j&&j.m(_,null),I(_,$),I(_,S),F(ne,A,w),Z[R].m(ne,w),F(ne,T,w),B=!0},p(ne,w){ne[0].verified_as?L?L.p(ne,w):(L=ow(ne),L.c(),L.m(o,i)):L&&(L.d(1),L=null),(!B||w&1)&&a!==(a=(ne[0].verified_as||"?")+"")&&Mt(f,a),ne[2]?j?j.p(ne,w):(j=sw(ne),j.c(),j.m(_,$)):j&&(j.d(1),j=null),(!B||w&4)&&k!==(k=(ne[2]||"?")+"")&&Mt(S,k);let s=R;R=Q(ne),R===s?Z[R].p(ne,w):(tt(),z(Z[s],1,1,()=>{Z[s]=null}),rt(),C=Z[R],C?C.p(ne,w):(C=Z[R]=V[R](ne),C.c()),O(C,1),C.m(T.parentNode,T))},i(ne){B||(O(C),B=!0)},o(ne){z(C),B=!1},d(ne){ne&&D(e),L&&L.d(),ne&&D(c),ne&&D(d),j&&j.d(),ne&&D(A),Z[R].d(ne),ne&&D(T)}}}function ow(r){let e,t,n;return{c(){e=K("button"),q(e,"class","fa-solid fa-copy inline cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[10]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function sw(r){let e,t,n;return{c(){e=K("button"),q(e,"class","fa-solid fa-copy inline cursor-pointer")},m(o,i){F(o,e,i),t||(n=ct(e,"click",r[11]),t=!0)},p:Fe,d(o){o&&D(e),t=!1,n()}}}function YY(r){let e;return{c(){e=K("p"),e.innerHTML=`<i class="fa-solid fa-warning mr-2 text-warning"></i>
          Could not fetch NIP05 data.`},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function JY(r){let e,t,n,o,i,a;const f=[QY,XY],c=[];function d(m,v){var _,$;return($=(_=m[1])==null?void 0:_.relays)!=null&&$.length?0:1}return o=d(r),i=c[o]=f[o](r),{c(){e=K("div"),t=K("div"),t.textContent="NIP05 Relay Configuration",n=oe(),i.c(),q(t,"class","mb-2 text-lg")},m(m,v){F(m,e,v),I(e,t),I(e,n),c[o].m(e,null),a=!0},p(m,v){let _=o;o=d(m),o===_?c[o].p(m,v):(tt(),z(c[_],1,1,()=>{c[_]=null}),rt(),i=c[o],i?i.p(m,v):(i=c[o]=f[o](m),i.c()),O(i,1),i.m(e,null))},i(m){a||(O(i),a=!0)},o(m){z(i),a=!1},d(m){m&&D(e),c[o].d()}}}function XY(r){let e;return{c(){e=K("p"),e.innerHTML=`<i class="fa-solid fa-info-circle"></i>
              No relays are advertised by the NIP05 identifier&#39;s validation endpoint.`,q(e,"class","mb-4 text-sm text-gray-1")},m(t,n){F(t,e,n)},p:Fe,i:Fe,o:Fe,d(t){t&&D(e)}}}function QY(r){var c;let e,t,n,o,i=(c=r[1])==null?void 0:c.relays,a=[];for(let d=0;d<i.length;d+=1)a[d]=aw(nw(r,i,d));const f=d=>z(a[d],1,1,()=>{a[d]=null});return{c(){e=K("p"),e.textContent="These relays are advertised by the NIP05 identifier's validation endpoint.",t=oe(),n=K("div");for(let d=0;d<a.length;d+=1)a[d].c();q(e,"class","mb-4 text-sm text-gray-1"),q(n,"class","grid grid-cols-1 gap-4")},m(d,m){F(d,e,m),F(d,t,m),F(d,n,m);for(let v=0;v<a.length;v+=1)a[v].m(n,null);o=!0},p(d,m){var v;if(m&2){i=(v=d[1])==null?void 0:v.relays;let _;for(_=0;_<i.length;_+=1){const $=nw(d,i,_);a[_]?(a[_].p($,m),O(a[_],1)):(a[_]=aw($),a[_].c(),O(a[_],1),a[_].m(n,null))}for(tt(),_=i.length;_<a.length;_+=1)f(_);rt()}},i(d){if(!o){for(let m=0;m<i.length;m+=1)O(a[m]);o=!0}},o(d){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)z(a[m]);o=!1},d(d){d&&D(e),d&&D(t),d&&D(n),yn(a,d)}}}function aw(r){let e,t;return e=new ul({props:{relay:{url:r[12]}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&2&&(i.relay={url:n[12]}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function eJ(r){let e,t,n,o,i,a,f,c,d=r[0].pubkey+"",m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q,ne,w,s=r[5]&&VY(r),u=r[3]&&iw(r);const h=[GY,ZY],p=[];function g(M,x){return M[4]&&M[0].verified_as?0:1}return j=g(r),V=p[j]=h[j](r),{c(){e=K("h1"),e.textContent="Profile Details",t=oe(),n=K("div"),o=K("div"),o.textContent="Public Key (Hex)",i=oe(),a=K("div"),f=K("button"),c=oe(),m=Le(d),v=oe(),_=K("div"),$=K("div"),$.textContent="Public Key (npub)",k=oe(),S=K("div"),s&&s.c(),A=oe(),R=Le(r[5]),C=oe(),u&&u.c(),T=oe(),B=K("h1"),B.textContent="NIP05",L=oe(),V.c(),Z=dt(),q(e,"class","staatliches text-2xl"),q(o,"class","mb-1 text-lg"),q(f,"class","fa-solid fa-copy cursor-pointer"),q(a,"class","font-mono text-sm"),q($,"class","mb-1 text-lg"),q(S,"class","font-mono text-sm"),q(B,"class","staatliches mt-4 text-2xl")},m(M,x){F(M,e,x),F(M,t,x),F(M,n,x),I(n,o),I(n,i),I(n,a),I(a,f),I(a,c),I(a,m),F(M,v,x),F(M,_,x),I(_,$),I(_,k),I(_,S),s&&s.m(S,null),I(S,A),I(S,R),F(M,C,x),u&&u.m(M,x),F(M,T,x),F(M,B,x),F(M,L,x),p[j].m(M,x),F(M,Z,x),Q=!0,ne||(w=ct(f,"click",r[7]),ne=!0)},p(M,x){(!Q||x&1)&&d!==(d=M[0].pubkey+"")&&Mt(m,d),M[5]&&s.p(M,x),M[3]?u?u.p(M,x):(u=iw(M),u.c(),u.m(T.parentNode,T)):u&&(u.d(1),u=null);let y=j;j=g(M),j===y?p[j].p(M,x):(tt(),z(p[y],1,1,()=>{p[y]=null}),rt(),V=p[j],V?V.p(M,x):(V=p[j]=h[j](M),V.c()),O(V,1),V.m(Z.parentNode,Z))},i(M){Q||(O(V),Q=!0)},o(M){z(V),Q=!1},d(M){M&&D(e),M&&D(t),M&&D(n),M&&D(v),M&&D(_),s&&s.d(),M&&D(C),u&&u.d(M),M&&D(T),M&&D(B),M&&D(L),p[j].d(M),M&&D(Z),ne=!1,w()}}}function tJ(r){let e,t,n,o;return t=new At({props:{$$slots:{default:[eJ]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment)},m(i,a){F(i,e,a),ae(t,e,null),o=!0},p(i,[a]){const f={};a&32799&&(f.$$scope={dirty:a,ctx:i}),t.$set(f)},i(i){o||(O(t.$$.fragment,i),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(i){z(t.$$.fragment,i),o=!1},d(i){i&&D(e),fe(t)}}}function rJ(r){if(!r)return null;let e,t;return r.match(/^.*@.*$/)?[e,t]=r.split("@"):[e,t]=["_",r],`https://${t}/.well-known/nostr.json?name=${e}`}function nJ(r,e,t){let{person:n}=e,o=null,i=null,a=null,f=br.npubEncode(n.pubkey),c=!1;jr(()=>{n&&n.verified_as?(t(2,i=rJ(n.verified_as)),t(3,a=br.nprofileEncode({pubkey:n.pubkey,relays:n.relays})),C0.queryProfile(n.verified_as).then(S=>{var A;t(1,o=S),(A=o==null?void 0:o.relays)!=null&&A.length&&t(3,a=br.nprofileEncode({pubkey:n.pubkey,relays:o.relays}))}).catch(S=>{Ei("NIP05 profile retrieval failed")}).finally(()=>{t(4,c=!0)})):t(4,c=!0)});function d(S){ju(S),en.show("info","Copied.")}const m=()=>d(n.pubkey),v=()=>d(f),_=()=>d(a),$=()=>d(n.verified_as),k=()=>d(i);return r.$$set=S=>{"person"in S&&t(0,n=S.person)},[n,o,i,a,c,f,d,m,v,_,$,k]}class iJ extends ut{constructor(e){super(),lt(this,e,nJ,tJ,ft,{person:0})}}function oJ(r){let e,t,n,o;return e=new cM({props:{code:r[0]}}),{c(){le(e.$$.fragment),t=oe(),n=K("div"),n.textContent="Copy or scan from a nostr app to share this profile.",q(n,"class","text-center text-gray-1")},m(i,a){ae(e,i,a),F(i,t,a),F(i,n,a),o=!0},p:Fe,i(i){o||(O(e.$$.fragment,i),o=!0)},o(i){z(e.$$.fragment,i),o=!1},d(i){fe(e,i),i&&D(t),i&&D(n)}}}function sJ(r){let e,t;return e=new At({props:{size:"lg",$$slots:{default:[oJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&16&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function aJ(r,e,t){let{person:n}=e;const{pubkey:o}=n,i=[Ar("url",Ji(o))],a=br.nprofileEncode({pubkey:o,relays:i});return r.$$set=f=>{"person"in f&&t(1,n=f.person)},[a,n]}class fJ extends ut{constructor(e){super(),lt(this,e,aJ,sJ,ft,{person:1})}}function lJ(r){let e;return{c(){e=Le("Add a relay")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function uJ(r){let e;return{c(){e=K("i"),q(e,"slot","before"),q(e,"class","fa-solid fa-link")},m(t,n){F(t,e,n)},p:Fe,d(t){t&&D(e)}}}function cJ(r){let e;return{c(){e=Le("Done")},m(t,n){F(t,e,n)},d(t){t&&D(e)}}}function hJ(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k;t=new Kn({props:{$$slots:{default:[lJ]},$$scope:{ctx:r}}});function S(R){r[2](R)}let A={autofocus:!0,placeholder:"wss://relay.example.com",$$slots:{before:[uJ]},$$scope:{ctx:r}};return r[0]!==void 0&&(A.value=r[0]),c=new Kr({props:A}),Ct.push(()=>Er(c,"value",S)),$=new cl({props:{type:"submit",class:"text-center",$$slots:{default:[cJ]},$$scope:{ctx:r}}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),o=K("div"),i=K("div"),a=K("strong"),a.textContent="Relay URL",f=oe(),le(c.$$.fragment),m=oe(),v=K("p"),v.textContent="The url where the relay is hosted.",_=oe(),le($.$$.fragment),q(e,"class","mb-4 flex flex-col items-center justify-center"),q(v,"class","text-sm text-gray-1"),q(i,"class","flex flex-col gap-1"),q(o,"class","flex w-full flex-col gap-8")},m(R,C){F(R,e,C),ae(t,e,null),F(R,n,C),F(R,o,C),I(o,i),I(i,a),I(i,f),ae(c,i,null),I(i,m),I(i,v),I(o,_),ae($,o,null),k=!0},p(R,C){const T={};C&16&&(T.$$scope={dirty:C,ctx:R}),t.$set(T);const B={};C&16&&(B.$$scope={dirty:C,ctx:R}),!d&&C&1&&(d=!0,B.value=R[0],Sr(()=>d=!1)),c.$set(B);const L={};C&16&&(L.$$scope={dirty:C,ctx:R}),$.$set(L)},i(R){k||(O(t.$$.fragment,R),O(c.$$.fragment,R),O($.$$.fragment,R),k=!0)},o(R){z(t.$$.fragment,R),z(c.$$.fragment,R),z($.$$.fragment,R),k=!1},d(R){R&&D(e),fe(t),R&&D(n),R&&D(o),fe(c),fe($)}}}function dJ(r){let e,t,n,o,i,a;return t=new At({props:{$$slots:{default:[hJ]},$$scope:{ctx:r}}}),{c(){e=K("form"),le(t.$$.fragment)},m(f,c){F(f,e,c),ae(t,e,null),o=!0,i||(a=ct(e,"submit",r[1]),i=!0)},p(f,[c]){const d={};c&17&&(d.$$scope={dirty:c,ctx:f}),t.$set(d)},i(f){o||(O(t.$$.fragment,f),n||Nt(()=>{n=_r(e,Qt,{y:20}),n.start()}),o=!0)},o(f){z(t.$$.fragment,f),o=!1},d(f){f&&D(e),fe(t),i=!1,a()}}}function pJ(r,e,t){let n;_t(r,Xt,f=>t(3,n=f));let o=n.url;const i=async f=>{var c;f.preventDefault(),t(0,o=o.trim()),o.includes("://")||t(0,o="wss://"+o);try{new URL(o)}catch{return en.show("error","That isn't a valid url")}if(!o.match("^wss?://"))return en.show("error","That isn't a valid websocket url");Xt.set(null),await at.addRelay(o),(c=at.getProfile())!=null&&c.kind0||Zu(at.getPubkey())};function a(f){o=f,t(0,o)}return[o,i,a]}class mJ extends ut{constructor(e){super(),lt(this,e,pJ,dJ,ft,{})}}function fw(r){let e,t,n,o,i,a,f,c,d,m,v,_,$,k,S,A,R,C,T,B,L,j,V,Z,Q,ne,w,s,u,h,p,g,M,x,y,l,b,E,P;return t=new fn({props:{path:"/notifications",component:FU}}),o=new fn({props:{path:"/search",$$slots:{default:[gJ]},$$scope:{ctx:r}}}),a=new fn({props:{path:"/scan",$$slots:{default:[bJ]},$$scope:{ctx:r}}}),c=new fn({props:{path:"/notes/:activeTab",$$slots:{default:[wJ,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),m=new fn({props:{path:"/people/:npub/:activeTab",$$slots:{default:[MJ,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),_=new fn({props:{path:"/chat",component:WK}}),k=new fn({props:{path:"/chat/:entity",$$slots:{default:[$J,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),A=new fn({props:{path:"/messages",component:nV}}),C=new fn({props:{path:"/messages/:entity",$$slots:{default:[xJ,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),B=new fn({props:{path:"/keys",component:xW}}),j=new fn({props:{path:"/relays",component:qV}}),Z=new fn({props:{path:"/relays/:b64url",$$slots:{default:[kJ,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),ne=new fn({props:{path:"/profile",component:MZ}}),s=new fn({props:{path:"/settings",component:TZ}}),h=new fn({props:{path:"/login",component:TW}}),g=new fn({props:{path:"/logout",component:UW}}),x=new fn({props:{path:"/debug",component:YK}}),l=new fn({props:{path:"/:entity",$$slots:{default:[SJ,({params:H})=>({9:H}),({params:H})=>H?512:0]},$$scope:{ctx:r}}}),E=new fn({props:{path:"*",component:oV}}),{c(){e=K("div"),le(t.$$.fragment),n=oe(),le(o.$$.fragment),i=oe(),le(a.$$.fragment),f=oe(),le(c.$$.fragment),d=oe(),le(m.$$.fragment),v=oe(),le(_.$$.fragment),$=oe(),le(k.$$.fragment),S=oe(),le(A.$$.fragment),R=oe(),le(C.$$.fragment),T=oe(),le(B.$$.fragment),L=oe(),le(j.$$.fragment),V=oe(),le(Z.$$.fragment),Q=oe(),le(ne.$$.fragment),w=oe(),le(s.$$.fragment),u=oe(),le(h.$$.fragment),p=oe(),le(g.$$.fragment),M=oe(),le(x.$$.fragment),y=oe(),le(l.$$.fragment),b=oe(),le(E.$$.fragment),q(e,"class","pt-16 text-gray-3 lg:ml-56")},m(H,ee){F(H,e,ee),ae(t,e,null),I(e,n),ae(o,e,null),I(e,i),ae(a,e,null),I(e,f),ae(c,e,null),I(e,d),ae(m,e,null),I(e,v),ae(_,e,null),I(e,$),ae(k,e,null),I(e,S),ae(A,e,null),I(e,R),ae(C,e,null),I(e,T),ae(B,e,null),I(e,L),ae(j,e,null),I(e,V),ae(Z,e,null),I(e,Q),ae(ne,e,null),I(e,w),ae(s,e,null),I(e,u),ae(h,e,null),I(e,p),ae(g,e,null),I(e,M),ae(x,e,null),I(e,y),ae(l,e,null),I(e,b),ae(E,e,null),P=!0},p(H,ee){const Y={};ee&1024&&(Y.$$scope={dirty:ee,ctx:H}),o.$set(Y);const re={};ee&1024&&(re.$$scope={dirty:ee,ctx:H}),a.$set(re);const Me={};ee&1536&&(Me.$$scope={dirty:ee,ctx:H}),c.$set(Me);const de={};ee&1536&&(de.$$scope={dirty:ee,ctx:H}),m.$set(de);const _e={};ee&1536&&(_e.$$scope={dirty:ee,ctx:H}),k.$set(_e);const te={};ee&1536&&(te.$$scope={dirty:ee,ctx:H}),C.$set(te);const X={};ee&1536&&(X.$$scope={dirty:ee,ctx:H}),Z.$set(X);const ye={};ee&1536&&(ye.$$scope={dirty:ee,ctx:H}),l.$set(ye)},i(H){P||(O(t.$$.fragment,H),O(o.$$.fragment,H),O(a.$$.fragment,H),O(c.$$.fragment,H),O(m.$$.fragment,H),O(_.$$.fragment,H),O(k.$$.fragment,H),O(A.$$.fragment,H),O(C.$$.fragment,H),O(B.$$.fragment,H),O(j.$$.fragment,H),O(Z.$$.fragment,H),O(ne.$$.fragment,H),O(s.$$.fragment,H),O(h.$$.fragment,H),O(g.$$.fragment,H),O(x.$$.fragment,H),O(l.$$.fragment,H),O(E.$$.fragment,H),P=!0)},o(H){z(t.$$.fragment,H),z(o.$$.fragment,H),z(a.$$.fragment,H),z(c.$$.fragment,H),z(m.$$.fragment,H),z(_.$$.fragment,H),z(k.$$.fragment,H),z(A.$$.fragment,H),z(C.$$.fragment,H),z(B.$$.fragment,H),z(j.$$.fragment,H),z(Z.$$.fragment,H),z(ne.$$.fragment,H),z(s.$$.fragment,H),z(h.$$.fragment,H),z(g.$$.fragment,H),z(x.$$.fragment,H),z(l.$$.fragment,H),z(E.$$.fragment,H),P=!1},d(H){H&&D(e),fe(t),fe(o),fe(a),fe(c),fe(m),fe(_),fe(k),fe(A),fe(C),fe(B),fe(j),fe(Z),fe(ne),fe(s),fe(h),fe(g),fe(x),fe(l),fe(E)}}}function vJ(r){let e,t;return e=new gV({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function gJ(r){let e,t;return e=new Mv({props:{enforcePeople:!1,$$slots:{default:[vJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1024&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function yJ(r){let e,t;return e=new xV({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function bJ(r){let e,t;return e=new Mv({props:{enforcePeople:!1,$$slots:{default:[yJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1024&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function _J(r){let e,t;return e=new cW({props:{activeTab:r[9].activeTab}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.activeTab=n[9].activeTab),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function wJ(r){let e,t;return e=new Mv({props:{$$slots:{default:[_J]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1536&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function lw(r){let e,t;return e=new bv({props:{npub:r[9].npub,activeTab:r[9].activeTab}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.npub=n[9].npub),o&512&&(i.activeTab=n[9].activeTab),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function MJ(r){let e=r[9].npub,t,n,o=lw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&512&&ft(e,e=i[9].npub)?(tt(),z(o,1,1,Fe),rt(),o=lw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function uw(r){let e,t;return e=new PK({props:{entity:r[9].entity}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.entity=n[9].entity),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function $J(r){let e=r[9].entity,t,n,o=uw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&512&&ft(e,e=i[9].entity)?(tt(),z(o,1,1,Fe),rt(),o=uw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function cw(r){let e,t;return e=new WW({props:{entity:r[9].entity}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.entity=n[9].entity),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function xJ(r){let e=r[9].entity,t,n,o=cw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&512&&ft(e,e=i[9].entity)?(tt(),z(o,1,1,Fe),rt(),o=cw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function hw(r){let e,t;return e=new LV({props:{url:atob(r[9].b64url)}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.url=atob(n[9].b64url)),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function kJ(r){let e=r[9].b64url,t,n,o=hw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&512&&ft(e,e=i[9].b64url)?(tt(),z(o,1,1,Fe),rt(),o=hw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function dw(r){let e,t;return e=new yK({props:{entity:r[9].entity}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&512&&(i.entity=n[9].entity),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function SJ(r){let e=r[9].entity,t,n,o=dw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&512&&ft(e,e=i[9].entity)?(tt(),z(o,1,1,Fe),rt(),o=dw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function pw(r){let e,t;return e=new Lo({props:{onEscape:r[2].noEscape?null:r[3],$$slots:{default:[HJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.onEscape=n[2].noEscape?null:n[3]),o&1028&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function EJ(r){let e,t;return e=new At({props:{size:"lg",$$slots:{default:[UJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&1028&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function AJ(r){let e,t;return e=new _M({props:{type:"followers",pubkey:r[2].pubkey}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.pubkey=n[2].pubkey),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function BJ(r){let e,t;return e=new _M({props:{type:"follows",pubkey:r[2].pubkey}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.pubkey=n[2].pubkey),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function RJ(r){let e,t;return e=new fJ({props:{person:r[2].person}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.person=n[2].person),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function CJ(r){let e,t;return e=new iJ({props:{person:r[2].person}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.person=n[2].person),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function PJ(r){let e,t;return e=new yG({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function TJ(r){let e,t;return e=new OG({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function OJ(r){let e,t;return e=new EG({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function IJ(r){let e,t;const n=[r[2]];let o={};for(let i=0;i<n.length;i+=1)o=Ft(o,n[i]);return e=new QZ({props:o}),{c(){le(e.$$.fragment)},m(i,a){ae(e,i,a),t=!0},p(i,a){const f=a&4?ai(n,[th(i[2])]):{};e.$set(f)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function LJ(r){let e,t;return e=new CY({props:{stage:r[2].stage}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.stage=n[2].stage),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function NJ(r){let e,t;return e=new mJ({}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p:Fe,i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function DJ(r){let e,t;return e=new zY({props:{pubkey:r[2].pubkey,nevent:r[2].nevent}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,o){const i={};o&4&&(i.pubkey=n[2].pubkey),o&4&&(i.nevent=n[2].nevent),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function FJ(r){let e=r[2].note.id,t,n,o=vw(r);return{c(){o.c(),t=dt()},m(i,a){o.m(i,a),F(i,t,a),n=!0},p(i,a){a&4&&ft(e,e=i[2].note.id)?(tt(),z(o,1,1,Fe),rt(),o=vw(i),o.c(),O(o,1),o.m(t.parentNode,t)):o.p(i,a)},i(i){n||(O(o),n=!0)},o(i){z(o),n=!1},d(i){i&&D(t),o.d(i)}}}function mw(r){let e,t;return e=new ei({props:{delay:0}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function UJ(r){let e,t=r[2].message+"",n,o,i,a,f=r[2].spinner&&mw();return{c(){e=K("div"),n=Le(t),o=oe(),f&&f.c(),i=dt(),q(e,"class","text-center")},m(c,d){F(c,e,d),I(e,n),F(c,o,d),f&&f.m(c,d),F(c,i,d),a=!0},p(c,d){(!a||d&4)&&t!==(t=c[2].message+"")&&Mt(n,t),c[2].spinner?f?d&4&&O(f,1):(f=mw(),f.c(),O(f,1),f.m(i.parentNode,i)):f&&(tt(),z(f,1,1,()=>{f=null}),rt())},i(c){a||(O(f),a=!0)},o(c){z(f),a=!1},d(c){c&&D(e),c&&D(o),f&&f.d(c),c&&D(i)}}}function vw(r){let e,t;const n=[r[2],{invertColors:!0}];let o={};for(let i=0;i<n.length;i+=1)o=Ft(o,n[i]);return e=new gv({props:o}),{c(){le(e.$$.fragment)},m(i,a){ae(e,i,a),t=!0},p(i,a){const f=a&4?ai(n,[th(i[2]),n[1]]):{};e.$set(f)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){z(e.$$.fragment,i),t=!1},d(i){fe(e,i)}}}function HJ(r){let e,t,n,o;const i=[FJ,DJ,NJ,LJ,IJ,OJ,TJ,PJ,CJ,RJ,BJ,AJ,EJ],a=[];function f(c,d){return c[2].type==="note/detail"?0:c[2].type==="note/create"?1:c[2].type==="relay/add"?2:c[2].type==="onboarding"?3:c[2].type==="room/edit"?4:c[2].type==="login/privkey"?5:c[2].type==="login/pubkey"?6:c[2].type==="login/connect"?7:c[2].type==="person/info"?8:c[2].type==="person/share"?9:c[2].type==="person/follows"?10:c[2].type==="person/followers"?11:c[2].type==="message"?12:-1}return~(e=f(r))&&(t=a[e]=i[e](r)),{c(){t&&t.c(),n=dt()},m(c,d){~e&&a[e].m(c,d),F(c,n,d),o=!0},p(c,d){let m=e;e=f(c),e===m?~e&&a[e].p(c,d):(t&&(tt(),z(a[m],1,1,()=>{a[m]=null}),rt()),~e?(t=a[e],t?t.p(c,d):(t=a[e]=i[e](c),t.c()),O(t,1),t.m(n.parentNode,n)):t=null)},i(c){o||(O(t),o=!0)},o(c){z(t),o=!1},d(c){~e&&a[e].d(c),c&&D(n)}}}function jJ(r){let e,t,n,o,i,a,f,c,d,m,v,_=r[1]&&fw(r);n=new FZ({}),i=new VZ({});let $=r[2]&&pw(r);return c=new qZ({}),{c(){e=K("div"),_&&_.c(),t=oe(),le(n.$$.fragment),o=oe(),le(i.$$.fragment),a=oe(),$&&$.c(),f=oe(),le(c.$$.fragment)},m(k,S){F(k,e,S),_&&_.m(e,null),I(e,t),ae(n,e,null),I(e,o),ae(i,e,null),I(e,a),$&&$.m(e,null),I(e,f),ae(c,e,null),d=!0,m||(v=JM(I$.call(null,e)),m=!0)},p(k,S){k[1]?_?(_.p(k,S),S&2&&O(_,1)):(_=fw(k),_.c(),O(_,1),_.m(e,t)):_&&(tt(),z(_,1,1,()=>{_=null}),rt()),k[2]?$?($.p(k,S),S&4&&O($,1)):($=pw(k),$.c(),O($,1),$.m(e,f)):$&&(tt(),z($,1,1,()=>{$=null}),rt())},i(k){d||(O(_),O(n.$$.fragment,k),O(i.$$.fragment,k),O($),O(c.$$.fragment,k),d=!0)},o(k){z(_),z(n.$$.fragment,k),z(i.$$.fragment,k),z($),z(c.$$.fragment,k),d=!1},d(k){k&&D(e),_&&_.d(),fe(n),fe(i),$&&$.d(),fe(c),m=!1,v()}}}function zJ(r){let e,t;return e=new S$({props:{url:r[0],$$slots:{default:[jJ]},$$scope:{ctx:r}}}),{c(){le(e.$$.fragment)},m(n,o){ae(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.url=n[0]),o&1030&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){fe(e,n)}}}function qJ(r,e,t){let n,o;_t(r,Jm,v=>t(4,n=v)),_t(r,Xt,v=>t(2,o=v)),Object.assign(window,{cmd:jn,user:at,keys:mn,network:Cr,pool:Tr,sync:j0,tables:MN,bech32ToHex:b3,hexToBech32:y3});let{url:i=""}=e,a=!1,f;const c=async()=>{Xt.clear(),kh.set(!1)},d=document.createElement("style");document.head.append(d);const m=new Set;return Tr.Config.authHandler=async(v,_)=>{if(!m.has(_)){m.add(_);const $=await jn.authenticate(v,_);return kt.exports.first($.publish([{url:v}],null,"AUTH"))}},jr(()=>{const v=Xt.subscribe(k=>{k?(hp(btoa(["modal",k.type].join(":"))),document.body.style.position!=="fixed"&&(f=window.scrollY,document.body.style.top=`-${f}px`,document.body.style.position="fixed")):(document.body.setAttribute("style",""),window.scrollTo(0,f))}),_=()=>location.pathname.slice(1).replace(/(npub|nprofile|note|nevent)[^\/]+/g,(k,S)=>`<${S}>`),$=Yl.listen(({location:k})=>{k.hash||hp(btoa(["page",_()].join(":")))});return hp(btoa(["page",_()].join(":"))),()=>{$(),v()}}),v5(()=>{t(1,a=!0),$N();const v=at.getPubkey();if(v){Zu(v);const $=Ta.get(v);$&&at.getRelays().length===0&&at.profile.update(k=>({...k,...$}))}const _=setInterval(async()=>{const{dufflepudUrl:$}=at.getSettings();if(!$)return;const k=Xf(await Ns.all({"refreshed_at:lt":dn()-Hs(7,"days")})).slice(0,10),S=await Promise.all(k.map(async({url:A})=>{try{return{...await(await fetch($+"/relay/info",{method:"POST",body:JSON.stringify({url:A}),headers:{"Content-Type":"application/json"}})).json(),url:A,refreshed_at:dn()}}catch(R){return R.toString().includes("Failed to fetch")||Ei(R),{url:A,refreshed_at:dn()}}}));Ns.bulkPatch(S.filter(oi))},3e4);return()=>{clearInterval(_)}}),r.$$set=v=>{"url"in v&&t(0,i=v.url)},r.$$.update=()=>{r.$$.dirty&16&&(d.textContent=`:root { ${sD(n)}; background: var(--gray-8); }`)},[i,a,o,c,n]}class KJ extends ut{constructor(e){super(),lt(this,e,qJ,zJ,ft,{url:0})}}_w.start({apiKey:"2ea412feabfe14dc9849c6f0b4fa7003",collectUserIp:!1});window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),s1.set(r)});new KJ({target:document.getElementById("app")})});export default WJ();
//# sourceMappingURL=index.e2c04f4d.js.map
